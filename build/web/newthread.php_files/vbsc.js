if("undefined"==typeof YAHOO||!YAHOO)var YAHOO={};YAHOO.namespace=function(){var a=arguments,b=null,c,d,e;for(c=0;c<a.length;c+=1){e=(""+a[c]).split(".");b=YAHOO;for(d="YAHOO"==e[0]?1:0;d<e.length;d+=1)b[e[d]]=b[e[d]]||{},b=b[e[d]]}return b};YAHOO.log=function(a,b,c){var d=YAHOO.widget.Logger;return d&&d.log?d.log(a,b,c):!1};
YAHOO.register=function(a,b,c){var d=YAHOO.env.modules,e,f,g;d[a]||(d[a]={versions:[],builds:[]});d=d[a];e=c.version;c=c.build;f=YAHOO.env.listeners;d.name=a;d.version=e;d.build=c;d.versions.push(e);d.builds.push(c);d.mainClass=b;for(g=0;g<f.length;g+=1)f[g](d);b?(b.VERSION=e,b.BUILD=c):YAHOO.log("mainClass is undefined for module "+a,"warn")};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null};
YAHOO.env.parseUA=function(a){var b=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 1==b++?"":"."}))},c=navigator,c={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:c&&c.cajaVersion,secure:!1,os:null},a=a||navigator&&navigator.userAgent,d=window&&window.location,d=d&&d.href;c.secure=d&&0===d.toLowerCase().indexOf("https");if(a){/windows|win32/i.test(a)?c.os="windows":/macintosh/i.test(a)?c.os="macintosh":/rhino/i.test(a)&&
(c.os="rhino");/KHTML/.test(a)&&(c.webkit=1);if((d=a.match(/AppleWebKit\/([^\s]*)/))&&d[1]){c.webkit=b(d[1]);if(/ Mobile\//.test(a)){if(c.mobile="Apple",(d=a.match(/OS ([^\s]*)/))&&d[1]&&(d=b(d[1].replace("_","."))),c.ios=d,c.ipad=c.ipod=c.iphone=0,(d=a.match(/iPad|iPod|iPhone/))&&d[0])c[d[0].toLowerCase()]=c.ios}else{if(d=a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))c.mobile=d[0];if(/webOS/.test(a)&&(c.mobile="WebOS",(d=a.match(/webOS\/([^\s]*);/))&&d[1]))c.webos=b(d[1]);if(/ Android/.test(a)&&
(c.mobile="Android",(d=a.match(/Android ([^\s]*);/))&&d[1]))c.android=b(d[1])}if((d=a.match(/Chrome\/([^\s]*)/))&&d[1])c.chrome=b(d[1]);else if(d=a.match(/AdobeAIR\/([^\s]*)/))c.air=d[0]}if(!c.webkit)if((d=a.match(/Opera[\s\/]([^\s]*)/))&&d[1]){c.opera=b(d[1]);if((d=a.match(/Version\/([^\s]*)/))&&d[1])c.opera=b(d[1]);if(d=a.match(/Opera Mini[^;]*/))c.mobile=d[0]}else if((d=a.match(/MSIE\s([^;]*)/))&&d[1])c.ie=b(d[1]);else if(d=a.match(/Gecko\/([^\s]*)/))if(c.gecko=1,(d=a.match(/rv:([^\s\)]*)/))&&
d[1])c.gecko=b(d[1])}return c};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var a=YAHOO_config.listener,b=YAHOO.env.listeners,c=!0,d;if(a){for(d=0;d<b.length;d++)if(b[d]==a){c=!1;break}c&&b.push(a)}}})();YAHOO.lang=YAHOO.lang||{};
(function(){var a=YAHOO.lang,b=Object.prototype,c=[],d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},e=["toString","valueOf"],f={isArray:function(a){return"[object Array]"===b.toString.apply(a)},isBoolean:function(a){return"boolean"===typeof a},isFunction:function(a){return"function"===typeof a||"[object Function]"===b.toString.apply(a)},isNull:function(a){return null===a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isObject:function(b){return b&&
("object"===typeof b||a.isFunction(b))||!1},isString:function(a){return"string"===typeof a},isUndefined:function(a){return"undefined"===typeof a},_IEEnumFix:YAHOO.env.ua.ie?function(c,d){var f,m,r;for(f=0;f<e.length;f+=1)m=e[f],r=d[m],a.isFunction(r)&&r!=b[m]&&(c[m]=r)}:function(){},escapeHTML:function(a){return a.replace(/[&<>"'\/`]/g,function(a){return d[a]})},extend:function(c,d,e){if(!d||!c)throw Error("extend failed, please check that all dependencies are included.");var f=function(){},r;f.prototype=
d.prototype;c.prototype=new f;c.prototype.constructor=c;c.superclass=d.prototype;d.prototype.constructor==b.constructor&&(d.prototype.constructor=d);if(e){for(r in e)a.hasOwnProperty(e,r)&&(c.prototype[r]=e[r]);a._IEEnumFix(c.prototype,e)}},augmentObject:function(b,c){if(!c||!b)throw Error("Absorb failed, verify dependencies.");var d=arguments,e,f=d[2];if(f&&!0!==f)for(e=2;e<d.length;e+=1)b[d[e]]=c[d[e]];else{for(e in c)if(f||!(e in b))b[e]=c[e];a._IEEnumFix(b,c)}return b},augmentProto:function(b,
c){if(!c||!b)throw Error("Augment failed, verify dependencies.");var d=[b.prototype,c.prototype],e;for(e=2;e<arguments.length;e+=1)d.push(arguments[e]);a.augmentObject.apply(this,d);return b},dump:function(b,c){var d,e,f=[];if(a.isObject(b)){if(b instanceof Date||"nodeType"in b&&"tagName"in b)return b;if(a.isFunction(b))return"f(){...}"}else return b+"";c=a.isNumber(c)?c:3;if(a.isArray(b)){f.push("[");d=0;for(e=b.length;d<e;d+=1)a.isObject(b[d])?f.push(0<c?a.dump(b[d],c-1):"{...}"):f.push(b[d]),f.push(", ");
1<f.length&&f.pop();f.push("]")}else{f.push("{");for(d in b)a.hasOwnProperty(b,d)&&(f.push(d+" => "),a.isObject(b[d])?f.push(0<c?a.dump(b[d],c-1):"{...}"):f.push(b[d]),f.push(", "));1<f.length&&f.pop();f.push("}")}return f.join("")},substitute:function(b,c,d,e){for(var f,s,q,n,o,l=[],k,t=b.length;;){f=b.lastIndexOf("{",t);if(0>f)break;s=b.indexOf("}",f);if(f+1>s)break;n=k=b.substring(f+1,s);o=null;q=n.indexOf(" ");-1<q&&(o=n.substring(q+1),n=n.substring(0,q));q=c[n];d&&(q=d(n,q,o));a.isObject(q)?
a.isArray(q)?q=a.dump(q,parseInt(o,10)):(o=o||"",n=o.indexOf("dump"),-1<n&&(o=o.substring(4)),k=q.toString(),q="[object Object]"===k||-1<n?a.dump(q,parseInt(o,10)):k):!a.isString(q)&&!a.isNumber(q)&&(q="~-"+l.length+"-~",l[l.length]=k);b=b.substring(0,f)+q+b.substring(s+1);!1===e&&(t=f-1)}for(f=l.length-1;0<=f;f-=1)b=b.replace(RegExp("~-"+f+"-~"),"{"+l[f]+"}","g");return b},trim:function(a){try{return a.replace(/^\s+|\s+$/g,"")}catch(b){return a}},merge:function(){var b={},c=arguments,d=c.length,
e;for(e=0;e<d;e+=1)a.augmentObject(b,c[e],!0);return b},later:function(b,d,e,f,r){var b=b||0,d=d||{},s=e,q=f,n;a.isString(e)&&(s=d[e]);if(!s)throw new TypeError("method undefined");!a.isUndefined(f)&&!a.isArray(q)&&(q=[f]);e=function(){s.apply(d,q||c)};n=r?setInterval(e,b):setTimeout(e,b);return{interval:r,cancel:function(){this.interval?clearInterval(n):clearTimeout(n)}}},isValue:function(b){return a.isObject(b)||a.isString(b)||a.isNumber(b)||a.isBoolean(b)}};a.hasOwnProperty=b.hasOwnProperty?function(a,
b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}:function(b,c){return!a.isUndefined(b[c])&&b.constructor.prototype[c]!==b[c]};f.augmentObject(a,f,!0);YAHOO.util.Lang=a;a.augment=a.augmentProto;YAHOO.augment=a.augmentProto;YAHOO.extend=a.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"});
YAHOO.util.Get=function(){var a={},b=0,c=0,d=!1,e=YAHOO.env.ua,f=YAHOO.lang,g,h,j,m=function(a,b,c){var a=(c||window).document.createElement(a),d;for(d in b)b.hasOwnProperty(d)&&a.setAttribute(d,b[d]);return a},r=function(a,b,d){a={id:"yui__dyn_"+c++,type:"text/javascript",src:a};d&&f.augmentObject(a,d);return m("script",a,b)},s=function(a,b){return{tId:a.tId,win:a.win,data:a.data,nodes:a.nodes,msg:b,purge:function(){h(this.tId)}}},q=function(b,c){var d=a[c];(d=f.isString(b)?d.win.document.getElementById(b):
b)||g(c,"target node not found: "+b);return d},n=function(b){YAHOO.log("Finishing transaction "+b);var c=a[b];c.finished=!0;c.aborted?g(b,"transaction "+b+" was aborted"):c.onSuccess&&(b=c.scope||c.win,c.onSuccess.call(b,s(c)))},o=function(b){YAHOO.log("Timeout "+b,"info","get");var b=a[b],c;b.onTimeout&&(c=b.scope||b,b.onTimeout.call(c,s(b)))},l=function(b,d){YAHOO.log("_next: "+b+", loaded: "+d,"info","Get");var k=a[b],s=k.win,h=s.document.getElementsByTagName("head")[0],w,v;k.timer&&k.timer.cancel();
if(k.aborted)g(b,"transaction "+b+" was aborted");else if(d?(k.url.shift(),k.varName&&k.varName.shift()):(k.url=f.isString(k.url)?[k.url]:k.url,k.varName&&(k.varName=f.isString(k.varName)?[k.varName]:k.varName)),0===k.url.length)"script"===k.type&&e.webkit&&420>e.webkit&&!k.finalpass&&!k.varName?(v=r(null,k.win,k.attributes),v.innerHTML='YAHOO.util.Get._finalize("'+b+'");',k.nodes.push(v),h.appendChild(v)):n(b);else{v=k.url[0];if(!v)return k.url.shift(),YAHOO.log("skipping empty url"),l(b);YAHOO.log("attempting to load "+
v,"info","Get");k.timeout&&(k.timer=f.later(k.timeout,k,o,b));if("script"===k.type)w=r(v,s,k.attributes);else{w=k.attributes;var A={id:"yui__dyn_"+c++,type:"text/css",rel:"stylesheet",href:v};w&&f.augmentObject(A,w);w=m("link",A,s)}j(k.type,w,b,v,s,k.url.length);k.nodes.push(w);k.insertBefore?(h=q(k.insertBefore,b))&&h.parentNode.insertBefore(w,h):h.appendChild(w);YAHOO.log("Appending node: "+v,"info","Get");(e.webkit||e.gecko)&&"css"===k.type&&l(b,v)}},k=function(c,e,m){var k="q"+b++,m=m||{};if(0===
b%YAHOO.util.Get.PURGE_THRESH&&!d){d=!0;var g,j;for(g in a)a.hasOwnProperty(g)&&(j=a[g],j.autopurge&&j.finished&&(h(j.tId),delete a[g]));d=!1}a[k]=f.merge(m,{tId:k,type:c,url:e,finished:!1,aborted:!1,nodes:[]});e=a[k];e.win=e.win||window;e.scope=e.scope||e.win;e.autopurge="autopurge"in e?e.autopurge:"script"===c?!0:!1;e.attributes=e.attributes||{};e.attributes.charset=m.charset||e.attributes.charset||"utf-8";f.later(0,e,l,k);return{tId:k}};j=function(b,c,d,m,k,j,s){var r=s||l,h,q,n,o,B,y;e.ie?c.onreadystatechange=
function(){h=this.readyState;if("loaded"===h||"complete"===h)YAHOO.log(d+" onload "+m,"info","Get"),c.onreadystatechange=null,r(d,m)}:e.webkit?"script"===b&&(420<=e.webkit?c.addEventListener("load",function(){YAHOO.log(d+" DOM2 onload "+m,"info","Get");r(d,m)}):(q=a[d],q.varName?(b=YAHOO.util.Get.POLL_FREQ,YAHOO.log("Polling for "+q.varName[0]),q.maxattempts=YAHOO.util.Get.TIMEOUT/b,q.attempts=0,q._cache=q.varName[0].split("."),q.timer=f.later(b,q,function(){n=this._cache;B=n.length;o=this.win;for(y=
0;y<B;y+=1)if(o=o[n[y]],!o){this.attempts++;this.attempts++>this.maxattempts?(q.timer.cancel(),g(d,"Over retry limit, giving up")):YAHOO.log(n[y]+" failed, retrying");return}YAHOO.log("Safari poll complete");q.timer.cancel();r(d,m)},null,!0)):f.later(YAHOO.util.Get.POLL_FREQ,null,r,[d,m]))):c.onload=function(){YAHOO.log(d+" onload "+m,"info","Get");r(d,m)}};g=function(b,c){YAHOO.log("get failure: "+c,"warn","Get");var d=a[b],e;d.onFailure&&(e=d.scope||d.win,d.onFailure.call(e,s(d,c)))};h=function(b){if(a[b]){var c=
a[b],d=c.nodes,e=d.length,f=c.win.document.getElementsByTagName("head")[0],m,l;if(c.insertBefore&&(b=q(c.insertBefore,b)))f=b.parentNode;for(b=0;b<e;b+=1){m=d[b];if(m.clearAttributes)m.clearAttributes();else for(l in m)m.hasOwnProperty(l)&&delete m[l];f.removeChild(m)}c.nodes=[]}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2E3,_finalize:function(a){YAHOO.log(a+" finalized ","info","Get");f.later(0,null,n,a)},abort:function(b){var b=f.isString(b)?b:b.tId,c=a[b];c&&(YAHOO.log("Aborting "+b,"info",
"Get"),c.aborted=!0)},script:function(a,b){return k("script",a,b)},css:function(a,b){return k("css",a,b)}}}();YAHOO.register("get",YAHOO.util.Get,{version:"2.9.0",build:"2800"});
(function(){var a,b,c,d,e,f=YAHOO,g=f.util,h=f.lang,j=f.env;e={yahoo:!0,get:!0};a={defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["reset","fonts","grids","base"],rollup:3};b={animation:{type:"js",path:"animation/animation-min.js",requires:["dom","event"]},autocomplete:{type:"js",path:"autocomplete/autocomplete-min.js",requires:["dom","event","datasource"],optional:["connection","animation"],skinnable:!0},base:{type:"css",path:"base/base-min.css",after:["reset","fonts","grids"]},button:{type:"js",
path:"button/button-min.js",requires:["element"],optional:["menu"],skinnable:!0},calendar:{type:"js",path:"calendar/calendar-min.js",requires:["event","dom"],supersedes:["datemath"],skinnable:!0},carousel:{type:"js",path:"carousel/carousel-min.js",requires:["element"],optional:["animation"],skinnable:!0},charts:{type:"js",path:"charts/charts-min.js",requires:["element","json","datasource","swf"]},colorpicker:{type:"js",path:"colorpicker/colorpicker-min.js",requires:["slider","element"],optional:["animation"],
skinnable:!0},connection:{type:"js",path:"connection/connection-min.js",requires:["event"],supersedes:["connectioncore"]},connectioncore:{type:"js",path:"connection/connection_core-min.js",requires:["event"],pkg:"connection"},container:{type:"js",path:"container/container-min.js",requires:["dom","event"],optional:["dragdrop","animation","connection"],supersedes:["containercore"],skinnable:!0},containercore:{type:"js",path:"container/container_core-min.js",requires:["dom","event"],pkg:"container"},
cookie:{type:"js",path:"cookie/cookie-min.js",requires:["yahoo"]},datasource:{type:"js",path:"datasource/datasource-min.js",requires:["event"],optional:["connection"]},datatable:{type:"js",path:"datatable/datatable-min.js",requires:["element","datasource"],optional:["calendar","dragdrop","paginator"],skinnable:!0},datemath:{type:"js",path:"datemath/datemath-min.js",requires:["yahoo"]},dom:{type:"js",path:"dom/dom-min.js",requires:["yahoo"]},dragdrop:{type:"js",path:"dragdrop/dragdrop-min.js",requires:["dom",
"event"]},editor:{type:"js",path:"editor/editor-min.js",requires:["menu","element","button"],optional:["animation","dragdrop"],supersedes:["simpleeditor"],skinnable:!0},element:{type:"js",path:"element/element-min.js",requires:["dom","event"],optional:["event-mouseenter","event-delegate"]},"element-delegate":{type:"js",path:"element-delegate/element-delegate-min.js",requires:["element"]},event:{type:"js",path:"event/event-min.js",requires:["yahoo"]},"event-simulate":{type:"js",path:"event-simulate/event-simulate-min.js",
requires:["event"]},"event-delegate":{type:"js",path:"event-delegate/event-delegate-min.js",requires:["event"],optional:["selector"]},"event-mouseenter":{type:"js",path:"event-mouseenter/event-mouseenter-min.js",requires:["dom","event"]},fonts:{type:"css",path:"fonts/fonts-min.css"},get:{type:"js",path:"get/get-min.js",requires:["yahoo"]},grids:{type:"css",path:"grids/grids-min.css",requires:["fonts"],optional:["reset"]},history:{type:"js",path:"history/history-min.js",requires:["event"]},imagecropper:{type:"js",
path:"imagecropper/imagecropper-min.js",requires:["dragdrop","element","resize"],skinnable:!0},imageloader:{type:"js",path:"imageloader/imageloader-min.js",requires:["event","dom"]},json:{type:"js",path:"json/json-min.js",requires:["yahoo"]},layout:{type:"js",path:"layout/layout-min.js",requires:["element"],optional:["animation","dragdrop","resize","selector"],skinnable:!0},logger:{type:"js",path:"logger/logger-min.js",requires:["event","dom"],optional:["dragdrop"],skinnable:!0},menu:{type:"js",path:"menu/menu-min.js",
requires:["containercore"],skinnable:!0},paginator:{type:"js",path:"paginator/paginator-min.js",requires:["element"],skinnable:!0},profiler:{type:"js",path:"profiler/profiler-min.js",requires:["yahoo"]},profilerviewer:{type:"js",path:"profilerviewer/profilerviewer-min.js",requires:["profiler","yuiloader","element"],skinnable:!0},progressbar:{type:"js",path:"progressbar/progressbar-min.js",requires:["element"],optional:["animation"],skinnable:!0},reset:{type:"css",path:"reset/reset-min.css"},"reset-fonts-grids":{type:"css",
path:"reset-fonts-grids/reset-fonts-grids.css",supersedes:["reset","fonts","grids","reset-fonts"],rollup:4},"reset-fonts":{type:"css",path:"reset-fonts/reset-fonts.css",supersedes:["reset","fonts"],rollup:2},resize:{type:"js",path:"resize/resize-min.js",requires:["dragdrop","element"],optional:["animation"],skinnable:!0},selector:{type:"js",path:"selector/selector-min.js",requires:["yahoo","dom"]},simpleeditor:{type:"js",path:"editor/simpleeditor-min.js",requires:["element"],optional:["containercore",
"menu","button","animation","dragdrop"],skinnable:!0,pkg:"editor"},slider:{type:"js",path:"slider/slider-min.js",requires:["dragdrop"],optional:["animation"],skinnable:!0},storage:{type:"js",path:"storage/storage-min.js",requires:["yahoo","event","cookie"],optional:["swfstore"]},stylesheet:{type:"js",path:"stylesheet/stylesheet-min.js",requires:["yahoo"]},swf:{type:"js",path:"swf/swf-min.js",requires:["element"],supersedes:["swfdetect"]},swfdetect:{type:"js",path:"swfdetect/swfdetect-min.js",requires:["yahoo"]},
swfstore:{type:"js",path:"swfstore/swfstore-min.js",requires:["element","cookie","swf"]},tabview:{type:"js",path:"tabview/tabview-min.js",requires:["element"],optional:["connection"],skinnable:!0},treeview:{type:"js",path:"treeview/treeview-min.js",requires:["event","dom"],optional:["json","animation","calendar"],skinnable:!0},uploader:{type:"js",path:"uploader/uploader-min.js",requires:["element"]},utilities:{type:"js",path:"utilities/utilities.js",supersedes:"yahoo,event,dragdrop,animation,dom,connection,element,yahoo-dom-event,get,yuiloader,yuiloader-dom-event".split(","),
rollup:8},yahoo:{type:"js",path:"yahoo/yahoo-min.js"},"yahoo-dom-event":{type:"js",path:"yahoo-dom-event/yahoo-dom-event.js",supersedes:["yahoo","event","dom"],rollup:3},yuiloader:{type:"js",path:"yuiloader/yuiloader-min.js",supersedes:["yahoo","get"]},"yuiloader-dom-event":{type:"js",path:"yuiloader-dom-event/yuiloader-dom-event.js",supersedes:"yahoo,dom,event,get,yuiloader,yahoo-dom-event".split(","),rollup:5},yuitest:{type:"js",path:"yuitest/yuitest-min.js",requires:["logger"],optional:["event-simulate"],
skinnable:!0}};c={appendArray:function(a,b){if(b)for(var c=0;c<b.length;c+=1)a[b[c]]=!0},keys:function(a){var b=[],c;for(c in a)h.hasOwnProperty(a,c)&&b.push(c);return b}};d={appendArray:function(a,b){Array.prototype.push.apply(a,b)},indexOf:function(a,b){for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1},toObject:function(a){for(var b={},c=0;c<a.length;c+=1)b[a[c]]=!0;return b},uniq:function(a){return c.keys(d.toObject(a))}};YAHOO.util.YUILoader=function(c){this._internalCallback=null;this._useYahooListener=
!1;this.onSuccess=null;this.onFailure=f.log;this.onTimeout=this.onProgress=null;this.scope=this;this.varName=this.charset=this.insertBefore=this.data=null;this.base="http://yui.yahooapis.com/2.9.0/build/";this.comboBase="http://yui.yahooapis.com/combo?";this.combine=!1;this.root="2.9.0/build/";this.timeout=0;this.force=this.ignore=null;this.allowRollup=!0;this.filter=null;this.required={};this.moduleInfo=h.merge(b);this.rollups=null;this.loadOptional=!1;this.sorted=[];this.loaded={};this.dirty=!0;
this.inserted={};var d=this;j.listeners.push(function(a){d._useYahooListener&&d.loadNext(a.name)});this.skin=h.merge(a);this._config(c)};f.util.YUILoader.prototype={FILTERS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"}},SKIN_PREFIX:"skin-",_config:function(a){if(a)for(var b in a)h.hasOwnProperty(a,b)&&("require"==b?this.require(a[b]):this[b]=a[b]);a=this.filter;h.isString(a)&&(a=a.toUpperCase(),"DEBUG"===a&&this.require("logger"),f.widget.LogWriter||
(f.widget.LogWriter=function(){return f}),this.filter=this.FILTERS[a])},addModule:function(a){if(!a||!a.name||!a.type||!a.path&&!a.fullpath)return!1;a.ext="ext"in a?a.ext:!0;a.requires=a.requires||[];this.moduleInfo[a.name]=a;return this.dirty=!0},require:function(a){this.dirty=!0;c.appendArray(this.required,"string"===typeof a?arguments:a)},_addSkin:function(a,b){var c=this.formatSkin(a),d=this.moduleInfo,e=this.skin,f=d[b]&&d[b].ext;d[c]||this.addModule({name:c,type:"css",path:e.base+a+"/"+e.path,
after:e.after,rollup:e.rollup,ext:f});b&&(c=this.formatSkin(a,b),d[c]||this.addModule({name:c,type:"css",after:e.after,path:(d[b].pkg||b)+"/"+e.base+a+"/"+b+".css",ext:f}));return c},getRequires:function(a){if(!a)return[];if(!this.dirty&&a.expanded)return a.expanded;a.requires=a.requires||[];var b,c=[],e=a.requires,f=a.optional,g=this.moduleInfo,l;for(b=0;b<e.length;b+=1)c.push(e[b]),l=g[e[b]],d.appendArray(c,this.getRequires(l));if(f&&this.loadOptional)for(b=0;b<f.length;b+=1)c.push(f[b]),d.appendArray(c,
this.getRequires(g[f[b]]));a.expanded=d.uniq(c);return a.expanded},getProvides:function(a,b){var c=!b?"_provides":"_supersedes",d=this.moduleInfo[a],e={};if(!d)return e;if(d[c])return d[c];var f=d.supersedes,l={};if(f)for(var k=0;k<f.length;k+=1){var g=f[k];l[g]||(l[g]=!0,h.augmentObject(e,this.getProvides(g)))}d._supersedes=e;d._provides=h.merge(e);d._provides[a]=!0;return d[c]},calculate:function(a){if(a||this.dirty)this._config(a),this._setup(),this._explode(),this.allowRollup&&this._rollup(),
this._reduce(),this._sort(),this.dirty=!1},_setup:function(){var a=this.moduleInfo,b,e,f;for(b in a)if(h.hasOwnProperty(a,b)){var g=a[b];if(g&&g.skinnable){var o=this.skin.overrides,l;if(o&&o[b])for(e=0;e<o[b].length;e+=1)l=this._addSkin(o[b][e],b);else l=this._addSkin(this.skin.defaultSkin,b);-1==d.indexOf(g.requires,l)&&g.requires.push(l)}}a=h.merge(this.inserted);this._sandbox||(a=h.merge(a,j.modules));this.ignore&&c.appendArray(a,this.ignore);if(this.force)for(e=0;e<this.force.length;e+=1)this.force[e]in
a&&delete a[this.force[e]];for(f in a)h.hasOwnProperty(a,f)&&h.augmentObject(a,this.getProvides(f));this.loaded=a},_explode:function(){var a=this.required,b,d;for(b in a)if(h.hasOwnProperty(a,b)&&(d=this.moduleInfo[b]))(d=this.getRequires(d))&&c.appendArray(a,d)},_skin:function(){},formatSkin:function(a,b){var c=this.SKIN_PREFIX+a;b&&(c=c+"-"+b);return c},parseSkin:function(a){return 0===a.indexOf(this.SKIN_PREFIX)?(a=a.split("-"),{skin:a[1],module:a[2]}):null},_rollup:function(){var a,b,c,d,f={},
g=this.required,l,k=this.moduleInfo;if(this.dirty||!this.rollups){for(a in k)h.hasOwnProperty(k,a)&&(c=k[a])&&c.rollup&&(f[a]=c);this.rollups=f}for(;;){var j=!1;for(a in f)if(!g[a]&&!this.loaded[a]&&(c=k[a],d=c.supersedes,l=!1,c.rollup)){var u=0;if(c.ext?0:this.parseSkin(a))for(b in g){if(h.hasOwnProperty(g,b)&&a!==b&&this.parseSkin(b)&&(u++,l=u>=c.rollup))break}else for(b=0;b<d.length;b+=1)if(this.loaded[d[b]]&&!e[d[b]]){l=!1;break}else if(g[d[b]]&&(u++,l=u>=c.rollup))break;l&&(j=g[a]=!0,this.getRequires(c))}if(!j)break}},
_reduce:function(){var a,b,c,d=this.required;for(a in d)if(a in this.loaded)delete d[a];else if(c=this.parseSkin(a)){if(!c.module){var e=this.SKIN_PREFIX+c.skin;for(b in d)h.hasOwnProperty(d,b)&&(c=this.moduleInfo[b],(!c||!c.ext)&&b!==a&&-1<b.indexOf(e)&&delete d[b])}}else if(c=(c=this.moduleInfo[a])&&c.supersedes)for(b=0;b<c.length;b+=1)c[b]in d&&delete d[c[b]]},_onFailure:function(a){YAHOO.log("Failure","info","loader");var b=this.onFailure;b&&b.call(this.scope,{msg:"failure: "+a,data:this.data,
success:!1})},_onTimeout:function(){YAHOO.log("Timeout","info","loader");var a=this.onTimeout;a&&a.call(this.scope,{msg:"timeout",data:this.data,success:!1})},_sort:function(){var a=[],b=this.moduleInfo,c=this.loaded,e=!this.loadOptional,f=function(a,l){var g=b[a];if(c[l]||!g)return!1;var k;k=g.expanded;var j=g.after,m=b[l],t=g.optional;if(k&&-1<d.indexOf(k,l)||j&&-1<d.indexOf(j,l)||e&&t&&-1<d.indexOf(t,l))return!0;if(j=b[l]&&b[l].supersedes)for(k=0;k<j.length;k+=1)if(f(a,j[k]))return!0;return g.ext&&
"css"==g.type&&!m.ext&&"css"==m.type?!0:!1},g;for(g in this.required)h.hasOwnProperty(this.required,g)&&a.push(g);for(g=0;;){var l=a.length,k,j,u,z=!1;for(j=g;j<l;j+=1){k=a[j];for(u=j+1;u<l;u+=1)if(f(k,a[u])){k=a.splice(u,1);a.splice(j,0,k[0]);z=!0;break}if(z)break;else g+=1}if(!z)break}this.sorted=a},toString:function(){h.dump({type:"YUILoader",base:this.base,filter:this.filter,required:this.required,loaded:this.loaded,inserted:this.inserted},1)},_combine:function(){this._combining=[];var a=this,
b=this.sorted,c=b.length,d=this.comboBase,e=this.comboBase,f,l=d.length,g,j,h=this.loadType;YAHOO.log("type "+h);for(g=0;g<c;g+=1)if((j=this.moduleInfo[b[g]])&&!j.ext&&(!h||h===j.type))f=this.root+j.path,f+="&","js"==j.type?d+=f:e+=f,this._combining.push(b[g]);if(this._combining.length){YAHOO.log("Attempting to combine: "+this._combining,"info","loader");var z=function(a){var b=this._combining,c=b.length,d;for(d=0;d<c;d+=1)this.inserted[b[d]]=!0;this.loadNext(a.data)},b=function(){d.length>l?YAHOO.util.Get.script(a._filter(d),
{data:a._loading,onSuccess:z,onFailure:a._onFailure,onTimeout:a._onTimeout,insertBefore:a.insertBefore,charset:a.charset,timeout:a.timeout,scope:a}):this.loadNext()};e.length>l?YAHOO.util.Get.css(this._filter(e),{data:this._loading,onSuccess:b,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,scope:a}):b()}else this.loadNext(this._loading)},insert:function(a,b){this.calculate(a);this._loading=!0;this.loadType=b;if(this.combine)return this._combine();
if(b)this.loadNext();else{var c=this;this._internalCallback=function(){c._internalCallback=null;c.insert(null,"js")};this.insert(null,"css")}},sandbox:function(a,b){var c=this,d=function(a){var b=a.argument[2];c._scriptText[a.argument[0]]=a.responseText;c.onProgress&&c.onProgress.call(c.scope,{name:b,scriptText:a.responseText,xhrResponse:a,data:c.data});c._loadCount++;c._loadCount>=c._stopCount&&(a="\nreturn "+(c.varName||"YAHOO")+";\n})();",a=eval("(function() {\n"+c._scriptText.join("\n")+a),c._pushEvents(a),
a?c.onSuccess.call(c.scope,{reference:a,data:c.data}):c._onFailure.call(c.varName+" reference failure"))},e=function(a){c.onFailure.call(c.scope,{msg:"XHR failure",xhrResponse:a,data:c.data})};c._config(a);if(!c.onSuccess)throw Error("You must supply an onSuccess handler for your sandbox");c._sandbox=!0;if(!b||"js"!==b)c._internalCallback=function(){c._internalCallback=null;c.sandbox(null,"js")},c.insert(null,"css");else if(g.Connect){c._scriptText=[];c._loadCount=0;c._stopCount=c.sorted.length;c._xhr=
[];c.calculate();var f=c.sorted,l=f.length,k,j,h;for(k=0;k<l;k+=1){j=c.moduleInfo[f[k]];if(!j){c._onFailure("undefined module "+j);for(d=0;d<c._xhr.length;d+=1)c._xhr[d].abort();break}"js"!==j.type?c._loadCount++:(h=(h=j.fullpath)?c._filter(h):c._url(j.path),c._xhr.push(g.Connect.asyncRequest("GET",h,{success:d,failure:e,scope:c,argument:[k,h,f[k]]})))}}else(new YAHOO.util.YUILoader).insert({base:c.base,filter:c.filter,require:"connection",insertBefore:c.insertBefore,charset:c.charset,onSuccess:function(){c.sandbox(null,
"js")},scope:c},"js")},loadNext:function(a){if(this._loading){var b=this,c=function(a){b.loadNext(a.data)},d=this.sorted,e=d.length,f,l;if(a){if(a!==this._loading)return;this.inserted[a]=!0;this.onProgress&&this.onProgress.call(this.scope,{name:a,data:this.data})}for(a=0;a<e;a+=1)if(!(d[a]in this.inserted)){if(d[a]===this._loading)return;f=this.moduleInfo[d[a]];if(!f){this.onFailure.call(this.scope,{msg:"undefined module "+f,data:this.data});return}if(!this.loadType||this.loadType===f.type){this._loading=
d[a];e="css"===f.type?g.Get.css:g.Get.script;l=(l=f.fullpath)?this._filter(l):this._url(f.path);j.ua.webkit&&420>j.ua.webkit&&"js"===f.type&&!f.varName&&(c=null,this._useYahooListener=!0);e(l,{data:d[a],onSuccess:c,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,varName:f.varName,scope:b});return}}this._loading=null;this._internalCallback?(d=this._internalCallback,this._internalCallback=null,d.call(this)):this.onSuccess&&
(this._pushEvents(),this.onSuccess.call(this.scope,{data:this.data}))}},_pushEvents:function(a){a=a||YAHOO;a.util&&a.util.Event&&a.util.Event._load()},_filter:function(a){var b=this.filter;return b?a.replace(RegExp(b.searchExp,"g"),b.replaceStr):a},_url:function(a){return this._filter((this.base||"")+a)}}})();YAHOO.register("yuiloader",YAHOO.util.YUILoader,{version:"2.9.0",build:"2800"});
(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var a=YAHOO.util,b=YAHOO.lang,c=YAHOO.env.ua,d=YAHOO.lang.trim,e={},f={},g=/^t(?:able|d|h)$/i,h=/color$/i,j=window.document,m=j.documentElement,r=c.opera,s=c.webkit,q=c.gecko,n=c.ie;a.Dom={CUSTOM_ATTRIBUTES:!m.hasAttribute?{"for":"htmlFor","class":"className"}:{htmlFor:"for",className:"class"},DOT_ATTRIBUTES:{checked:!0},get:function(b){var c,d,e,f;c=null;if(b){if("string"==typeof b||"number"==typeof b){c=b+"";e=(b=j.getElementById(b))?b.attributes:
null;if(b&&e&&e.id&&e.id.value===c)return b;if(b&&j.all&&(b=null,(d=j.all[c])&&d.length)){e=0;for(f=d.length;e<f;++e)if(d[e].id===c)return d[e]}}else if(a.Element&&b instanceof a.Element)b=b.get("element");else if(!b.nodeType&&"length"in b){c=[];e=0;for(f=b.length;e<f;++e)c[c.length]=a.Dom.get(b[e]);b=c}c=b}return c},getComputedStyle:function(b,c){if(window.getComputedStyle)return b.ownerDocument.defaultView.getComputedStyle(b,null)[c];if(b.currentStyle)return a.Dom.IE_ComputedStyle.get(b,c)},getStyle:function(b,
c){return a.Dom.batch(b,a.Dom._getStyle,c)},_getStyle:function(){if(window.getComputedStyle)return function(b,c){var c="float"===c?c="cssFloat":a.Dom._toCamel(c),d=b.style[c],e;d||(e=b.ownerDocument.defaultView.getComputedStyle(b,null))&&(d=e[c]);return d};if(m.currentStyle)return function(b,c){var d;switch(c){case "opacity":d=100;try{d=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{d=b.filters("alpha").opacity}catch(f){}}return d/100;case "float":c="styleFloat";default:return c=
a.Dom._toCamel(c),d=b.currentStyle?b.currentStyle[c]:null,b.style[c]||d}}}(),setStyle:function(b,c,d){a.Dom.batch(b,a.Dom._setStyle,{prop:c,val:d})},_setStyle:function(){return!window.getComputedStyle&&j.documentElement.currentStyle?function(c,d){var e=a.Dom._toCamel(d.prop),f=d.val;if(c)switch(e){case "opacity":if(""===f||null===f||1===f)c.style.removeAttribute("filter");else if(b.isString(c.style.filter)&&(c.style.filter="alpha(opacity="+100*f+")",!c.currentStyle||!c.currentStyle.hasLayout))c.style.zoom=
1;break;case "float":e="styleFloat";default:c.style[e]=f}}:function(b,c){var d=a.Dom._toCamel(c.prop),e=c.val;b&&("float"==d&&(d="cssFloat"),b.style[d]=e)}}(),getXY:function(b){return a.Dom.batch(b,a.Dom._getXY)},_canPosition:function(b){return"none"!==a.Dom._getStyle(b,"display")&&a.Dom._inDoc(b)},_getXY:function(b){var c,d,e=Math.round;d=!1;if(a.Dom._canPosition(b)){d=b.getBoundingClientRect();c=b.ownerDocument;b=a.Dom.getDocumentScrollLeft(c);c=a.Dom.getDocumentScrollTop(c);d=[d.left,d.top];if(c||
b)d[0]+=b,d[1]+=c;d[0]=e(d[0]);d[1]=e(d[1])}return d},getX:function(b){return a.Dom.batch(b,function(b){return a.Dom.getXY(b)[0]},a.Dom,!0)},getY:function(b){return a.Dom.batch(b,function(b){return a.Dom.getXY(b)[1]},a.Dom,!0)},setXY:function(b,c,d){a.Dom.batch(b,a.Dom._setXY,{pos:c,noRetry:d})},_setXY:function(b,c){var d=a.Dom._getStyle(b,"position"),e=a.Dom.setStyle,f=c.pos,g=c.noRetry,j=[parseInt(a.Dom.getComputedStyle(b,"left"),10),parseInt(a.Dom.getComputedStyle(b,"top"),10)],m;m=a.Dom._getXY(b);
if(!f||!1===m)return!1;"static"==d&&(d="relative",e(b,"position",d));isNaN(j[0])&&(j[0]="relative"==d?0:b.offsetLeft);isNaN(j[1])&&(j[1]="relative"==d?0:b.offsetTop);null!==f[0]&&e(b,"left",f[0]-m[0]+j[0]+"px");null!==f[1]&&e(b,"top",f[1]-m[1]+j[1]+"px");g||(d=a.Dom._getXY(b),(null!==f[0]&&d[0]!=f[0]||null!==f[1]&&d[1]!=f[1])&&a.Dom._setXY(b,{pos:f,noRetry:!0}))},setX:function(b,c){a.Dom.setXY(b,[c,null])},setY:function(b,c){a.Dom.setXY(b,[null,c])},getRegion:function(b){return a.Dom.batch(b,function(b){var c=
!1;a.Dom._canPosition(b)&&(c=a.Region.getRegion(b));return c},a.Dom,!0)},getClientWidth:function(){return a.Dom.getViewportWidth()},getClientHeight:function(){return a.Dom.getViewportHeight()},getElementsByClassName:function(b,c,d,e,f,g){c=c||"*";d=d?a.Dom.get(d):j;if(!d)return[];for(var m=[],c=d.getElementsByTagName(c),d=a.Dom.hasClass,h=0,s=c.length;h<s;++h)d(c[h],b)&&(m[m.length]=c[h]);e&&a.Dom.batch(m,e,f,g);return m},hasClass:function(b,c){return a.Dom.batch(b,a.Dom._hasClass,c)},_hasClass:function(b,
c){var d=!1;b&&c&&((d=a.Dom._getAttribute(b,"className")||"")&&(d=d.replace(/\s+/g," ")),d=c.exec?c.test(d):c&&-1<(" "+d+" ").indexOf(" "+c+" "));return d},addClass:function(b,c){return a.Dom.batch(b,a.Dom._addClass,c)},_addClass:function(b,c){var e=!1,f;b&&c&&(f=a.Dom._getAttribute(b,"className")||"",a.Dom._hasClass(b,c)||(a.Dom.setAttribute(b,"className",d(f+" "+c)),e=!0));return e},removeClass:function(b,c){return a.Dom.batch(b,a.Dom._removeClass,c)},_removeClass:function(b,c){var e=!1,f,g;b&&
c&&(f=a.Dom._getAttribute(b,"className")||"",a.Dom.setAttribute(b,"className",f.replace(a.Dom._getClassRegex(c),"")),g=a.Dom._getAttribute(b,"className"),f!==g&&(a.Dom.setAttribute(b,"className",d(g)),e=!0,""===a.Dom._getAttribute(b,"className")&&(f=b.hasAttribute&&b.hasAttribute("class")?"class":"className",b.removeAttribute(f))));return e},replaceClass:function(b,c,d){return a.Dom.batch(b,a.Dom._replaceClass,{from:c,to:d})},_replaceClass:function(b,c){var e,f,g=!1;b&&c&&(e=c.from,(f=c.to)?e?e!==
f&&(g=a.Dom._getAttribute(b,"className")||"",e=(" "+g.replace(a.Dom._getClassRegex(e)," "+f).replace(/\s+/g," ")).split(a.Dom._getClassRegex(f)),e.splice(1,0," "+f),a.Dom.setAttribute(b,"className",d(e.join(""))),g=!0):g=a.Dom._addClass(b,c.to):g=!1);return g},generateId:function(b,c){var c=c||"yui-gen",d=function(b){if(b&&b.id)return b.id;var d=c+YAHOO.env._id_counter++;if(b){if(b.ownerDocument&&b.ownerDocument.getElementById(d))return a.Dom.generateId(b,d+c);b.id=d}return d};return a.Dom.batch(b,
d,a.Dom,!0)||d.apply(a.Dom,arguments)},isAncestor:function(b,c){var b=a.Dom.get(b),c=a.Dom.get(c),d=!1;b&&c&&b.nodeType&&c.nodeType&&(b.contains&&b!==c?d=b.contains(c):b.compareDocumentPosition&&(d=!!(b.compareDocumentPosition(c)&16)));return d},inDocument:function(b,c){return a.Dom._inDoc(a.Dom.get(b),c)},_inDoc:function(b,c){var d=!1;b&&b.tagName&&(c=c||b.ownerDocument,d=a.Dom.isAncestor(c.documentElement,b));return d},getElementsBy:function(b,c,d,e,f,g,m){var c=c||"*",d=d?a.Dom.get(d):j,h=m?null:
[];if(d){for(var c=d.getElementsByTagName(c),d=0,s=c.length;d<s;++d)if(b(c[d]))if(m){h=c[d];break}else h[h.length]=c[d];e&&a.Dom.batch(h,e,f,g)}return h},getElementBy:function(b,c,d){return a.Dom.getElementsBy(b,c,d,null,null,null,!0)},batch:function(b,c,d,e){var f=[],e=e?d:null;if((b=b&&(b.tagName||b.item)?b:a.Dom.get(b))&&c){if(b.tagName||void 0===b.length)return c.call(e,b,d);for(var g=0;g<b.length;++g)f[f.length]=c.call(e||b[g],b[g],d)}else return!1;return f},getDocumentHeight:function(){return Math.max("CSS1Compat"!=
j.compatMode||s?j.body.scrollHeight:m.scrollHeight,a.Dom.getViewportHeight())},getDocumentWidth:function(){return Math.max("CSS1Compat"!=j.compatMode||s?j.body.scrollWidth:m.scrollWidth,a.Dom.getViewportWidth())},getViewportHeight:function(){var a=self.innerHeight,b=j.compatMode;if((b||n)&&!r)a="CSS1Compat"==b?m.clientHeight:j.body.clientHeight;return a},getViewportWidth:function(){var a=self.innerWidth,b=j.compatMode;if(b||n)a="CSS1Compat"==b?m.clientWidth:j.body.clientWidth;return a},getAncestorBy:function(b,
c){for(;b=b.parentNode;)if(a.Dom._testElement(b,c))return b;return null},getAncestorByClassName:function(b,c){b=a.Dom.get(b);return!b?null:a.Dom.getAncestorBy(b,function(b){return a.Dom.hasClass(b,c)})},getAncestorByTagName:function(b,c){b=a.Dom.get(b);return!b?null:a.Dom.getAncestorBy(b,function(a){return a.tagName&&a.tagName.toUpperCase()==c.toUpperCase()})},getPreviousSiblingBy:function(b,c){for(;b;)if(b=b.previousSibling,a.Dom._testElement(b,c))return b;return null},getPreviousSibling:function(b){b=
a.Dom.get(b);return!b?null:a.Dom.getPreviousSiblingBy(b)},getNextSiblingBy:function(b,c){for(;b;)if(b=b.nextSibling,a.Dom._testElement(b,c))return b;return null},getNextSibling:function(b){b=a.Dom.get(b);return!b?null:a.Dom.getNextSiblingBy(b)},getFirstChildBy:function(b,c){return(a.Dom._testElement(b.firstChild,c)?b.firstChild:null)||a.Dom.getNextSiblingBy(b.firstChild,c)},getFirstChild:function(b){b=a.Dom.get(b);return!b?null:a.Dom.getFirstChildBy(b)},getLastChildBy:function(b,c){return!b?null:
(a.Dom._testElement(b.lastChild,c)?b.lastChild:null)||a.Dom.getPreviousSiblingBy(b.lastChild,c)},getLastChild:function(b){b=a.Dom.get(b);return a.Dom.getLastChildBy(b)},getChildrenBy:function(b,c){var d=a.Dom.getFirstChildBy(b,c),e=d?[d]:[];a.Dom.getNextSiblingBy(d,function(a){if(!c||c(a))e[e.length]=a;return!1});return e},getChildren:function(b){b=a.Dom.get(b);return a.Dom.getChildrenBy(b)},getDocumentScrollLeft:function(a){a=a||j;return Math.max(a.documentElement.scrollLeft,a.body.scrollLeft)},
getDocumentScrollTop:function(a){a=a||j;return Math.max(a.documentElement.scrollTop,a.body.scrollTop)},insertBefore:function(b,c){b=a.Dom.get(b);c=a.Dom.get(c);return!b||!c||!c.parentNode?null:c.parentNode.insertBefore(b,c)},insertAfter:function(b,c){b=a.Dom.get(b);c=a.Dom.get(c);return!b||!c||!c.parentNode?null:c.nextSibling?c.parentNode.insertBefore(b,c.nextSibling):c.parentNode.appendChild(b)},getClientRegion:function(){var b=a.Dom.getDocumentScrollTop(),c=a.Dom.getDocumentScrollLeft(),d=a.Dom.getViewportWidth()+
c,e=a.Dom.getViewportHeight()+b;return new a.Region(b,d,e,c)},setAttribute:function(b,c,d){a.Dom.batch(b,a.Dom._setAttribute,{attr:c,val:d})},_setAttribute:function(b,c){var d=a.Dom._toCamel(c.attr),e=c.val;b&&b.setAttribute&&(a.Dom.DOT_ATTRIBUTES[d]&&b.tagName&&"BUTTON"!=b.tagName?b[d]=e:(d=a.Dom.CUSTOM_ATTRIBUTES[d]||d,b.setAttribute(d,e)))},getAttribute:function(b,c){return a.Dom.batch(b,a.Dom._getAttribute,c)},_getAttribute:function(b,c){var d,c=a.Dom.CUSTOM_ATTRIBUTES[c]||c;a.Dom.DOT_ATTRIBUTES[c]?
d=b[c]:b&&"getAttribute"in b&&(d=/^(?:href|src)$/.test(c)?b.getAttribute(c,2):b.getAttribute(c));return d},_toCamel:function(a){function b(a,c){return c.toUpperCase()}return e[a]||(e[a]=-1===a.indexOf("-")?a:a.replace(/-([a-z])/gi,b))},_getClassRegex:function(b){var c;void 0!==b&&(b.exec?c=b:(c=f[b],c||(b=b.replace(a.Dom._patterns.CLASS_RE_TOKENS,"\\$1"),b=b.replace(/\s+/g," "),c=f[b]=RegExp("(?:^|\\s)"+b+"(?= |$)","g"))));return c},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},
_testElement:function(a,b){return a&&1==a.nodeType&&(!b||b(a))},_calcBorders:function(b,c){var d=parseInt(a.Dom.getComputedStyle(b,"borderTopWidth"),10)||0,e=parseInt(a.Dom.getComputedStyle(b,"borderLeftWidth"),10)||0;q&&g.test(b.tagName)&&(e=d=0);c[0]+=e;c[1]+=d;return c}};var o=a.Dom.getComputedStyle;c.opera&&(a.Dom.getComputedStyle=function(b,c){var d=o(b,c);h.test(c)&&(d=a.Dom.Color.toRGB(d));return d});c.webkit&&(a.Dom.getComputedStyle=function(a,b){var c=o(a,b);"rgba(0, 0, 0, 0)"===c&&(c="transparent");
return c});c.ie&&8<=c.ie&&(a.Dom.DOT_ATTRIBUTES.type=!0)})();YAHOO.util.Region=function(a,b,c,d){this.y=this.top=a;this[1]=a;this.right=b;this.bottom=c;this.x=this.left=d;this[0]=d;this.width=this.right-this.left;this.height=this.bottom-this.top};YAHOO.util.Region.prototype.contains=function(a){return a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom};YAHOO.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)};
YAHOO.util.Region.prototype.intersect=function(a){var b=Math.max(this.top,a.top),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom),a=Math.max(this.left,a.left);return d>=b&&c>=a?new YAHOO.util.Region(b,c,d,a):null};YAHOO.util.Region.prototype.union=function(a){var b=Math.min(this.top,a.top),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),a=Math.min(this.left,a.left);return new YAHOO.util.Region(b,c,d,a)};
YAHOO.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}"};YAHOO.util.Region.getRegion=function(a){var b=YAHOO.util.Dom.getXY(a);return new YAHOO.util.Region(b[1],b[0]+a.offsetWidth,b[1]+a.offsetHeight,b[0])};YAHOO.util.Point=function(a,b){YAHOO.lang.isArray(a)&&(b=a[1],a=a[0]);YAHOO.util.Point.superclass.constructor.call(this,b,a,b,a)};
YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);
(function(){var a=YAHOO.util,b=/^width|height$/,c=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,d={get:function(b,d){var e="",e=b.currentStyle[d];return e="opacity"===d?a.Dom.getStyle(b,"opacity"):!e||e.indexOf&&-1<e.indexOf("px")?e:a.Dom.IE_COMPUTED[d]?a.Dom.IE_COMPUTED[d](b,d):c.test(e)?a.Dom.IE.ComputedStyle.getPixel(b,d):e},getOffset:function(a,c){var d=a.currentStyle[c],e=c.charAt(0).toUpperCase()+c.substr(1),m="offset"+e,r="pixel"+e,e="";"auto"==d?(e=
d=a[m],b.test(c)&&(a.style[c]=d,a[m]>d&&(e=d-(a[m]-d)),a.style[c]="auto")):(!a.style[r]&&!a.style[c]&&(a.style[c]=d),e=a.style[r]);return e+"px"},getBorderWidth:function(a,b){var c=null;a.currentStyle.hasLayout||(a.style.zoom=1);switch(b){case "borderTopWidth":c=a.clientTop;break;case "borderBottomWidth":c=a.offsetHeight-a.clientHeight-a.clientTop;break;case "borderLeftWidth":c=a.clientLeft;break;case "borderRightWidth":c=a.offsetWidth-a.clientWidth-a.clientLeft}return c+"px"},getPixel:function(a,
b){var c=null,d=a.currentStyle.right;a.style.right=a.currentStyle[b];c=a.style.pixelRight;a.style.right=d;return c+"px"},getMargin:function(b,c){return"auto"==b.currentStyle[c]?"0px":a.Dom.IE.ComputedStyle.getPixel(b,c)},getVisibility:function(a,b){for(var c;(c=a.currentStyle)&&"inherit"==c[b];)a=a.parentNode;return c?c[b]:"visible"},getColor:function(b,c){return a.Dom.Color.toRGB(b.currentStyle[c])||"transparent"},getBorderColor:function(b,c){var d=b.currentStyle;return a.Dom.Color.toRGB(a.Dom.Color.toHex(d[c]||
d.color))}},e={};e.top=e.right=e.bottom=e.left=e.width=e.height=d.getOffset;e.color=d.getColor;e.borderTopWidth=e.borderRightWidth=e.borderBottomWidth=e.borderLeftWidth=d.getBorderWidth;e.marginTop=e.marginRight=e.marginBottom=e.marginLeft=d.getMargin;e.visibility=d.getVisibility;e.borderColor=e.borderTopColor=e.borderRightColor=e.borderBottomColor=e.borderLeftColor=d.getBorderColor;a.Dom.IE_COMPUTED=e;a.Dom.IE_ComputedStyle=d})();
(function(){var a=parseInt,b=RegExp,c=YAHOO.util;c.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(d){c.Dom.Color.re_RGB.test(d)||(d=c.Dom.Color.toHex(d));c.Dom.Color.re_hex.exec(d)&&
(d="rgb("+[a(b.$1,16),a(b.$2,16),a(b.$3,16)].join(", ")+")");return d},toHex:function(a){a=c.Dom.Color.KEYWORDS[a]||a;if(c.Dom.Color.re_RGB.exec(a)){for(var a=[Number(b.$1).toString(16),Number(b.$2).toString(16),Number(b.$3).toString(16)],e=0;e<a.length;e++)2>a[e].length&&(a[e]="0"+a[e]);a=a.join("")}6>a.length&&(a=a.replace(c.Dom.Color.re_hex3,"$1$1"));"transparent"!==a&&0>a.indexOf("#")&&(a="#"+a);return a.toUpperCase()}}})();YAHOO.register("dom",YAHOO.util.Dom,{version:"2.9.0",build:"2800"});
YAHOO.util.CustomEvent=function(a,b,c,d,e){this.type=a;this.scope=b||window;this.silent=c;this.fireOnce=e;this.fired=!1;this.firedWith=null;this.signature=d||YAHOO.util.CustomEvent.LIST;this.subscribers=[];"_YUICEOnSubscribe"!==a&&(this.subscribeEvent=new YAHOO.util.CustomEvent("_YUICEOnSubscribe",this,!0));this.lastError=null};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;
YAHOO.util.CustomEvent.prototype={subscribe:function(a,b,c){if(!a)throw Error("Invalid callback for subscriber to '"+this.type+"'");this.subscribeEvent&&this.subscribeEvent.fire(a,b,c);a=new YAHOO.util.Subscriber(a,b,c);this.fireOnce&&this.fired?this.notify(a,this.firedWith):this.subscribers.push(a)},unsubscribe:function(a,b){if(!a)return this.unsubscribeAll();for(var c=!1,d=0,e=this.subscribers.length;d<e;++d){var f=this.subscribers[d];f&&f.contains(a,b)&&(this._delete(d),c=!0)}return c},fire:function(){this.lastError=
null;var a=this.subscribers.length,b=[].slice.call(arguments,0),c=!0,d;if(this.fireOnce){if(this.fired)return!0;this.firedWith=b}this.fired=!0;if(!a&&this.silent)return!0;var e=this.subscribers.slice();for(d=0;d<a;++d){var f=e[d];if(f&&f.fn&&(c=this.notify(f,b),!1===c))break}return!1!==c},notify:function(a,b){var c,d=null,e=a.getScope(this.scope),f=YAHOO.util.Event.throwErrors;if(this.signature==YAHOO.util.CustomEvent.FLAT){0<b.length&&(d=b[0]);try{c=a.fn.call(e,d,a.obj)}catch(g){if(this.lastError=
g,f)throw g;}}else try{c=a.fn.call(e,this.type,b,a.obj)}catch(h){if(this.lastError=h,f)throw h;}return c},unsubscribeAll:function(){var a=this.subscribers.length,b;for(b=a-1;-1<b;b--)this._delete(b);this.subscribers=[];return a},_delete:function(a){var b=this.subscribers[a];b&&(delete b.fn,delete b.obj);this.subscribers.splice(a,1)},toString:function(){return"CustomEvent: '"+this.type+"', context: "+this.scope}};
YAHOO.util.Subscriber=function(a,b,c){this.fn=a;this.obj=YAHOO.lang.isUndefined(b)?null:b;this.overrideContext=c};YAHOO.util.Subscriber.prototype.getScope=function(a){return this.overrideContext?!0===this.overrideContext?this.obj:this.overrideContext:a};YAHOO.util.Subscriber.prototype.contains=function(a,b){return b?this.fn==a&&this.obj==b:this.fn==a};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }"};
YAHOO.util.Event||(YAHOO.util.Event=function(){var a=!1,b=[],c=[],d=0,e=[],f=0,g={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},h=YAHOO.env.ua.ie;return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:h,_interval:null,_dri:null,_specialTypes:{focusin:h?"focusin":"focus",focusout:h?"focusout":"blur"},DOMReady:!1,throwErrors:!1,startInterval:function(){this._interval||
(this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,!0))},onAvailable:function(a,b,c,f,g){for(var a=YAHOO.lang.isString(a)?[a]:a,h=0;h<a.length;h+=1)e.push({id:a[h],fn:b,obj:c,overrideContext:f,checkReady:g});d=this.POLL_RETRYS;this.startInterval()},onContentReady:function(a,b,c,d){this.onAvailable(a,b,c,d,!0)},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments)},_addListener:function(a,d,e,f,g,h){if(!e||!e.call)return!1;if(this._isValidCollection(a)){for(var o=
!0,l=0,k=a.length;l<k;++l)o=this.on(a[l],d,e,f,g)&&o;return o}if(YAHOO.lang.isString(a))if(o=this.getEl(a))a=o;else return this.onAvailable(a,function(){YAHOO.util.Event._addListener(a,d,e,f,g,h)}),!0;if(!a)return!1;if("unload"==d&&f!==this)return c[c.length]=[a,d,e,f,g],!0;var t=a;g&&(t=!0===g?f:g);o=function(b){return e.call(t,YAHOO.util.Event.getEvent(b,a),f)};b[b.length]=[a,d,e,o,t,f,g,h];try{this._simpleAdd(a,d,o,h)}catch(u){return this.lastError=u,this.removeListener(a,d,e),!1}return!0},_getType:function(a){return this._specialTypes[a]||
a},addListener:function(a,b,c,d,e){var f=("focusin"==b||"focusout"==b)&&!YAHOO.env.ua.ie?!0:!1;return this._addListener(a,this._getType(b),c,d,e,f)},addFocusListener:function(a,b,c,d){return this.on(a,"focusin",b,c,d)},removeFocusListener:function(a,b){return this.removeListener(a,"focusin",b)},addBlurListener:function(a,b,c,d){return this.on(a,"focusout",b,c,d)},removeBlurListener:function(a,b){return this.removeListener(a,"focusout",b)},removeListener:function(a,d,e,f){var g,d=this._getType(d);
if("string"==typeof a)a=this.getEl(a);else if(this._isValidCollection(a)){f=!0;for(g=a.length-1;-1<g;g--)f=this.removeListener(a[g],d,e)&&f;return f}if(!e||!e.call)return this.purgeElement(a,!1,d);if("unload"==d){for(g=c.length-1;-1<g;g--)if((f=c[g])&&f[0]==a&&f[1]==d&&f[2]==e)return c.splice(g,1),!0;return!1}g=null;"undefined"===typeof f&&(f=this._getCacheIndex(b,a,d,e));0<=f&&(g=b[f]);if(!a||!g)return!1;e=!0===g[this.CAPTURE]?!0:!1;try{this._simpleRemove(a,d,g[this.WFN],e)}catch(h){return this.lastError=
h,!1}delete b[f][this.WFN];delete b[f][this.FN];b.splice(f,1);return!0},getTarget:function(a){return this.resolveTextNode(a.target||a.srcElement)},resolveTextNode:function(a){try{if(a&&3==a.nodeType)return a.parentNode}catch(b){return null}return a},getPageX:function(a){var b=a.pageX;!b&&0!==b&&(b=a.clientX||0,this.isIE&&(b+=this._getScrollLeft()));return b},getPageY:function(a){var b=a.pageY;!b&&0!==b&&(b=a.clientY||0,this.isIE&&(b+=this._getScrollTop()));return b},getXY:function(a){return[this.getPageX(a),
this.getPageY(a)]},getRelatedTarget:function(a){var b=a.relatedTarget;b||("mouseout"==a.type?b=a.toElement:"mouseover"==a.type&&(b=a.fromElement));return this.resolveTextNode(b)},getTime:function(a){if(!a.time){var b=(new Date).getTime();try{a.time=b}catch(c){return this.lastError=c,b}}return a.time},stopEvent:function(a){this.stopPropagation(a);this.preventDefault(a)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1},getEvent:function(a){a=a||window.event;if(!a)for(var b=this.getEvent.caller;b&&!((a=b.arguments[0])&&Event==a.constructor);)b=b.caller;return a},getCharCode:function(a){a=a.keyCode||a.charCode||0;YAHOO.env.ua.webkit&&a in g&&(a=g[a]);return a},_getCacheIndex:function(a,b,c,d){for(var e=0,f=a.length;e<f;e+=1){var g=a[e];if(g&&g[this.FN]==d&&g[this.EL]==b&&g[this.TYPE]==c)return e}return-1},generateId:function(a){var b=a.id;b||(b="yuievtautoid-"+f,++f,a.id=b);return b},
_isValidCollection:function(a){try{return a&&"string"!==typeof a&&a.length&&!a.tagName&&!a.alert&&"undefined"!==typeof a[0]}catch(b){return!1}},elCache:{},getEl:function(a){return"string"===typeof a?document.getElementById(a):a},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(){if(!a){a=!0;var b=YAHOO.util.Event;b._ready();b._tryPreloadAttach()}},_ready:function(){var a=YAHOO.util.Event;a.DOMReady||(a.DOMReady=!0,a.DOMReadyEvent.fire(),a._simpleRemove(document,
"DOMContentLoaded",a._ready))},_tryPreloadAttach:function(){if(0===e.length)d=0,this._interval&&(this._interval.cancel(),this._interval=null);else if(!this.locked)if(this.isIE&&!this.DOMReady)this.startInterval();else{this.locked=!0;var b=!a;b||(b=0<d&&0<e.length);var c=[],f=function(a,b){var c=a;b.overrideContext&&(c=!0===b.overrideContext?b.obj:b.overrideContext);b.fn.call(c,b.obj)},g,h,n,o,l=[];g=0;for(h=e.length;g<h;g+=1)if(n=e[g])if(o=this.getEl(n.id))if(n.checkReady){if(a||o.nextSibling||!b)l.push(n),
e[g]=null}else f(o,n),e[g]=null;else c.push(n);g=0;for(h=l.length;g<h;g+=1)n=l[g],f(this.getEl(n.id),n);d--;if(b){for(g=e.length-1;-1<g;g--)n=e[g],(!n||!n.id)&&e.splice(g,1);this.startInterval()}else this._interval&&(this._interval.cancel(),this._interval=null);this.locked=!1}},purgeElement:function(a,b,c){var a=YAHOO.lang.isString(a)?this.getEl(a):a,d=this.getListeners(a,c),e;if(d)for(e=d.length-1;-1<e;e--){var f=d[e];this.removeListener(a,f.type,f.fn)}if(b&&a&&a.childNodes){e=0;for(d=a.childNodes.length;e<
d;++e)this.purgeElement(a.childNodes[e],b,c)}},getListeners:function(a,d){var e=[],f;d?"unload"===d?f=[c]:(d=this._getType(d),f=[b]):f=[b,c];for(var g=YAHOO.lang.isString(a)?this.getEl(a):a,h=0;h<f.length;h+=1){var o=f[h];if(o)for(var l=0,k=o.length;l<k;++l){var t=o[l];t&&t[this.EL]===g&&(!d||d===t[this.TYPE])&&e.push({type:t[this.TYPE],fn:t[this.FN],obj:t[this.OBJ],adjust:t[this.OVERRIDE],scope:t[this.ADJ_SCOPE],index:l})}}return e.length?e:null},_unload:function(a){var d=YAHOO.util.Event,e,f,g,
h=c.slice(),o;e=0;for(g=c.length;e<g;++e)if(f=h[e]){try{o=window,f[d.ADJ_SCOPE]&&(o=!0===f[d.ADJ_SCOPE]?f[d.UNLOAD_OBJ]:f[d.ADJ_SCOPE]),f[d.FN].call(o,d.getEvent(a,f[d.EL]),f[d.UNLOAD_OBJ])}catch(l){}h[e]=null}c=null;if(b)for(a=b.length-1;-1<a;a--)if(f=b[a])try{d.removeListener(f[d.EL],f[d.TYPE],f[d.FN],a)}catch(k){}try{d._simpleRemove(window,"unload",d._unload),d._simpleRemove(window,"load",d._load)}catch(t){}},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},
_getScroll:function(){var a=document.documentElement,b=document.body;return a&&(a.scrollTop||a.scrollLeft)?[a.scrollTop,a.scrollLeft]:b?[b.scrollTop,b.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(a,b,c,d){a.addEventListener(b,c,d)}:window.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(a,b,c,d){a.removeEventListener(b,c,d)}:window.detachEvent?function(a,b,
c){a.detachEvent("on"+b,c)}:function(){}}()}}(),function(){var a=YAHOO.util.Event;a.on=a.addListener;a.onFocus=a.addFocusListener;a.onBlur=a.addBlurListener;if(a.isIE)if(self!==self.top)document.onreadystatechange=function(){"complete"==document.readyState&&(document.onreadystatechange=null,a._ready())};else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,!0);var b=document.createElement("p");a._dri=setInterval(function(){try{b.doScroll("left"),clearInterval(a._dri),
a._dri=null,a._ready(),b=null}catch(c){}},a.POLL_INTERVAL)}else a.webkit&&525>a.webkit?a._dri=setInterval(function(){var b=document.readyState;if("loaded"==b||"complete"==b)clearInterval(a._dri),a._dri=null,a._ready()},a.POLL_INTERVAL):a._simpleAdd(document,"DOMContentLoaded",a._ready);a._simpleAdd(window,"load",a._load);a._simpleAdd(window,"unload",a._unload);a._tryPreloadAttach()}());YAHOO.util.EventProvider=function(){};
YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(a,b,c,d){this.__yui_events=this.__yui_events||{};var e=this.__yui_events[a];if(e)e.subscribe(b,c,d);else{e=this.__yui_subscribers=this.__yui_subscribers||{};e[a]||(e[a]=[]);e[a].push({fn:b,obj:c,overrideContext:d})}},unsubscribe:function(a,b,c){var d=this.__yui_events=this.__yui_events||{};if(a){if(d=d[a])return d.unsubscribe(b,c)}else{var a=true,e;for(e in d)YAHOO.lang.hasOwnProperty(d,e)&&(a=a&&d[e].unsubscribe(b,
c));return a}return false},unsubscribeAll:function(a){return this.unsubscribe(a)},createEvent:function(a,b){this.__yui_events=this.__yui_events||{};var c=b||{},d=this.__yui_events,e;if(!d[a]){e=new YAHOO.util.CustomEvent(a,c.scope||this,c.silent,YAHOO.util.CustomEvent.FLAT,c.fireOnce);d[a]=e;c.onSubscribeCallback&&e.subscribeEvent.subscribe(c.onSubscribeCallback);this.__yui_subscribers=this.__yui_subscribers||{};if(c=this.__yui_subscribers[a])for(var f=0;f<c.length;++f)e.subscribe(c[f].fn,c[f].obj,
c[f].overrideContext)}return d[a]},fireEvent:function(a){this.__yui_events=this.__yui_events||{};var b=this.__yui_events[a];if(!b)return null;for(var c=[],d=1;d<arguments.length;++d)c.push(arguments[d]);return b.fire.apply(b,c)},hasEvent:function(a){return this.__yui_events&&this.__yui_events[a]?true:false}};
(function(){var a=YAHOO.util.Event,b=YAHOO.lang;YAHOO.util.KeyListener=function(c,e,f,g){function h(b){if(!e.shift)e.shift=false;if(!e.alt)e.alt=false;if(!e.ctrl)e.ctrl=false;if(b.shiftKey==e.shift&&b.altKey==e.alt&&b.ctrlKey==e.ctrl){var c,d=e.keys,f;if(YAHOO.lang.isArray(d))for(var g=0;g<d.length;g++){c=d[g];f=a.getCharCode(b);if(c==f){j.fire(f,b);break}}else{f=a.getCharCode(b);d==f&&j.fire(f,b)}}}if(!g)g=YAHOO.util.KeyListener.KEYDOWN;var j=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=
new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");b.isString(c)&&(c=document.getElementById(c));b.isFunction(f)?j.subscribe(f):j.subscribe(f.fn,f.scope,f.correctScope);this.enable=function(){if(!this.enabled){a.on(c,g,h);this.enabledEvent.fire(e)}this.enabled=true};this.disable=function(){if(this.enabled){a.removeListener(c,g,h);this.disabledEvent.fire(e)}this.enabled=false};this.toString=function(){return"KeyListener ["+e.keys+"] "+c.tagName+(c.id?"["+
c.id+"]":"")}};var c=YAHOO.util.KeyListener;c.KEYDOWN="keydown";c.KEYUP="keyup";c.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38}})();YAHOO.register("event",YAHOO.util.Event,{version:"2.9.0",build:"2800"});YAHOO.register("yuiloader-dom-event",YAHOO,{version:"2.9.0",build:"2800"});YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:!1,_use_default_post_header:!0,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:!0,_default_xhr_header:"XMLHttpRequest",_has_default_headers:!0,_isFormSubmit:!1,_default_headers:{},_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,startEvent:new YAHOO.util.CustomEvent("start"),
completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(a){this._msxml_progid.unshift(a)},setDefaultPostHeader:function(a){"string"==
typeof a?(this._default_post_header=a,this._use_default_post_header=!0):"boolean"==typeof a&&(this._use_default_post_header=a)},setDefaultXhrHeader:function(a){"string"==typeof a?this._default_xhr_header=a:this._use_default_xhr_header=a},setPollingInterval:function(a){"number"==typeof a&&isFinite(a)&&(this._polling_interval=a)},createXhrObject:function(a){var b,c,d;try{c=new XMLHttpRequest,b={conn:c,tId:a,xhr:!0}}catch(e){for(d=0;d<this._msxml_progid.length;++d)try{c=new ActiveXObject(this._msxml_progid[d]);
b={conn:c,tId:a,xhr:!0};break}catch(f){}}finally{return b}},getConnectionObject:function(a){var b,c=this._transaction_id;try{a?(b={tId:c},"xdr"===a?(b.conn=this._transport,b.xdr=!0):"upload"===a&&(b.upload=!0)):b=this.createXhrObject(c),b&&this._transaction_id++}catch(d){}return b},asyncRequest:function(a,b,c,d){var e=c&&c.argument?c.argument:null,f=this,g,h;this._isFileUpload?h="upload":c&&c.xdr&&(h="xdr");g=this.getConnectionObject(h);if(!g)return null;c&&c.customevents&&this.initCustomEvents(g,
c);if(this._isFormSubmit){if(this._isFileUpload)return window.setTimeout(function(){f.uploadFile(g,c,b,d)},10),g;"GET"==a.toUpperCase()?0!==this._sFormData.length&&(b+=(-1==b.indexOf("?")?"?":"&")+this._sFormData):"POST"==a.toUpperCase()&&(d=d?this._sFormData+"&"+d:this._sFormData)}"GET"==a.toUpperCase()&&c&&!1===c.cache&&(b+=(-1==b.indexOf("?")?"?":"&")+"rnd="+(new Date).valueOf().toString());this._use_default_xhr_header&&(this._default_headers["X-Requested-With"]||this.initHeader("X-Requested-With",
this._default_xhr_header,!0));"POST"===a.toUpperCase()&&this._use_default_post_header&&!1===this._isFormSubmit&&this.initHeader("Content-Type",this._default_post_header);if(g.xdr)return this.xdr(g,a,b,c,d),g;g.conn.open(a,b,!0);(this._has_default_headers||this._has_http_headers)&&this.setHeader(g);this.handleReadyState(g,c);g.conn.send(d||"");!0===this._isFormSubmit&&this.resetFormState();this.startEvent.fire(g,e);g.startEvent&&g.startEvent.fire(g,e);return g},initCustomEvents:function(a,b){for(var c in b.customevents)this._customEvents[c][0]&&
(a[this._customEvents[c][0]]=new YAHOO.util.CustomEvent(this._customEvents[c][1],b.scope?b.scope:null),a[this._customEvents[c][0]].subscribe(b.customevents[c]))},handleReadyState:function(a,b){var c=this,d=b&&b.argument?b.argument:null;b&&b.timeout&&(this._timeOut[a.tId]=window.setTimeout(function(){c.abort(a,b,!0)},b.timeout));this._poll[a.tId]=window.setInterval(function(){a.conn&&4===a.conn.readyState&&(window.clearInterval(c._poll[a.tId]),delete c._poll[a.tId],b&&b.timeout&&(window.clearTimeout(c._timeOut[a.tId]),
delete c._timeOut[a.tId]),c.completeEvent.fire(a,d),a.completeEvent&&a.completeEvent.fire(a,d),c.handleTransactionResponse(a,b))},this._polling_interval)},handleTransactionResponse:function(a,b,c){var d,e=b&&b.argument?b.argument:null,f=a.r&&"xdr:success"===a.r.statusText?!0:!1,g=a.r&&"xdr:failure"===a.r.statusText?!0:!1;try{d=void 0!==a.conn.status&&0!==a.conn.status||f?a.conn.status:g&&!c?0:13030}catch(h){d=13030}if(200<=d&&300>d||1223===d||f)c=a.xdr?a.r:this.createResponseObject(a,e),b&&b.success&&
(b.scope?b.success.apply(b.scope,[c]):b.success(c)),this.successEvent.fire(c),a.successEvent&&a.successEvent.fire(c);else{switch(d){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=this.createExceptionObject(a.tId,e,c?c:!1);b&&b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c));break;default:c=a.xdr?a.response:this.createResponseObject(a,e),b&&b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c))}this.failureEvent.fire(c);a.failureEvent&&a.failureEvent.fire(c)}this.releaseObject(a)},
createResponseObject:function(a,b){var c={},d={},e,f,g,h;try{f=a.conn.getAllResponseHeaders();g=f.split("\n");for(e=0;e<g.length;e++)h=g[e].indexOf(":"),-1!=h&&(d[g[e].substring(0,h)]=YAHOO.lang.trim(g[e].substring(h+2)))}catch(j){}c.tId=a.tId;c.status=1223==a.conn.status?204:a.conn.status;c.statusText=1223==a.conn.status?"No Content":a.conn.statusText;c.getResponseHeader=d;c.getAllResponseHeaders=f;c.responseText=a.conn.responseText;c.responseXML=a.conn.responseXML;b&&(c.argument=b);return c},createExceptionObject:function(a,
b,c){var d={};d.tId=a;c?(d.status=-1,d.statusText="transaction aborted"):(d.status=0,d.statusText="communication failure");b&&(d.argument=b);return d},initHeader:function(a,b,c){(c?this._default_headers:this._http_headers)[a]=b;c?this._has_default_headers=!0:this._has_http_headers=!0},setHeader:function(a){var b;if(this._has_default_headers)for(b in this._default_headers)YAHOO.lang.hasOwnProperty(this._default_headers,b)&&a.conn.setRequestHeader(b,this._default_headers[b]);if(this._has_http_headers){for(b in this._http_headers)YAHOO.lang.hasOwnProperty(this._http_headers,
b)&&a.conn.setRequestHeader(b,this._http_headers[b]);this._http_headers={};this._has_http_headers=!1}},resetDefaultHeaders:function(){this._default_headers={};this._has_default_headers=!1},abort:function(a,b,c){var d,e=b&&b.argument?b.argument:null,a=a||{};if(a.conn)a.xhr?this.isCallInProgress(a)&&(a.conn.abort(),window.clearInterval(this._poll[a.tId]),delete this._poll[a.tId],c&&(window.clearTimeout(this._timeOut[a.tId]),delete this._timeOut[a.tId]),d=!0):a.xdr&&(a.conn.abort(a.tId),d=!0);else if(a.upload){var f=
document.getElementById("yuiIO"+a.tId);f&&(YAHOO.util.Event.removeListener(f,"load"),document.body.removeChild(f),c&&(window.clearTimeout(this._timeOut[a.tId]),delete this._timeOut[a.tId]),d=!0)}else d=!1;!0===d&&(this.abortEvent.fire(a,e),a.abortEvent&&a.abortEvent.fire(a,e),this.handleTransactionResponse(a,b,!0));return d},isCallInProgress:function(a){a=a||{};return a.xhr&&a.conn?4!==a.conn.readyState&&0!==a.conn.readyState:a.xdr&&a.conn?a.conn.isCallInProgress(a.tId):!0===a.upload?document.getElementById("yuiIO"+
a.tId)?!0:!1:!1},releaseObject:function(a){a&&a.conn&&(a.conn=null)}};
(function(){function a(a){var a='<object id="YUIConnectionSwf" type="application/x-shockwave-flash" data="'+a+'" width="0" height="0"><param name="movie" value="'+a+'"><param name="allowScriptAccess" value="always"></object>',b=document.createElement("div");document.body.appendChild(b);b.innerHTML=a}var b=YAHOO.util.Connect,c={};b.xdr=function(a,b,f,g,h){c[parseInt(a.tId)]={o:a,c:g};h&&(g.method=b,g.data=h);a.conn.send(f,g,a.tId)};b.swf=a;b.transport=function(c){a(c);b._transport=document.getElementById("YUIConnectionSwf")};
b.xdrReadyEvent=new YAHOO.util.CustomEvent("xdrReady");b.xdrReady=function(){b.xdrReadyEvent.fire()};b.handleXdrResponse=function(a){var e=c[a.tId].o,f=c[a.tId].c;"xdr:start"===a.statusText?e&&(b.startEvent.fire(e,f.argument),e.startEvent&&e.startEvent.fire(e,f.argument)):(a.responseText=decodeURI(a.responseText),e.r=a,f.argument&&(e.r.argument=f.argument),this.handleTransactionResponse(e,f,"xdr:abort"===a.statusText?!0:!1),delete c[a.tId])}})();
(function(){var a=YAHOO.util.Connect,b=YAHOO.util.Event,c=document.documentMode?document.documentMode:!1;a._isFileUpload=!1;a._formNode=null;a._sFormData=null;a._submitElementValue=null;a.uploadEvent=new YAHOO.util.CustomEvent("upload");a._hasSubmitListener=function(){return b?(b.addListener(document,"click",function(c){var c=b.getTarget(c),e=c.nodeName.toLowerCase();if(("input"===e||"button"===e)&&c.type&&"submit"==c.type.toLowerCase())a._submitElementValue=encodeURIComponent(c.name)+"="+encodeURIComponent(c.value)}),
!0):!1}();a.setForm=function(a,b,c){var g,h=!1,j=[],m=0,r,s,q,n;this.resetFormState();if("string"==typeof a)a=document.getElementById(a)||document.forms[a];else if("object"!=typeof a)return;if(b)this.createFrame(c?c:null),this._isFileUpload=this._isFormSubmit=!0,this._formNode=a;else{r=0;for(s=a.elements.length;r<s;++r)if(b=a.elements[r],g=b.disabled,c=b.name,!g&&c)switch(c=encodeURIComponent(c)+"=",g=encodeURIComponent(b.value),b.type){case "select-one":-1<b.selectedIndex&&(n=b.options[b.selectedIndex],
j[m++]=c+encodeURIComponent(n.attributes.value&&n.attributes.value.specified?n.value:n.text));break;case "select-multiple":if(-1<b.selectedIndex){g=b.selectedIndex;for(q=b.options.length;g<q;++g)n=b.options[g],n.selected&&(j[m++]=c+encodeURIComponent(n.attributes.value&&n.attributes.value.specified?n.value:n.text))}break;case "radio":case "checkbox":b.checked&&(j[m++]=c+g);break;case "file":case void 0:case "reset":case "button":break;case "submit":!1===h&&(this._hasSubmitListener&&this._submitElementValue&&
(j[m++]=this._submitElementValue),h=!0);break;default:j[m++]=c+g}this._isFormSubmit=!0;this._sFormData=j.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData}};a.resetFormState=function(){this._isFileUpload=this._isFormSubmit=!1;this._formNode=null;this._sFormData=""};a.createFrame=function(a){var b="yuiIO"+this._transaction_id,f=9===c?!0:!1;YAHOO.env.ua.ie&&!f?(f=document.createElement('<iframe id="'+b+'" name="'+b+'" />'),"boolean"==typeof a&&(f.src="javascript:false")):
(f=document.createElement("iframe"),f.id=b,f.name=b);f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";document.body.appendChild(f)};a.appendPostData=function(a){var b=[],a=a.split("&"),c,g;for(c=0;c<a.length;c++)g=a[c].indexOf("="),-1!=g&&(b[c]=document.createElement("input"),b[c].type="hidden",b[c].name=decodeURIComponent(a[c].substring(0,g)),b[c].value=decodeURIComponent(a[c].substring(g+1)),this._formNode.appendChild(b[c]));return b};a.uploadFile=function(a,e,f,g){var h=
"yuiIO"+a.tId,j=document.getElementById(h),m=8<=c?!0:!1,r=this,s=e&&e.argument?e.argument:null,q,n,o,l,k;l={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",f);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",h);YAHOO.env.ua.ie&&!m?this._formNode.setAttribute("encoding","multipart/form-data"):this._formNode.setAttribute("enctype","multipart/form-data");
g&&(q=this.appendPostData(g));this._formNode.submit();this.startEvent.fire(a,s);a.startEvent&&a.startEvent.fire(a,s);e&&e.timeout&&(this._timeOut[a.tId]=window.setTimeout(function(){r.abort(a,e,!0)},e.timeout));if(q&&0<q.length)for(f=0;f<q.length;f++)this._formNode.removeChild(q[f]);for(n in l)YAHOO.lang.hasOwnProperty(l,n)&&(l[n]?this._formNode.setAttribute(n,l[n]):this._formNode.removeAttribute(n));this.resetFormState();k=function(){var c,f,g;e&&e.timeout&&(window.clearTimeout(r._timeOut[a.tId]),
delete r._timeOut[a.tId]);r.completeEvent.fire(a,s);a.completeEvent&&a.completeEvent.fire(a,s);o={tId:a.tId,argument:s};try{c=j.contentWindow.document.getElementsByTagName("body")[0],f=j.contentWindow.document.getElementsByTagName("pre")[0],c&&(g=f?f.textContent?f.textContent:f.innerText:c.textContent?c.textContent:c.innerText),o.responseText=g,o.responseXML=j.contentWindow.document.XMLDocument?j.contentWindow.document.XMLDocument:j.contentWindow.document}catch(h){}e&&e.upload&&(e.scope?e.upload.apply(e.scope,
[o]):e.upload(o));r.uploadEvent.fire(o);a.uploadEvent&&a.uploadEvent.fire(o);b.removeListener(j,"load",k);setTimeout(function(){document.body.removeChild(j);r.releaseObject(a)},100)};b.addListener(j,"load",k)}})();YAHOO.register("connection",YAHOO.util.Connect,{version:"2.9.0",build:"2800"});if(!window.console||!console.firebug){window.console={};for(var names="log,debug,info,warn,error,assert,dir,dirxml,group,groupEnd,time,timeEnd,count,trace,profile,profileEnd".split(","),i=0;i<names.length;++i)window.console[names[i]]=function(){}}
var BBURL="undefined"==typeof BBURL?"":BBURL,SESSIONURL="undefined"==typeof SESSIONURL?"":SESSIONURL,SECURITYTOKEN="undefined"==typeof SECURITYTOKEN?"":SECURITYTOKEN,vbphrase="undefined"==typeof vbphrase?[]:vbphrase,vB_Editor=[],ignorequotechars=!1,pagenavcounter=0,is_regexp=window.RegExp?!0:!1,AJAX_Compatible=!1,viewport_info=null,vB_Default_Timeout=15E3,userAgent=navigator.userAgent.toLowerCase(),is_opera=0<YAHOO.env.ua.opera,is_saf=0<YAHOO.env.ua.webkit,is_webtv=-1!=userAgent.indexOf("webtv"),
is_ie=0<YAHOO.env.ua.ie&&!is_opera&&!is_saf&&!is_webtv,is_ie4=4==YAHOO.env.ua.ie,is_ie7=7<=YAHOO.env.ua.ie,is_ie6=6==YAHOO.env.ua.ie,is_ps3=-1!=userAgent.indexOf("playstation 3"),is_moz=0<YAHOO.env.ua.gecko,is_kon=-1!=userAgent.indexOf("konqueror"),is_ns=-1==userAgent.indexOf("compatible")&&-1!=userAgent.indexOf("mozilla")&&!is_opera&&!is_webtv&&!is_saf,is_ns4=is_ns&&4==parseInt(navigator.appVersion),is_mac=-1!=userAgent.indexOf("mac"),pointer_cursor=is_ie?"hand":"pointer";
String.prototype.vBlength=function(){return is_ie&&-1!=this.indexOf("\n")?this.replace(/\r?\n/g,"_").length:this.length};"12"=="1234".substr(-2,2)&&(String.prototype.substr_orig=String.prototype.substr,String.prototype.substr=function(a,b){return"undefined"==typeof b?this.substr_orig(0>a?this.length+a:a):this.substr_orig(0>a?this.length+a:a,b)});
"undefined"===typeof Array.prototype.shift&&(Array.prototype.shift=function(){for(var a=0,b=this[0],c=this.length-1;a<c;a++)this[a]=this[a+1];this.length--;return b});function fetch_object(a){return document.getElementById?document.getElementById(a):document.all?document.all[a]:document.layers?document.layers[a]:null}function fetch_tags(a,b){return a==null?[]:typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName(b):a.all&&a.all.tags?a.all.tags(b):[]}
function crc32(a){for(var b=-1,c=0,d=c=0;d<a.length;d++){c=(b^a.charCodeAt(d))&255;c="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(c*
9,8);b=b>>>8^c}return b^-1}function fetch_tag_count(a,b){return fetch_tags(a,b).length}function do_an_e(a){if(!a||is_ie){window.event.returnValue=false;window.event.cancelBubble=true;return window.event}a.stopPropagation();a.preventDefault();return a}function e_by_gum(a){if(!a||is_ie){window.event.cancelBubble=true;return window.event}a.target.type=="submit"&&a.target.form.submit();a.stopPropagation();return a}
function validatemessage(a,b,c){if(b.length<1){alert(vbphrase.must_enter_subject);return false}if(PHP.trim(stripcode(a,false,ignorequotechars)).length<c){alert(construct_phrase(vbphrase.message_too_short,c));return false}if(typeof document.forms.vbform!="undefined"&&typeof document.forms.vbform.imagestamp!="undefined"){document.forms.vbform.imagestamp.failed=false;if(document.forms.vbform.imagestamp.value.length!=6){alert(vbphrase.complete_image_verification);document.forms.vbform.imagestamp.failed=
true;document.forms.vbform.imagestamp.focus();return false}}return true}
function stripcode(a,b,c){if(!is_regexp)return a;if(c)for(c=(new Date).getTime();(startindex=PHP.stripos(a,"[quote"))!==false;){if((new Date).getTime()-c>2E3)break;if((stopindex=PHP.stripos(a,"[/quote]"))!==false){fragment=a.substr(startindex,stopindex-startindex+8);a=a.replace(fragment,"")}else break;a=PHP.trim(a)}if(b){a=a.replace(/<img[^>]+src="([^"]+)"[^>]*>/gi,"$1");b=RegExp("<\\/\\w+>","gi");a=a.replace(RegExp("<(\\w+)[^>]*>","gi"),"");a=a.replace(b,"");a=a.replace(RegExp("(&nbsp;)","gi")," ")}else{b=
RegExp("\\[\\/(\\w+)\\]","gi");a=a.replace(RegExp("\\[(\\w+)(=[^\\]]*)?\\]","gi"),"");a=a.replace(b,"")}return a}function truncate_to_word(a,b){var c,d;c=a.split("");if(c.length>b){for(d=c.length-1;d>-1;--d)if(d>b)c.length=d;else if(" "===c[d]){c.length=d;break}c.push("...")}return c.join("")}function vB_PHP_Emulator(){}vB_PHP_Emulator.prototype.stripos=function(a,b,c){typeof c=="undefined"&&(c=0);index=a.toLowerCase().indexOf(b.toLowerCase(),c);return index==-1?false:index};
vB_PHP_Emulator.prototype.ltrim=function(a){return a.replace(/^\s+/g,"")};vB_PHP_Emulator.prototype.rtrim=function(a){return a.replace(/(\s+)$/g,"")};vB_PHP_Emulator.prototype.trim=function(a){return this.ltrim(this.rtrim(a))};vB_PHP_Emulator.prototype.preg_quote=function(a){return a.replace(/(\+|\{|\}|\(|\)|\[|\]|\||\/|\?|\^|\$|\\|\.|\=|\!|\<|\>|\:|\*)/g,"\\$1")};
vB_PHP_Emulator.prototype.match_all=function(a,b){var c=a.match(RegExp(b,"gim"));if(c){for(var d=[],e=RegExp(b,"im"),f=0;f<c.length;f++)d[d.length]=c[f].match(e);return d}return false};
vB_PHP_Emulator.prototype.unhtmlspecialchars=function(a,b){var c=[/&lt;/g,/&gt;/g,/&quot;/g,/&amp;/g],d=["<",">",'"',"&"],e;for(e in c)YAHOO.lang.hasOwnProperty(c,e)&&(a=a.replace(c[e],d[e]));if(b){is_ie&&(a=a.replace(/\n/g,"<#br#>"));c=document.createElement("textarea");c.innerHTML=a;a=c.value;null!=c.parentNode&&c.parentNode.removeChild(c);is_ie&&(a=a.replace(/<#br#>/g,"\n"))}return a};
vB_PHP_Emulator.prototype.unescape_cdata=function(a){return a.replace(/<\=\!\=\[\=C\=D\=A\=T\=A\=\[/g,"<![CDATA[").replace(/\]\=\]\=>/g,"]]\>")};vB_PHP_Emulator.prototype.htmlspecialchars=function(a){for(var b=[is_mac&&is_ie?RegExp("&","g"):RegExp("&(?!#[0-9]+;)","g"),RegExp("<","g"),RegExp(">","g"),RegExp('"',"g")],c=["&amp;","&lt;","&gt;","&quot;"],d=0;d<b.length;d++)a=a.replace(b[d],c[d]);return a};
vB_PHP_Emulator.prototype.in_array=function(a,b,c){var a=new String(a),d;if(c){a=a.toLowerCase();for(d in b)if(YAHOO.lang.hasOwnProperty(b,d)&&b[d].toLowerCase()==a)return d}else for(d in b)if(YAHOO.lang.hasOwnProperty(b,d)&&b[d]==a)return d;return-1};vB_PHP_Emulator.prototype.str_pad=function(a,b,c){a=new String(a);c=new String(c);if(a.length<b){for(padtext=new String(c);padtext.length<b-a.length;)padtext=padtext+c;a=padtext.substr(0,b-a.length)+a}return a};
vB_PHP_Emulator.prototype.urlencode=function(a){var a=escape(a.toString()).replace(/\+/g,"%2B"),b=a.match(/(%([0-9A-F]{2}))/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c].substring(1,3);parseInt(d,16)>=128&&(a=a.replace(b[c],"%u00"+d))}return a=a.replace("%25","%u0025")};vB_PHP_Emulator.prototype.ucfirst=function(a,b){if(typeof b!="undefined"){var c=a.indexOf(b);c>0&&(a=a.substr(0,c))}a=a.split(" ");for(c=0;c<a.length;c++)a[c]=a[c].substr(0,1).toUpperCase()+a[c].substr(1);return a.join(" ")};
function vB_AJAX_Handler(a){this.async=a?true:false;this.conn=null}vB_AJAX_Handler.prototype.init=function(){return AJAX_Compatible};vB_AJAX_Handler.is_compatible=function(){return AJAX_Compatible};vB_AJAX_Handler.prototype.onreadystatechange=function(a){this.callback=a};
vB_AJAX_Handler.prototype.fetch_data=function(a){console.warn('vB_AJAX_Handler.prototype.fetch_data() is deprecated.\nUse responseXML.getElementsByTagName("x")[i].firstChild.nodeValue instead.');return a&&a.firstChild&&a.firstChild.nodeValue?PHP.unescape_cdata(a.firstChild.nodeValue):""};vB_AJAX_Handler.prototype.send=function(a,b){this.conn=YAHOO.util.Connect.asyncRequest("POST",a,{success:this.callback},b+"&securitytoken="+SECURITYTOKEN+"&s="+fetch_sessionhash());this.handler=this.conn.conn};
function is_ajax_compatible(){if(typeof vb_disable_ajax!="undefined"&&vb_disable_ajax==2)return false;if(is_ie&&!is_ie4)return true;if(window.XMLHttpRequest)try{return(new XMLHttpRequest).setRequestHeader?true:false}catch(a){return false}else return false}AJAX_Compatible=is_ajax_compatible();console.info("This browser is%s AJAX compatible",AJAX_Compatible?"":" NOT");function vBulletin_AJAX_Error_Handler(a){console.warn("AJAX Error: Status = %s: %s",a.status,a.statusText)}
function vB_Hidden_Form(a){this.action=a;this.variables=[]}vB_Hidden_Form.prototype.add_variable=function(a,b){this.variables[this.variables.length]=[a,b];console.log("vB_Hidden_Form :: add_variable(%s)",a)};
vB_Hidden_Form.prototype.add_variables_from_object=function(a){if(a){console.info("vB_Hidden_Form :: add_variables_from_object(%s)",a.id);var b=fetch_tags(a,"input"),c;for(c=0;c<b.length;c++)if(!b[c].disabled)switch(b[c].type){case "checkbox":case "radio":b[c].checked&&this.add_variable(b[c].name,b[c].value);break;case "text":case "hidden":case "password":this.add_variable(b[c].name,b[c].value)}b=fetch_tags(a,"textarea");for(c=0;c<b.length;c++)b[c].disabled||this.add_variable(b[c].name,b[c].value);
a=fetch_tags(a,"select");for(c=0;c<a.length;c++)if(!a[c].disabled)if(a[c].multiple)for(b=0;b<a[c].options.length;b++)a[c].options[b].selected&&this.add_variable(a[c].name,a[c].options[b].value);else a[c].selectedIndex>-1&&this.add_variable(a[c].name,a[c].options[a[c].selectedIndex].value)}};vB_Hidden_Form.prototype.fetch_variable=function(a){for(var b=0;b<this.variables.length;b++)if(this.variables[b][0]==a)return this.variables[b][1];return null};
vB_Hidden_Form.prototype.submit_form=function(){this.form=document.createElement("form");this.form.method="post";this.form.action=this.action;for(var a=0;a<this.variables.length;a++){var b=document.createElement("input");b.type="hidden";b.name=this.variables[a][0];b.value=this.variables[a][1];this.form.appendChild(b)}console.info("vB_Hidden_Form :: submit_form() -> %s",this.action);document.body.appendChild(this.form).submit()};
vB_Hidden_Form.prototype.build_query_string=function(){for(var a="",b=0;b<this.variables.length;b++)a=a+(this.variables[b][0]+"="+PHP.urlencode(this.variables[b][1])+"&");console.info("vB_Hidden_Form :: Query String = %s",a);return a};vB_Hidden_Form.prototype.add_input=vB_Hidden_Form.prototype.add_variable;vB_Hidden_Form.prototype.add_inputs_from_object=vB_Hidden_Form.prototype.add_variables_from_object;
function vB_Select_Overlay_Handler(a){if(this.browser_affected=is_ie&&YAHOO.env.ua.ie<7){this.overlay=YAHOO.util.Dom.get(a);this.hidden_selects=[];console.log("Initializing <select> overlay handler for '%s'.",this.overlay.id)}}
vB_Select_Overlay_Handler.prototype.hide=function(){if(this.browser_affected)for(var a=YAHOO.util.Dom.getRegion(this.overlay),b=document.getElementsByTagName("select"),c=0;c<b.length;c++)if(region_intersects(b[c],a)&&!YAHOO.util.Dom.isAncestor(this.overlay,b[c])){YAHOO.util.Dom.setStyle(b[c],"visibility","hidden");this.hidden_selects.push(YAHOO.util.Dom.generateId(b[c]))}};
vB_Select_Overlay_Handler.prototype.show=function(){if(this.browser_affected)for(var a;a=this.hidden_selects.pop();)YAHOO.util.Dom.setStyle(a,"visibility","visible")};function openWindow(a,b,c,d){return window.open(getBaseUrl()+a,typeof d=="undefined"?"vBPopup":d,"statusbar=no,menubar=no,toolbar=no,scrollbars=yes,resizable=yes"+(typeof b!="undefined"?",width="+b:"")+(typeof c!="undefined"?",height="+c:""))}
function getBaseUrl(){try{var a=document.getElementsByTagName("base");if(a.length==0)return"";a=a[a.length-1].href;return!a?"":a.match(/.*[\/\\]/)}catch(b){return""}}function js_open_help(a,b,c){return openWindow("help.php?s="+SESSIONHASH+"&do=answer&page="+a+"&pageaction="+b+"&option="+c,600,450,"helpwindow")}function attachments(a){return openWindow("misc.php?"+SESSIONURL+"do=showattachments&t="+a,480,300)}function who(a){return openWindow("misc.php?"+SESSIONURL+"do=whoposted&t="+a,600,300)}
function imwindow(a,b,c,d){return openWindow("sendmessage.php?"+SESSIONURL+"do=im&type="+a+"&u="+b,c,d)}function SendMSNMessage(a){if(is_ie)try{MsgrObj.InstantMessage(a)}catch(b){alert(vbphrase.msn_functions_only_work_in_ie)}else alert(vbphrase.msn_functions_only_work_in_ie);return false}function AddMSNContact(a){if(is_ie)try{MsgrObj.AddContact(0,a)}catch(b){alert(vbphrase.msn_functions_only_work_in_ie)}else alert(vbphrase.msn_functions_only_work_in_ie);return false}
function detect_caps_lock(a){var a=a?a:window.event,b=a.which?a.which:a.keyCode?a.keyCode:a.charCode?a.charCode:0,c=a.shiftKey||a.modifiers&&a.modifiers&4,a=a.ctrlKey||a.modifiers&&a.modifiers&2;return b>=65&&b<=90&&!c&&!a||b>=97&&b<=122&&c}function log_out(a){var b=document.getElementsByTagName("html")[0];b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)";if(confirm(a))return true;b.style.filter="";return false}
function set_cookie(a,b,c){console.log("Set Cookie :: %s = '%s'",a,b);document.cookie=a+"="+escape(b)+"; path=/"+(typeof c!="undefined"?"; expires="+c.toGMTString():"")}
function set_subcookie(a,b,c,d,e,f){var e=typeof e=="undefined"?":":e,f=typeof f=="undefined"?"#":f,g=fetch_cookie(a);if(g!=null&&g!=""){g=g.split(e);if(g.length>0)for(var h="",j=0;j<g.length;j++){var m=g[j].split(f);if(m[0]!=b){h=h+(h!=""?e:"");h=h+(m[0]+f+m[1])}}h=h+(h!=""?e:"")+(b+f+c)}else h=b+f+c;console.log("Set Sub Cookie :: %s : '%s:%s'",a,b,c);set_cookie(a,h,d)}
function fetch_subcookie(a,b,c){c=typeof c=="undefined"?":":c;valuesep=typeof valuesep=="undefined"?"#":valuesep;a=fetch_cookie(a);if(a!=null&&a!=""){a=a.split(c);if(a.length>0)for(c=0;c<a.length;c++){var d=a[c].split(valuesep);if(d[0]==b)return d[1]}}return null}function delete_cookie(a){console.log("Delete Cookie :: %s",a);document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"}
function fetch_cookie(a){cookie_name=a+"=";cookie_length=document.cookie.length;for(cookie_begin=0;cookie_begin<cookie_length;){value_begin=cookie_begin+cookie_name.length;if(document.cookie.substring(cookie_begin,value_begin)==cookie_name){var b=document.cookie.indexOf(";",value_begin);b==-1&&(b=cookie_length);b=unescape(document.cookie.substring(value_begin,b));console.log("Fetch Cookie :: %s = '%s'",a,b);return b}cookie_begin=document.cookie.indexOf(" ",cookie_begin)+1;if(cookie_begin==0)break}console.log("Fetch Cookie :: %s (null)",
a);return null}function js_toggle_all(a,b,c,d,e){for(var f=0;f<a.elements.length;f++){var g=a.elements[f];if(g.type==b&&PHP.in_array(g.name,d,false)==-1)switch(b){case "radio":if(g.value==c)g.checked=e;break;case "select-one":g.selectedIndex=e;break;default:g.checked=e}}}function js_select_all(a){exclude=["selectall"];js_toggle_all(a,"select-one","",exclude,a.selectall.selectedIndex)}
function js_check_all(a){exclude=["keepattachments","allbox","removeall"];js_toggle_all(a,"checkbox","",exclude,a.allbox.checked)}function js_check_all_option(a,b){exclude=["useusergroup"];js_toggle_all(a,"radio",b,exclude,true)}function checkall(a){js_check_all(a)}function checkall_option(a,b){js_check_all_option(a,b)}
function resize_textarea(a,b){var c=fetch_object(b),d=parseInt(c.offsetWidth)+(a<0?-100:100),e=parseInt(c.offsetHeight)+(a<0?-100:100);if(d>0)c.style.width=parseInt(c.offsetWidth)+(a<0?-100:100)+"px";if(e>0)c.style.height=parseInt(c.offsetHeight)+(a<0?-100:100)+"px";return false}
function region_intersects(a,b){a=typeof a.left=="undefined"?YAHOO.util.Dom.getRegion(a):a;b=typeof b.left=="undefined"?YAHOO.util.Dom.getRegion(b):b;return a.left>b.right||a.right<b.left||a.top>b.bottom||a.bottom<b.top?false:true}
function fetch_viewport_info(a){if(viewport_info==null||a){viewport_info={x:YAHOO.util.Dom.getDocumentScrollLeft(),y:YAHOO.util.Dom.getDocumentScrollTop(),w:YAHOO.util.Dom.getViewportWidth(),h:YAHOO.util.Dom.getViewportHeight()};console.info("Viewport Info: Size = %dx%d, Position = %d,%d",viewport_info.w,viewport_info.h,viewport_info.x,viewport_info.y)}return viewport_info}function clear_viewport_info(){viewport_info=null}
function center_element(a,b,c,d){viewport_info=fetch_viewport_info(b);b=viewport_info.h/2+viewport_info.y-a.clientHeight/2;d&&b>d&&(b=d);YAHOO.util.Dom.setXY(a,[viewport_info.w/2+viewport_info.x-a.clientWidth/2,b]);if(document.documentElement.dir=="rtl"){c?YAHOO.util.Dom.setStyle(a,"right",0):YAHOO.util.Dom.setStyle(a,"right",YAHOO.util.Dom.getStyle(a,"left"));YAHOO.util.Dom.setStyle(a,"left",null)}}
function fetch_all_stylesheets(){for(var a=[],b=0,c=null,d=0,e=0,b=0;b<document.styleSheets.length;b++){c=document.styleSheets[b];a.push(c);try{if(c.cssRules)for(d=0;d<c.cssRules.length;d++)c.cssRules[d].styleSheet&&a.push(c.cssRules[d].styleSheet);else if(c.imports)for(e=0;e<c.imports.length;e++)a.push(c.imports[e])}catch(f){a.pop()}}return a}
function highlight_login_box(){var a=fetch_object("navbar_username"),b;if(a){a.focus();a.select();for(b=0;b<1600;b=b+400){window.setTimeout(function(){YAHOO.util.Dom.addClass(a,"inlinemod")},b);window.setTimeout(function(){YAHOO.util.Dom.removeClass(a,"inlinemod")},b+200)}}return false}function toggle_collapse(){return false}function vBpagenav(){}
vBpagenav.prototype.controlobj_onclick=function(a){this._onclick(a);for(var a=fetch_tags(this.menu.menuobj,"input"),b=0;b<a.length;b++)if(a[b].type=="text"){a[b].focus();break}};vBpagenav.prototype.form_gotopage=function(){if((pagenum=parseInt(fetch_object("pagenav_itxt").value,10))>0)window.location=vBmenu.menus[vBmenu.activemenu].addr+"&page="+pagenum;return false};vBpagenav.prototype.ibtn_onclick=function(){return this.form.gotopage()};
vBpagenav.prototype.itxt_onkeypress=function(a){return(a?a:window.event).keyCode==13?this.form.gotopage():true};function vbmenu_register(a,b){return typeof vBmenu=="object"?vBmenu.register(a,b):false}function string_to_node(a){var b=document.createElement("div");b.innerHTML=a;for(a=b.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a?a.cloneNode(true):b.firstChild.cloneNode(true)}
function set_unselectable(a){a=YAHOO.util.Dom.get(a);if(!is_ie4&&typeof a.tagName!="undefined"){if(a.hasChildNodes())for(var b=0;b<a.childNodes.length;b++)set_unselectable(a.childNodes[b]);a.unselectable="on"}}function fetch_sessionhash(){return SESSIONURL==""?"":SESSIONURL.substr(2,32)}function previousSibling(a){do p=a.previousSibling;while(p&&p.nodeType!=1);return p}function nextSibling(a){do p=a.nextSibling;while(p&&p.nodeType!=1);return p}
function construct_phrase(){if(!arguments||arguments.length<1||!is_regexp)return false;for(var a=arguments,b=a[0],c,d=1;d<a.length;d++){c=RegExp("%"+d+"\\$s","gi");b=b.replace(c,a[d])}return b}
function switch_id(a,b){var c=a.options[a.selectedIndex].value;if(c!=""){var d=new String(window.location),e=new String(""),d=d.split("#");d[1]&&(e="#"+d[1]);d=d[0];d.indexOf(b+"id=")!=-1&&is_regexp&&(d=d.replace(RegExp(b+"id=\\d+&?"),""));if(d.indexOf("?")==-1)d=d+"?";else{lastchar=d.substr(d.length-1);lastchar!="&"&&lastchar!="?"&&(d=d+"&")}window.location=d+b+"id="+c+e}}function child_img_alt_2_title(a){for(var a=a.getElementsByTagName("img"),b=0;b<a.length;b++)img_alt_2_title(a[b])}
function img_alt_2_title(a){if(!a.title&&a.alt!="")a.title=a.alt}function do_securitytoken_replacement(a){if(a!=""){for(var b=0;b<document.forms.length;b++)if(document.forms[b].elements.securitytoken&&document.forms[b].elements.securitytoken.value==SECURITYTOKEN)document.forms[b].elements.securitytoken.value=a;SECURITYTOKEN=a;console.log("Securitytoken updated")}}
function handle_securitytoken_response(a){console.log("Processing securitytoken update");if(a.responseXML&&a.responseXML.getElementsByTagName("securitytoken").length){a=a.responseXML.getElementsByTagName("securitytoken")[0].firstChild.nodeValue;do_securitytoken_replacement(a);securitytoken_errors=0}else handle_securitytoken_error(a)}function handle_securitytoken_error(){console.log("Securitytoken Error");++securitytoken_errors==3&&do_securitytoken_replacement("guest")}
var securitytoken_timeout=window.setTimeout("replace_securitytoken()",36E5),securitytoken_errors=0;
function replace_securitytoken(){window.clearTimeout(securitytoken_timeout);if(AJAX_Compatible&&SECURITYTOKEN!=""&&SECURITYTOKEN!="guest"){securitytoken_timeout=window.setTimeout("replace_securitytoken()",36E5);YAHOO.util.Connect.asyncRequest("POST","ajax.php",{success:handle_securitytoken_response,failure:handle_securitytoken_error,timeout:vB_Default_Timeout},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=securitytoken")}}
function Comment_Init(a){if(typeof a.id!="undefined"){var b=a.id;if(isNaN(b)){var c=null;if(c=b.match(/(\d+)/))b=c[0]}typeof inlineMod_comment!="undefined"&&im_init(a,inlineMod_comment);typeof vB_QuickEditor_Factory!="undefined"&&(typeof vB_QuickEditor_Factory.controls[b]=="undefined"?vB_QuickEditor_Factory.controls[b]=new vB_QuickEditor(b,vB_QuickEditor_Factory):vB_QuickEditor_Factory.controls[b].init());typeof vB_QuickLoader_Factory!="undefined"&&(vB_QuickLoader_Factory.controls[b]=new vB_QuickLoader(b,
vB_QuickLoader_Factory));child_img_alt_2_title(a);if(typeof YAHOO.vBulletin.vBRestrain!="undefined"){YAHOO.vBulletin.vBRestrain.addcontainer(a);YAHOO.vBulletin.vBRestrain.resize(a)}}}
function vBulletin_init(){if(is_webtv)return false;child_img_alt_2_title(document);if(typeof vBmenu=="object"){if(typeof YAHOO!="undefined"){YAHOO.util.Event.on(document,"click",vbmenu_hide);YAHOO.util.Event.on(window,"resize",vbmenu_hide)}else if(window.attachEvent&&!is_saf){document.attachEvent("onclick",vbmenu_hide);window.attachEvent("onresize",vbmenu_hide)}else if(document.addEventListener&&!is_saf){document.addEventListener("click",vbmenu_hide,false);window.addEventListener("resize",vbmenu_hide,
false)}else{window.onclick=vbmenu_hide;window.onresize=vbmenu_hide}for(var a=fetch_tags(document,"td"),b=0;b<a.length;b++)if(a[b].hasChildNodes()&&a[b].firstChild.name&&a[b].firstChild.name.indexOf("PageNav")!=-1){var c=a[b].title;a[b].title="";a[b].innerHTML="";a[b].id="pagenav."+b;var d=vBmenu.register(a[b].id);d.addr=c;if(is_saf){d.controlobj._onclick=d.controlobj.onclick;d.controlobj.onclick=vBpagenav.prototype.controlobj_onclick}}if(typeof c!="undefined"){fetch_object("pagenav_form").gotopage=
vBpagenav.prototype.form_gotopage;fetch_object("pagenav_ibtn").onclick=vBpagenav.prototype.ibtn_onclick;fetch_object("pagenav_itxt").onkeypress=vBpagenav.prototype.itxt_onkeypress}vBmenu.activate(true)}vBulletin.init();return true}function vBulletin_Framework(){this.elements=[];this.ajaxurls=[];this.events=[];this.time=new Date;this.add_event("systemInit")}vBulletin_Framework.prototype.init=function(){console.info("Firing System Init");this.events.systemInit.fire()};
vBulletin_Framework.prototype.extend=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.baseConstructor=b;a.superClass=b.prototype};vBulletin_Framework.prototype.register_control=function(a,b){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);if(!this.elements[a]){console.info('Creating array vBulletin.elements["%s"]',a);this.elements[a]=[]}d=this.elements[a].push(c);console.log('vBulletin.elements["%s"][%d] = %s',a,d-1,c.join(", "))};
vBulletin_Framework.prototype.register_ajax_urls=function(a,b,c){a=a.split("?");a[1]=SESSIONURL+"securitytoken="+SECURITYTOKEN+"&ajax=1&"+a[1].replace(/\{(\d+)(:\w+)?\}/gi,"%$1$s");b=b.split("?");b[1]=SESSIONURL+"securitytoken="+SECURITYTOKEN+"&ajax=1&"+b[1].replace(/\{(\d+)(:\w+)?\}/gi,"%$1$s");console.log("Register AJAX URLs for %s",c);for(var d=0;d<c.length;d++)this.ajaxurls[c[d]]=[a,b]};vBulletin_Framework.prototype.add_event=function(a){this.events[a]=new YAHOO.util.CustomEvent(a)};
vBulletin_Framework.prototype.console=function(){if(window.console||console.firebug){for(var a=[],b=0;b<arguments.length;b++)a[a.length]=arguments[b];try{eval("console.log('"+a.join("','")+"');")}catch(c){}}};var PHP=new vB_PHP_Emulator,vBulletin=new vBulletin_Framework;vBulletin.events.systemInit.subscribe(function(){YAHOO.util.Event.on(window,"resize",clear_viewport_info);YAHOO.util.Event.on(window,"scroll",clear_viewport_info)});
function handle_dismiss_notice_error(a){if(a.argument){YAHOO.util.Dom.get("dismiss_notice_hidden").value=a.argument;YAHOO.util.Dom.get("notices").submit()}}
function handle_dismiss_notice_ajax(a){if(a.responseXML&&a.responseXML.getElementsByTagName("dismissed").length){a=a.responseXML.getElementsByTagName("dismissed")[0].firstChild.nodeValue;a=YAHOO.util.Dom.get("navbar_notice_"+a);if(a!=null){YAHOO.util.Dom.setStyle(a,"display","none");var a=YAHOO.util.Dom.get("notices").getElementsByTagName("li"),b=0;if(a.length){for(var c=0;c<a.length;c++)YAHOO.util.Dom.getStyle(a[c],"display")!="none"&&b++;b==0&&YAHOO.util.Dom.setStyle("notices","display","none")}}}else handle_dismiss_notice_error(a)}
function dismiss_notice(a){if(AJAX_Compatible){YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=dismissnotice",{success:handle_dismiss_notice_ajax,failure:handle_dismiss_notice_error,timeout:vB_Default_Timeout,argument:a},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=dismissnotice&noticeid="+PHP.urlencode(a));return false}return true}function page_jump(a){window.location=a.options[a.selectedIndex].value}
function loadVbCss(a,b){if(!window.LESS_THAN_IE7){var c=fetch_object("e_vb_meta_bburl");if(c){var d=!b&&a.indexOf(c.content)==-1?c.content+"/"+a:a,c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("href",d);c.setAttribute("media","screen");c.setAttribute("type","text/css");c.setAttribute("charset","utf-8");d=document.getElementsByTagName("head");(d=d[0]?d[0]:null)&&d.appendChild(c)}}}
if(!window.console||!console.firebug){window.console={};names="log,debug,info,warn,error,assert,dir,dirxml,group,groupEnd,time,timeEnd,count,trace,profile,profileEnd".split(",");for(i=0;i<names.length;++i)window.console[names[i]]=function(){}}YAHOO.namespace("vBulletin");YAHOO.vBulletin.vB_XHTML_Ready=!1;var vB_XHTML_Ready=new YAHOO.util.CustomEvent;YAHOO.util.Event.onDOMReady(function(){console.log("Fire vB_XHTML_Ready");vB_XHTML_Ready.fire();YAHOO.vBulletin.vB_XHTML_Ready=true});vB_XHTML_Ready.subscribe(init_breadcrumb);
function init_breadcrumb(){for(var a=YAHOO.util.Dom.get("breadcrumb").getElementsByTagName("li"),b=0;b<a.length;b++);}function register_inlinemod(a,b,c,d,e,f){YAHOO.namespace("vBulletin.imodcollection."+d);YAHOO.vBulletin.imodcollection[d]=new InlineModCollection(d,d+"_imodsel",f);YAHOO.vBulletin.imodcollection[d].add_controls(YAHOO.util.Dom.getElementsByClassName(c,b,a),e)}
function register_inlinemod_checkboxes(a,b,c,d,e,f,g){e=new InlineModCollection(e,null,g);e.add_controls(YAHOO.util.Dom.getElementsByClassName(c,b,a),f);e.add_checkboxes(d)}YAHOO.namespace("vBulletin.imodcollections");
function InlineModCollection(a,b,c){this.type=a;this.collection=[];typeof c=="undefined"&&(c="vbulletin_inline");this.cookiename=c+this.type;this.selecteditems=this.fetch_ids();this.set_display_count(this.selecteditems.length);this.init_selector(b);YAHOO.vBulletin.imodcollections[a]=this}InlineModCollection.get=function(a){return YAHOO.vBulletin.imodcollections[a]};
InlineModCollection.prototype.add_controls=function(a,b){typeof b=="undefined"&&(b=this.type+"_");for(var c=0;c<a.length;c++){var d=a[c],e=d.id.substr(b.length);this.add_control(new InlineModControl(d,e,this))}};InlineModCollection.prototype.add_checkboxes=function(a){for(var a=YAHOO.util.Dom.getElementsByClassName(this.type+"_checkall","input",a),b=0;b<a.length;b++){var c=a[b];if(c.type=="checkbox")YAHOO.util.Event.on(c,"click",this.set_from_checkbox,this,true)}};
InlineModCollection.prototype.add_control=function(a){if(PHP.in_array(a.itemid,this.selecteditems)!=-1){a.checkbox.checked=true;a.set_inlinemod_highlight()}this.collection.push(a)};InlineModCollection.prototype.init_selector=function(a){a=YAHOO.util.Dom.get(a);if(a!=null)for(var b=a.getElementsByTagName("a"),c=0;c<b.length;c++)if(b[c].id&&b[c].id.substr(0,a.id.length)==a.id)YAHOO.util.Event.on(b[c],"click",this.set_all_selections,this,true)};
InlineModCollection.prototype.set_from_checkbox=function(a){for(var a=YAHOO.util.Event.getTarget(a),b=0;b<this.collection.length;b++)this.collection[b].set_selection_from_checkbox(a);this.update_collection_state()};
InlineModCollection.prototype.set_all_selections=function(a){var b=YAHOO.util.Event.getTarget(a);"a"!=b.tagName.toLowerCase()&&(b=YAHOO.util.Dom.getAncestorByTagName(b,"A"));console.log("Do:%s, ID:%s",b.innerHTML,b.id);for(var b=b.id.split(":"),c=0;c<this.collection.length;c++)this.collection[c].set_selection(b);this.update_collection_state();YAHOO.util.Event.stopEvent(a);YAHOO.vBulletin.vBPopupMenu.close_all()};
InlineModCollection.prototype.update_collection_state=function(){for(var a=[],b=0;b<this.collection.length;b++)a.push(this.collection[b].itemid);if(a.length)this.selecteditems=this.remove_items(this.selecteditems,a);for(b=0;b<this.collection.length;b++)this.collection[b].checkbox.checked&&this.selecteditems.push(this.collection[b].itemid);this.set_cookie(this.selecteditems);this.set_display_count(this.selecteditems.length)};
InlineModCollection.prototype.update_state=function(a,b){this.selecteditems=this.remove_items(this.selecteditems,Array(a));b&&this.selecteditems.push(a);this.set_cookie(this.selecteditems);this.set_display_count(this.selecteditems.length)};InlineModCollection.prototype.remove_items=function(a,b){for(var c=[],d=0;d<a.length;d++)a[d]!=""&&PHP.in_array(a[d],b)==-1&&c.push(a[d]);return c};
InlineModCollection.prototype.set_cookie=function(a){var b=new Date;b.setTime(b.getTime()+36E5);set_cookie(this.cookiename,a.join("-"),b)};InlineModCollection.prototype.fetch_ids=function(){var a=fetch_cookie(this.cookiename);if(a!=null&&a!=""){a=a.split("-");if(a.length>0)return a}return[]};InlineModCollection.prototype.set_display_count=function(a){var b=YAHOO.util.Dom.get(this.type+"_inlinemod_count");if(b)b.innerHTML=a};
function InlineModControl(a,b,c){var d=c.type+"_imod_checkbox_"+b;this.container=YAHOO.util.Dom.get(a);this.checkbox=YAHOO.util.Dom.get(d);this.itemid=b;this.collection=c;if(this.checkbox)YAHOO.util.Event.on(this.checkbox,"click",this.set_inlinemod_state,this,true);else console.warn("No inlinemod selection checkbox found for "+d)}InlineModControl.prototype.init_collection=function(a){if(typeof YAHOO.vBulletin.imodcollection=="undefined")YAHOO.vBulletin.imodcollection=new InlineModCollection(a);return YAHOO.vBulletin.imodcollection};
InlineModControl.prototype.set_selection_from_checkbox=function(a){if(!(a.value!="all"&&a.value!=this.checkbox.value)){this.checkbox.checked=a.checked;this.set_inlinemod_highlight()}};
InlineModControl.prototype.set_selection=function(a){switch(a[1]){case "invert":this.checkbox.checked=!this.checkbox.checked;break;case "none":this.checkbox.checked=false;break;case "class":this.checkbox.checked=YAHOO.util.Dom.hasClass(this.container,a[2]);break;case "flag":this.checkbox.checked=typeof a[2]!=void 0&&!isNaN(a[2])?this.checkbox.value&a[2]:true;break;default:case "all":this.checkbox.checked=true}this.set_inlinemod_highlight()};
InlineModControl.prototype.set_inlinemod_state=function(){this.collection.update_state(this.itemid,this.checkbox.checked);this.set_inlinemod_highlight()};InlineModControl.prototype.set_inlinemod_highlight=function(){var a=this.checkbox.checked?"addClass":"removeClass";YAHOO.util.Dom[a](this.container,"imod_highlight");console.log("Set Inlinemod State for %s - %s",this.itemid,a)};vB_XHTML_Ready.subscribe(init_searchboxes);
function init_searchboxes(){for(var a=YAHOO.util.Dom.getElementsByClassName("searchbox","input"),b=0;b<a.length;b++)new YAHOO.vBulletin.SearchBox(a[b])}
YAHOO.vBulletin.LoadScript=function(a,b){var c=document.createElement("script");YAHOO.util.Dom.setAttribute(c,"type","text/javascript");if(typeof b!="undefined")c.readyState?c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){c.onreadystatechange=null;b()}}:c.onload=function(){b()};YAHOO.util.Dom.setAttribute(c,"src",a+"?"+Math.floor(Math.random()*1E5));document.getElementsByTagName("head")[0].appendChild(c)};
YAHOO.vBulletin.LoadCss=function(a){var b=document.createElement("link");YAHOO.util.Dom.setAttribute(b,"type","text/css");YAHOO.util.Dom.setAttribute(b,"rel","stylesheet");YAHOO.util.Dom.setAttribute(b,"href",a);document.getElementsByTagName("head")[0].appendChild(b)};YAHOO.vBulletin.SearchBox=function(a){this.element=a;this.default_value=this.element.value;YAHOO.util.Event.on(this.element,"focus",this.focus_handler,this,true);YAHOO.util.Event.on(this.element,"blur",this.blur_handler,this,true)};
YAHOO.vBulletin.SearchBox.prototype.focus_handler=function(){if(this.element.value==this.default_value)this.element.value="";this.element.select()};YAHOO.vBulletin.SearchBox.prototype.blur_handler=function(){if(this.element.value=="")this.element.value=this.default_value};vB_XHTML_Ready.subscribe(init_popupmenus);function init_popupmenus(a){YAHOO.vBulletin.vBPopupMenu=new PopupFactory(a)}
function PopupFactory(a){this.menu_open=false;this.menuclose_timeout=this.timeout=null;this.popups={};this.instrument(a);YAHOO.util.Event.on(document,"click",this.close_all,this,true)}PopupFactory.prototype.instrument=function(a){for(var a=YAHOO.util.Dom.getElementsByClassName("popupmenu",void 0,a),b=0;b<a.length;b++)YAHOO.util.Dom.hasClass(a[b],"popupcustom")||this.register(a[b])};PopupFactory.prototype.register=function(a){this.popups[YAHOO.util.Dom.generateId(a)]=new PopupMenu(a,this)};
PopupFactory.prototype.register_menuobj=function(a){this.popups[YAHOO.util.Dom.generateId(a.container)]=a};PopupFactory.prototype.close_all=function(){if(this.menu_open){for(var a in this.popups)this.popups[a].close_menu();this.menu_open=false}};function PopupMenu(a,b){this.init(a,b)}
PopupMenu.prototype.init=function(a,b){this.container=a;this.factory=b;this.display=false;this.menu=null;this.activate_menu();this.control=null;this.activate_control();this.form=this.locator=null;this.popup_form_elements=[];this.textdirection=document.documentElement.dir=="rtl"?"right":"left"};
PopupMenu.prototype.activate_menu=function(){var a=YAHOO.util.Dom.getElementsByClassName("popupbody","*",this.container);if(a.length){this.menu=a[0];YAHOO.util.Dom.generateId(this.menu);if(YAHOO.util.Dom.hasClass(this.container,"hovermenu")){YAHOO.util.Event.on(this.menu,"mouseover",this.cancel_menutimer,this,true);YAHOO.util.Event.on(this.menu,"mouseout",this.start_menutimer,this,true)}}YAHOO.util.Dom.removeClass(a[0],"popuphover");YAHOO.util.Event.on(a[0],"click",this.cancel_close,this,true)};
PopupMenu.prototype.activate_control=function(){var a=YAHOO.util.Dom.getElementsByClassName("popupctrl","",this.container);if(a.length){this.control=a[0];YAHOO.util.Dom.generateId(this.control);if(!YAHOO.util.Dom.hasClass(this.container,"noclick"))YAHOO.util.Event.on(this.control,"click",this.toggle_menu,this,true);if(YAHOO.util.Dom.hasClass(this.container,"hovermenu")){YAHOO.util.Event.on(this.control,"mouseover",this.open_hovermenu,this,true);YAHOO.util.Event.on(this.control,"mouseout",this.start_menutimer,
this,true)}else if(!YAHOO.util.Dom.hasClass(this.container,"nomouseover")){YAHOO.util.Event.on(this.control,"mouseover",this.mouseover,this,true);YAHOO.util.Event.on(this.control,"mouseout",this.mouseout,this,true)}}};PopupMenu.prototype.cancel_close=function(a){YAHOO.util.Event.stopPropagation(a)};PopupMenu.prototype.mouseover=function(a){this.factory.menu_open&&this.open_menu(a)};PopupMenu.prototype.mouseout=function(){this.factory.timeout!=null&&this.factory.timeout.cancel()};
PopupMenu.prototype.open_hovermenu=function(a){this.cancel_menutimer(a);this.open_menu(a)};PopupMenu.prototype.start_menutimer=function(a){this.factory.menuclose_timeout=YAHOO.lang.later(300,this,"close_menu",[{e:a}])};PopupMenu.prototype.cancel_menutimer=function(){this.factory.menuclose_timeout!=null&&this.factory.menuclose_timeout.cancel()};PopupMenu.prototype.toggle_menu=function(a){this.display?this.close_menu():this.open_menu(a);YAHOO.util.Event.stopEvent(a)};
PopupMenu.prototype.load_menu=function(a){var b={},c;for(c in a)b[c]=a[c];YAHOO.util.Connect.asyncRequest("POST","load-popup.php?id="+this.container.id,{success:this.handle_menu_load,failure:null,timeout:null,scope:this,argument:{e:b}},"id="+this.container.id)};PopupMenu.prototype.handle_menu_load=function(){alert("Load menu!")};
PopupMenu.prototype.open_menu=function(a){if(YAHOO.lang.isNull(this.menu))this.load_menu(a);else{this.factory.timeout!=null&&this.factory.timeout.cancel();this.factory.close_all();a=typeof a=="object"?YAHOO.util.Event.getTarget(a):YAHOO.util.Dom.get(a);a!=null&&(a=YAHOO.util.Dom.hasClass(a,"popupctrl")?a:YAHOO.util.Dom.getAncestorByClassName(a,"popupctrl"));this.set_display(true,a);this.factory.menu_open=true}};
PopupMenu.prototype.close_menu=function(){this.set_display(false);this.factory.menu_open=false};PopupMenu.prototype.set_display=function(a,b){if(!YAHOO.lang.isNull(this.menu)){typeof b!="undefined"&&YAHOO.util.Dom.hasClass(b.parentNode,"editormenu");if(this.display=a){if(this.check_menu(this.menu)){YAHOO.util.Dom.setStyle(this.menu,"display","block");this.set_offset(this.menu,b);this.set_control_style()}}else{YAHOO.util.Dom.setStyle(this.menu,"display","none");this.set_control_style()}}};
PopupMenu.prototype.check_menu=function(a){if(!YAHOO.util.Dom.hasClass(a,"noempty"))return true;a=this.menu.getElementsByTagName("li");if(a.length)for(var b=0;b<a.length;b++)if(!YAHOO.util.Dom.hasClass(a[b],"noempty"))return true;return false};PopupMenu.prototype.register_popup_form=function(a){if(a=this.contains_form_elements(a))this.form=a.form};
PopupMenu.prototype.contains_form_elements=function(a){var b=null,b=a.getElementsByTagName("input");if(b.length)return b[0];b=a.getElementsByTagName("textarea");if(b.length)return b[0];b=a.getElementsByTagName("select");return b.length?b[0]:false};
PopupMenu.prototype.handle_popup_form_submit=function(a){YAHOO.util.Event.stopEvent(a);for(var a=YAHOO.util.Event.getTarget(a),b=0;b<a.elements.length;b++){var c=a.elements[b];if(c.name)switch(c.tagName){case "textarea":case "select":this.replicate_form_value(c);break;default:switch(c.type){case "hidden":case "text":case "password":this.replicate_form_value(c);break;case "checkbox":case "radio":c.checked&&this.replicate_form_value(c)}}}this.form.submit()};
PopupMenu.prototype.replicate_form_value=function(a){if(this.form.elements[a.name])this.form.elements[a.name].value=a.value;else{var b=document.createElement("input");b.name=a.name;b.type="hidden";b.value=a.value;this.form.appendChild(b)}};PopupMenu.prototype.handle_popup_form_reset=function(a){YAHOO.util.Event.getTarget(a).reset();this.form.reset()};
PopupMenu.prototype.set_offset=function(a,b){if(b){var c=YAHOO.util.Dom.getX(b),d=YAHOO.util.Dom.getY(b),e=b.offsetWidth,f=b.offsetHeight;if(this.textdirection=="left")YAHOO.util.Dom.setX(a,c);else{YAHOO.util.Dom.setX(a,c+e-a.offsetWidth);YAHOO.util.Dom.setStyle(a,"right","auto")}YAHOO.util.Dom.setY(a,d+f);c=YAHOO.util.Dom.getClientRegion();e=YAHOO.util.Dom.getRegion(a);if(e.right>c.right){YAHOO.util.Dom.setX(a,c.right-(a.offsetWidth+2));e=YAHOO.util.Dom.getRegion(a)}if(e.left<c.left){YAHOO.util.Dom.setX(a,
c.left);e=YAHOO.util.Dom.getRegion(a)}if(e.bottom>c.bottom){YAHOO.util.Dom.setY(a,d-a.offsetHeight);e=YAHOO.util.Dom.getRegion(a)}e.top<c.top&&YAHOO.util.Dom.setY(a,c.top)}};PopupMenu.prototype.set_control_style=function(){YAHOO.util.Dom[this.display?"addClass":"removeClass"](this.control,"active")};vB_XHTML_Ready.subscribe(init_collapsers);function init_collapsers(){new vBCollapseFactory}
function vBCollapseFactory(a){for(var a=YAHOO.util.Dom.getElementsByClassName("collapse","a",a),b=0;b<a.length;b++)new vBCollapse(a[b],this);apply_collapses()}function vBCollapse(a,b){this.init(a,b)}
vBCollapse.prototype.init=function(a,b){this.link=a;this.factory=b;this.image=this.target=this.targetid=null;this.targetid=this.link.id.match(/^collapse_(.*)$/)[1];this.target=YAHOO.util.Dom.get(this.targetid);this.image=this.link.getElementsByTagName("img")[0];if(this.target){this.target.vBCollapseInstance=this;YAHOO.util.Event.on(this.link,"click",this.toggle_collapse,this,true)}else this.targetid.substr(0,5)=="c_cat"?YAHOO.util.Dom.setStyle(this.link,"display","none"):console.error("Unable to enable collapse button: #collapse_"+
this.targetid+". Element to collapse is missing: #"+this.targetid)};vBCollapse.prototype.collapse=function(){YAHOO.util.Dom.setStyle(this.target,"display","none");this.save_collapsed(true);if(this.image&&!this.image.src.match(/_collapsed.png$/))this.image.src=this.image.src.replace(/\.png$/,"_collapsed.png")};vBCollapse.prototype.expand=function(){YAHOO.util.Dom.setStyle(this.target,"display","");this.save_collapsed(false);if(this.image)this.image.src=this.image.src.replace(/_collapsed\.png$/,".png")};
vBCollapse.prototype.toggle_collapse=function(a){YAHOO.util.Event.stopEvent(a);if(!is_regexp)return false;YAHOO.util.Dom.getStyle(this.target,"display")=="none"?this.expand():this.collapse();return false};
vBCollapse.prototype.save_collapsed=function(a){var b=fetch_cookie("vbulletin_collapse"),c=[];if(b!=null){var b=b.split("\n"),d;for(d in b)YAHOO.lang.hasOwnProperty(b,d)&&b[d]!=this.targetid&&b[d]!=""&&(c[c.length]=b[d])}if(a)c[c.length]=this.targetid;expires=new Date;expires.setTime(expires.getTime()+31536E6);set_cookie("vbulletin_collapse",c.join("\n"),expires)};
function apply_collapses(){var a=fetch_cookie("vbulletin_collapse");if(a!=null){var a=a.split("\n"),b;for(b in a){var c=YAHOO.util.Dom.get(a[b]);c&&c.vBCollapseInstance.collapse()}}}
function PostBit_Init(a,b){console.log("PostBit Init: %d",b);YAHOO.vBulletin.vBPopupMenu.instrument(a);typeof vB_QuickEditor!="undefined"&&vB_AJAX_QuickEdit_Init(a);typeof vB_QuickReply!="undefined"&&qr_init_buttons(a);if(typeof YAHOO.vBulletin.imodcollection!="undefined"&&typeof YAHOO.vBulletin.imodcollection.post!="undefined"){var c=YAHOO.vBulletin.imodcollection.post;c.add_control(new InlineModControl(a,b,c))}typeof mq_init!="undefined"&&mq_init(a);typeof init_reputation_popupmenus!="undefined"&&
init_reputation_popupmenus(a);typeof vB_Lightbox!="undefined"&&init_postbit_lightbox(a,false,true);child_img_alt_2_title(a);if(typeof YAHOO.vBulletin.vBRestrain!="undefined"){YAHOO.vBulletin.vBRestrain.addcontainer(a);YAHOO.vBulletin.vBRestrain.resize(a)}}YAHOO.util.Event.onDOMReady(init_restrain);function init_restrain(){YAHOO.vBulletin.vBRestrain=new vBRestrain}
function vBRestrain(){this.containers={};this.length=0;for(var a=YAHOO.util.Dom.getElementsByClassName("postcontainer","div"),b=0;b<a.length;b++){this.addcontainer(a[b]);this.length++}a=YAHOO.util.Dom.getElementsByClassName("postcontainer","li");for(b=0;b<a.length;b++){this.addcontainer(a[b]);this.length++}a=YAHOO.util.Dom.getElementsByClassName("postcontainer","p");for(b=0;b<a.length;b++){this.addcontainer(a[b]);this.length++}a=YAHOO.util.Dom.getElementsByClassName("postcontainer","blockquote");
for(b=0;b<a.length;b++){this.addcontainer(a[b]);this.length++}if(this.length>0){this.resizeall();YAHOO.util.Event.on(window,"resize",this.resizeall,this,true)}}
vBRestrain.prototype.addcontainer=function(a){if(YAHOO.util.Dom.hasClass(a,"postcontainer")||YAHOO.util.Dom.hasClass(a,"bbcode_container")){a.id||YAHOO.util.Dom.generateId(a);var b=a.id;this.containers[b]={};this.containers[b].object=a;this.containers[b].objects={};for(var c=YAHOO.util.Dom.getElementsByClassName("restrain","object",a),d=0;d<c.length;d++){if(YAHOO.util.Dom.hasClass(a,"postcontainer")){var e=YAHOO.util.Dom.getAncestorByClassName(c[d],"bbcode_container");if(e){this.addcontainer(e);continue}}c[d].id||
YAHOO.util.Dom.generateId(c[d]);this.containers[b].objects[c[d].id]=c[d]}}else(e=YAHOO.util.Dom.getAncestorByClassName(a,"postcontainer"))&&this.addcontainer(e)};
vBRestrain.prototype.resize=function(a){if(a.id&&this.containers[a.id]){var a=this.containers[a.id],b=document.getElementsByTagName("html")[0].getAttribute("dir").toLowerCase();if(a.object){a.paddingLeft=parseFloat(YAHOO.util.Dom.getStyle(a.object,"paddingLeft"));a.paddingRight=parseFloat(YAHOO.util.Dom.getStyle(a.object,"paddingRight"));a.borderLeftWidth=parseFloat(YAHOO.util.Dom.getStyle(a.object,"borderLeftWidth"));a.borderRightWidth=parseFloat(YAHOO.util.Dom.getStyle(a.object,"borderRightWidth"));
var c=YAHOO.util.Dom.getRegion(a.object);a.width=c.width-(isNaN(a.paddingLeft)?0:a.paddingLeft)-(isNaN(a.paddingRight)?0:a.paddingRight)-(isNaN(a.borderLeftWidth)?0:a.borderLeftWidth)-(isNaN(a.borderRightWidth)?0:a.borderRightWidth);if(b=="ltr"){if(isNaN(a.paddingRight)||a.paddingRight<5)a.paddingRight=5;a.right=c.right-(isNaN(a.paddingRight)?0:a.paddingRight)-(isNaN(a.borderRightWidth)?0:a.borderRightWidth)}else{if(isNaN(a.paddingLeft)||a.paddingLeft<5)a.paddingLeft=5;a.left=c.left+(isNaN(a.paddingLeft)?
0:a.paddingLeft)+(isNaN(a.borderLeftWidth)?0:a.borderLeftWidth)}if(!(a.width<=0))for(var d in a.objects)if(a.objects[d]){var e=a.objects[d],c=YAHOO.util.Dom.getRegion(e);if(c.width==0){c.width=parseInt(YAHOO.util.Dom.getStyle(e,"width"),10);c.height=parseInt(YAHOO.util.Dom.getStyle(e,"height"),10);if(c.width==0)break;b=="ltr"?c.right=c.right+c.width:c.left=c.left-c.width}if(!e.origwidth){e.origwidth=c.width;e.origheight=c.height;e.aspect=c.width/c.height}if(b=="ltr")if(c.right>a.right){c=c.width-
(c.right-a.right)-10;if(c<=0)break;YAHOO.util.Dom.setStyle(e,"width",c+"px");YAHOO.util.Dom.setStyle(e,"height",Math.round(c/e.aspect)+"px")}else{if(c.width<e.origwidth){var f=a.right-c.right-10;if(c.width+f>=e.origwidth){YAHOO.util.Dom.setStyle(e,"width",e.origwidth+"px");YAHOO.util.Dom.setStyle(e,"height",e.origheight+"px")}else{c=c.width+f;if(c<=0)break;YAHOO.util.Dom.setStyle(e,"width",c+"px");YAHOO.util.Dom.setStyle(e,"height",Math.round(c/e.aspect)+"px")}}}else if(c.left<a.left){c=c.width-(a.left-
c.left)-10;if(c<=0)break;YAHOO.util.Dom.setStyle(e,"width",c+"px");YAHOO.util.Dom.setStyle(e,"height",Math.round(c/e.aspect)+"px")}else if(c.width<e.origwidth){f=c.left-a.left-10;if(c.width+f>=e.origwidth){YAHOO.util.Dom.setStyle(e,"width",e.origwidth+"px");YAHOO.util.Dom.setStyle(e,"height",e.origheight+"px")}else{c=c.width+f;if(c<=0)break;YAHOO.util.Dom.setStyle(e,"width",c+"px");YAHOO.util.Dom.setStyle(e,"height",Math.round(c/e.aspect)+"px")}}}}}};vBRestrain.prototype.resizeall=function(){for(var a in this.containers)this.resize(this.containers[a].object)};vB_XHTML_Ready.subscribe(function(){load_cms_overlay()});var config_overlay;function load_cms_overlay(){config_overlay=new vB_Overlay}function cms_show_overlay(a){void 0==config_overlay?config_overlay=new vB_Overlay(null,a,"",this,!0):config_overlay.show_ajax(a,"",this,!0);return!1}
function initVbTreeMenus(a){for(var b=window.vbGlobal_SHOW_ALL_TREE_ELEMENTS_THRESHOLD?window.vbGlobal_SHOW_ALL_TREE_ELEMENTS_THRESHOLD:10,c=YAHOO.util.Dom.getElementsByClassName("vb-tree-menu","div"),d=0;treeElement=c[d];d++){var e=null;if(!treeElement._vbTreeAlreadyProcessed){for(var f=-1,g=treeElement.getElementsByTagName("li"),h=0;-1==f&&(treeItem=g[h]);h++)treeItem.className&&YAHOO.util.Dom.hasClass(treeItem,"active")&&(e=treeItem,f=h+1);if(a){g="Site";f=YAHOO.util.Dom.getElementsByClassName("echo_section",
"span",document.body);if((f=f[0]?f[0]:null)&&e){var g=e.getElementsByTagName("a")[0].innerHTML,h=e.parentNode.parentNode,j="Site";h&&"li"==h.tagName.toLowerCase()&&(j=h.getElementsByTagName("a")[0].innerHTML);g=j+" &gt; "+g}f&&(f.innerHTML=g);vBPrepTreeBranch(treeElement.getElementsByTagName("ul")[0],0,e)}else if(e=new YAHOO.widget.TreeView(treeElement),e.subscribe("clickEvent",function(a){a&&a.node&&a.node.href&&(location.href=a.node.href)}),e.render(),e.getNodeCount()<=b&&e.expandAll(),-1!=f){for(f=
e=e.getNodeByIndex(f);f=f.parent;)f.expand();e.focus();e.highlight();e.expand();YAHOO.util.Dom.addClass(e.getEl(),"activeVBMenuItem")}treeElement._vbTreeAlreadyProcessed={}}}document.body.style&&"right"==document.body.style.textAlign&&(window.correctYUIEl=function(){var a=YAHOO.util.Dom.getElementsByClassName("ygtvtn","div"),a=null!=a&&a[0]?a[0]:null;a||(a=YAHOO.util.Dom.getElementsByClassName("ygtvtm","span"),a=null!=a&&a[0]?a[0].parentNode:null);a&&a.getAttribute("style")?(a.removeAttribute("style"),
a.style.top="-1000px",a.style.left="-1000px",a.style.position="absolute",a.style.height="1px",a.style.width="1px"):window.setTimeout(window.correctYUIEl,500)},window.onload=correctYUIEl)}
function vBPrepTreeBranch(a,b,c){var d=!1;YAHOO.util.Dom.addClass(a,"level_"+b);c&&c.parentNode==a&&YAHOO.util.Dom.addClass(a,"active_branch");0<b?YAHOO.util.Dom.addClass(a,"not_root"):d=!0;for(var e=YAHOO.util.Dom.getChildren(a),f=0;leaf=e[f];f++)if(leaf.tagName&&"li"==leaf.tagName.toLowerCase()){!c&&d||c&&c.parentNode==a?YAHOO.util.Dom.addClass(leaf,"sibling_active"):a.parentNode==c&&YAHOO.util.Dom.addClass(leaf,"direct_child_active");YAHOO.util.Dom.addClass(leaf,"level_"+b);0<b&&YAHOO.util.Dom.addClass(leaf,
"not_root");var g=leaf.getElementsByTagName("ul");(g=g[0]?g[0]:null)&&vBPrepTreeBranch(g,b+1,c)}else alert("Why would you put an <"+leaf.tagName+"> tag inside of a <"+leaf.parentNode.tagName+"> tag?"),alert(leaf.parentNode.tagName.innerHTML)};var hexcase=0,b64pad="",chrsz=8;function hex_md5(a){return binl2hex(core_md5(str2binl(a),a.length*chrsz))}function b64_md5(a){return binl2b64(core_md5(str2binl(a),a.length*chrsz))}function str_md5(a){return binl2str(core_md5(str2binl(a),a.length*chrsz))}function hex_hmac_md5(a,b){return binl2hex(core_hmac_md5(a,b))}function b64_hmac_md5(a,b){return binl2b64(core_hmac_md5(a,b))}function str_hmac_md5(a,b){return binl2str(core_hmac_md5(a,b))}
function core_md5(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16)var h=c,j=d,m=e,r=f,c=md5_ff(c,d,e,f,a[g+0],7,-680876936),f=md5_ff(f,c,d,e,a[g+1],12,-389564586),e=md5_ff(e,f,c,d,a[g+2],17,606105819),d=md5_ff(d,e,f,c,a[g+3],22,-1044525330),c=md5_ff(c,d,e,f,a[g+4],7,-176418897),f=md5_ff(f,c,d,e,a[g+5],12,1200080426),e=md5_ff(e,f,c,d,a[g+6],17,-1473231341),d=md5_ff(d,e,f,c,a[g+7],22,-45705983),c=md5_ff(c,d,e,f,a[g+8],7,
1770035416),f=md5_ff(f,c,d,e,a[g+9],12,-1958414417),e=md5_ff(e,f,c,d,a[g+10],17,-42063),d=md5_ff(d,e,f,c,a[g+11],22,-1990404162),c=md5_ff(c,d,e,f,a[g+12],7,1804603682),f=md5_ff(f,c,d,e,a[g+13],12,-40341101),e=md5_ff(e,f,c,d,a[g+14],17,-1502002290),d=md5_ff(d,e,f,c,a[g+15],22,1236535329),c=md5_gg(c,d,e,f,a[g+1],5,-165796510),f=md5_gg(f,c,d,e,a[g+6],9,-1069501632),e=md5_gg(e,f,c,d,a[g+11],14,643717713),d=md5_gg(d,e,f,c,a[g+0],20,-373897302),c=md5_gg(c,d,e,f,a[g+5],5,-701558691),f=md5_gg(f,c,d,e,a[g+
10],9,38016083),e=md5_gg(e,f,c,d,a[g+15],14,-660478335),d=md5_gg(d,e,f,c,a[g+4],20,-405537848),c=md5_gg(c,d,e,f,a[g+9],5,568446438),f=md5_gg(f,c,d,e,a[g+14],9,-1019803690),e=md5_gg(e,f,c,d,a[g+3],14,-187363961),d=md5_gg(d,e,f,c,a[g+8],20,1163531501),c=md5_gg(c,d,e,f,a[g+13],5,-1444681467),f=md5_gg(f,c,d,e,a[g+2],9,-51403784),e=md5_gg(e,f,c,d,a[g+7],14,1735328473),d=md5_gg(d,e,f,c,a[g+12],20,-1926607734),c=md5_hh(c,d,e,f,a[g+5],4,-378558),f=md5_hh(f,c,d,e,a[g+8],11,-2022574463),e=md5_hh(e,f,c,d,a[g+
11],16,1839030562),d=md5_hh(d,e,f,c,a[g+14],23,-35309556),c=md5_hh(c,d,e,f,a[g+1],4,-1530992060),f=md5_hh(f,c,d,e,a[g+4],11,1272893353),e=md5_hh(e,f,c,d,a[g+7],16,-155497632),d=md5_hh(d,e,f,c,a[g+10],23,-1094730640),c=md5_hh(c,d,e,f,a[g+13],4,681279174),f=md5_hh(f,c,d,e,a[g+0],11,-358537222),e=md5_hh(e,f,c,d,a[g+3],16,-722521979),d=md5_hh(d,e,f,c,a[g+6],23,76029189),c=md5_hh(c,d,e,f,a[g+9],4,-640364487),f=md5_hh(f,c,d,e,a[g+12],11,-421815835),e=md5_hh(e,f,c,d,a[g+15],16,530742520),d=md5_hh(d,e,f,
c,a[g+2],23,-995338651),c=md5_ii(c,d,e,f,a[g+0],6,-198630844),f=md5_ii(f,c,d,e,a[g+7],10,1126891415),e=md5_ii(e,f,c,d,a[g+14],15,-1416354905),d=md5_ii(d,e,f,c,a[g+5],21,-57434055),c=md5_ii(c,d,e,f,a[g+12],6,1700485571),f=md5_ii(f,c,d,e,a[g+3],10,-1894986606),e=md5_ii(e,f,c,d,a[g+10],15,-1051523),d=md5_ii(d,e,f,c,a[g+1],21,-2054922799),c=md5_ii(c,d,e,f,a[g+8],6,1873313359),f=md5_ii(f,c,d,e,a[g+15],10,-30611744),e=md5_ii(e,f,c,d,a[g+6],15,-1560198380),d=md5_ii(d,e,f,c,a[g+13],21,1309151649),c=md5_ii(c,
d,e,f,a[g+4],6,-145523070),f=md5_ii(f,c,d,e,a[g+11],10,-1120210379),e=md5_ii(e,f,c,d,a[g+2],15,718787259),d=md5_ii(d,e,f,c,a[g+9],21,-343485551),c=safe_add(c,h),d=safe_add(d,j),e=safe_add(e,m),f=safe_add(f,r);return[c,d,e,f]}function md5_cmn(a,b,c,d,e,f){return safe_add(bit_rol(safe_add(safe_add(b,a),safe_add(d,f)),e),c)}function md5_ff(a,b,c,d,e,f,g){return md5_cmn(b&c|~b&d,a,b,e,f,g)}function md5_gg(a,b,c,d,e,f,g){return md5_cmn(b&d|c&~d,a,b,e,f,g)}
function md5_hh(a,b,c,d,e,f,g){return md5_cmn(b^c^d,a,b,e,f,g)}function md5_ii(a,b,c,d,e,f,g){return md5_cmn(c^(b|~d),a,b,e,f,g)}function core_hmac_md5(a,b){var c=str2binl(a);16<c.length&&(c=core_md5(c,a.length*chrsz));for(var d=Array(16),e=Array(16),f=0;16>f;f++)d[f]=c[f]^909522486,e[f]=c[f]^1549556828;c=core_md5(d.concat(str2binl(b)),512+b.length*chrsz);return core_md5(e.concat(c),640)}function safe_add(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}
function bit_rol(a,b){return a<<b|a>>>32-b}function str2binl(a){for(var b=[],c=(1<<chrsz)-1,d=0;d<a.length*chrsz;d+=chrsz)b[d>>5]|=(a.charCodeAt(d/chrsz)&c)<<d%32;return b}function binl2str(a){for(var b="",c=(1<<chrsz)-1,d=0;d<32*a.length;d+=chrsz)b+=String.fromCharCode(a[d>>5]>>>d%32&c);return b}function binl2hex(a){for(var b=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>8*(d%4)+4&15)+b.charAt(a[d>>2]>>8*(d%4)&15);return c}
function binl2b64(a){for(var b="",c=0;c<4*a.length;c+=3)for(var d=(a[c>>2]>>8*(c%4)&255)<<16|(a[c+1>>2]>>8*((c+1)%4)&255)<<8|a[c+2>>2]>>8*((c+2)%4)&255,e=0;4>e;e++)b=8*c+6*e>32*a.length?b+b64pad:b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>6*(3-e)&63);return b}
function str_to_ent(a){var b="",c;for(c=0;c<a.length;c++){var d=a.charCodeAt(c),e="";if(255<d){for(;1<=d;)e="0123456789".charAt(d%10)+e,d/=10;""==e&&(e="0");e="#"+e;e="&"+e;e+=";";b+=e}else b+=a.charAt(c)}return b}function trim(a){for(;" "==a.substring(0,1);)a=a.substring(1,a.length);for(;" "==a.substring(a.length-1,a.length);)a=a.substring(0,a.length-1);return a}
function md5hash(a,b,c,d){if(0==navigator.userAgent.indexOf("Mozilla/")&&4<=parseInt(navigator.appVersion)){var e=hex_md5(str_to_ent(trim(a.value)));b.value=e;c&&(e=hex_md5(trim(a.value)),c.value=e);d||(a.value="")}return!0};vBulletin.events.systemInit.subscribe(function(){if(vBulletin.elements.vB_Lightbox_Container){for(var a=0;a<vBulletin.elements.vB_Lightbox_Container.length;a++){var b=vBulletin.elements.vB_Lightbox_Container[a];init_postbit_lightbox(b[0],b[1])}vBulletin.elements.vB_Lightbox_Container=null}});var Lightboxes=[],Lightbox_overlay=null,Lightbox_overlay_select_handler=null,Lightbox_event_default=null,Lightbox_current=null,Lightbox_map={};
function vB_Lightbox(a,b,c,d){this.minborder=100;this.mindimension=50;this.event_click=1;this.event_hover=2;this.events_enabled=this.click_triggered=!1;this.element=a;this.imageloader=this.timeout=null;this.status=0;this.active=!1;this.img=this.closebtn=this.lightbox=this.loader_width=this.loader_height=this.loader_link=this.html=this.name=this.time=this.date=this.link=this.cursor=this.ajax_req=null;this.uniqueid=b;this.containerid=c;d&this.event_hover&&(YAHOO.util.Event.on(this.element,"mouseover",
this.countdown,this,!0),YAHOO.util.Event.on(this.element,"mouseout",this.halt,this,!0));if(d&this.event_click)YAHOO.util.Event.on(this.element,"click",this.image_click,this,!0)}vB_Lightbox.prototype.set_status=function(a,b){console.log("vB_Lightbox :: Set status = %d (%s)",a,b);this.status=a};vB_Lightbox.prototype.check_status=function(a){if(this.status>=a)return!0;console.warn("Checked status for %d, found %d",a,this.status);return!1};
vB_Lightbox.prototype.countdown=function(){this.active||(this.set_status(1,"countdown"),this.cursor=YAHOO.util.Dom.getStyle(this.element,"cursor"),this.element.style.cursor="wait",this.click_triggered=!1,this.timeout=setTimeout("Lightboxes['"+this.uniqueid+"'].load_lightbox();",1500))};vB_Lightbox.prototype.halt=function(){2>this.status&&this.set_status(0,"halt");clearTimeout(this.timeout);this.element.style.cursor=this.cursor};
vB_Lightbox.prototype.image_click=function(a){if(a.ctrlKey||a.shiftKey)return!0;this.click_triggered=!0;this.load_lightbox(a)};
vB_Lightbox.prototype.load_lightbox=function(a){if(this.check_status(0)&&!YAHOO.util.Connect.isCallInProgress(this.ajax_req))if(this.set_status(2,"load_lightbox 1"),Lightbox_current&&Lightbox_current.loader_link&&(Lightbox_current.img.src=Lightbox_current.loader_link,Lightbox_current.img.width=Lightbox_current.loader_width,Lightbox_current.img.height=Lightbox_current.loader_height,center_element(Lightbox_current.lightbox)),a&&YAHOO.util.Event.stopEvent(a),this.timeout&&(clearTimeout(this.timeout),
this.element.style.cursor=this.cursor),null==this.html){var a=this.element.getAttribute("href"),b=a.substr(a.indexOf("?")+1)+"&securitytoken="+SECURITYTOKEN+"&ajax=1&uniqueid="+this.uniqueid;null==Lightbox_map[this.containerid][this.uniqueid+1]&&(b+="&last=1");null==Lightbox_map[this.containerid][this.uniqueid-1]&&(b+="&first=1");b=b+"&total="+Lightbox_map[this.containerid].size();b=b+"&current="+(Lightbox_map[this.containerid].find(this.uniqueid)+1);this.show_overlay();try{this.ajax_req=YAHOO.util.Connect.asyncRequest("POST",
a,{success:this.handle_ajax_response,failure:this.handle_ajax_error,scope:this,timeout:vB_Default_Timeout},b)}catch(c){var d;(d=a.substr(0,a.indexOf("?")).match(/\/([^/]*attachment\.php)$/))?this.ajax_req=YAHOO.util.Connect.asyncRequest("POST",d[1],{success:this.handle_ajax_response,failure:this.handle_ajax_error,scope:this,timeout:vB_Default_Timeout},b):this.click_triggered&&(window.location=a)}}else this.set_status(3,"load_lightbox 2"),this.show_lightbox()};
vB_Lightbox.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a);this.click_triggered&&(window.location=this.element.getAttribute("href"))};
vB_Lightbox.prototype.handle_ajax_response=function(a){if(this.check_status(2))if(a.responseXML){var b=a.responseXML.getElementsByTagName("error");if(b.length)return this.set_status(0,"handle_ajax_response - error"),"notimage"==b[0].firstChild.nodeValue?console.warn("Attempted to load non-image (.%s) into lightbox. Aborted.",a.responseXML.getElementsByTagName("extension")[0].firstChild.nodeValue):alert(b[0].firstChild.nodeValue.replace(/<(\/|[a-z]+)[^>]+>/g,"")),!1;b=a.responseXML.getElementsByTagName("link");
if(b.length){this.set_status(3,"handle_ajax_response - success");this.show_overlay();this.link=b[0].firstChild.nodeValue;this.imageloader=new Image;YAHOO.util.Event.on(this.imageloader,"load",this.show_lightbox,this,!0);for(var b=["date","time","name","html"],c=0;c<b.length;c++)this[b[c]]=a.responseXML.getElementsByTagName(b[c])[0].firstChild.nodeValue;this.lightbox=document.body.appendChild(string_to_node(this.html));this.closebtn=YAHOO.util.Dom.get("lightboxbutton"+this.uniqueid);YAHOO.util.Event.on(this.closebtn,
"click",this.hide_lightbox,this,!0);this.prevbtn=YAHOO.util.Dom.get("lightboxprevbutton"+this.uniqueid);YAHOO.util.Event.on(this.prevbtn,"click",this.prev_lightbox,this,!0);this.nextbtn=YAHOO.util.Dom.get("lightboxnextbutton"+this.uniqueid);YAHOO.util.Event.on(this.nextbtn,"click",this.next_lightbox,this,!0);YAHOO.util.Event.on(YAHOO.util.Dom.get("lightboxlink"+this.uniqueid),"click",this.hide_lightbox,this,!0);this.img=YAHOO.util.Dom.get("lightboximg"+this.uniqueid);this.loader_link=this.img.src;
this.loader_width=this.img.width;this.loader_height=this.img.height;this.imageloader.src=this.link;this.show_lightbox()}else this.click_triggered&&(window.location=imagelink)}else this.click_triggered&&(window.location=imagelink)};
vB_Lightbox.prototype.show_overlay=function(){if(this.check_status(2)){var a=fetch_viewport_info();if(null==Lightbox_overlay){Lightbox_overlay=document.createElement("div");Lightbox_overlay.id="Lightbox_overlay";var b={display:"none",position:"absolute",top:"0px",backgroundColor:"#000000",opacity:0.85,zIndex:1E3};"rtl"==document.documentElement.dir?b.right="0px":b.left="0px";for(var c in b)YAHOO.lang.hasOwnProperty(b,c)&&YAHOO.util.Dom.setStyle(Lightbox_overlay,c,b[c]);Lightbox_overlay=document.body.appendChild(Lightbox_overlay);
Lightbox_overlay_select_handler=new vB_Select_Overlay_Handler(Lightbox_overlay)}YAHOO.util.Dom.setStyle(Lightbox_overlay,"display","");YAHOO.util.Dom.setStyle(Lightbox_overlay,"width",a.w+"px");YAHOO.util.Dom.setStyle(Lightbox_overlay,"height",a.h+"px");YAHOO.util.Dom.setXY(Lightbox_overlay,[a.x,a.y]);Lightbox_overlay_select_handler.hide()}};
vB_Lightbox.prototype.show_lightbox=function(){this.check_status(3)&&(Lightbox_current&&Lightbox_current.hide_lightbox(!1,this,!0),this.show_overlay(),!this.imageloader.complete&&"complete"!=this.imageloader.readyState?(YAHOO.util.Event.removeListener(this.imageloader,"load",this.show_lightbox),YAHOO.util.Event.on(this.imageloader,"load",this.show_lightbox,this,!0)):(this.img.src=this.link,this.resize_image(),YAHOO.util.Dom.setStyle(this.closebtn,"display","")),YAHOO.util.Dom.setStyle(this.lightbox,
"display","inline-block"),YAHOO.util.Dom.setStyle(this.lightbox,"zIndex",5E3),1==Lightbox_map[this.containerid].size()&&(YAHOO.util.Dom.setStyle(this.prevbtn,"visibility","hidden"),YAHOO.util.Dom.setStyle(this.nextbtn,"visibility","hidden")),Lightbox_current=this,this.center_lightbox(),this.active=!0,this.enable_events())};
vB_Lightbox.prototype.hide_lightbox=function(a,b,c){if(!a||!("keydown"==a.type&&27!=a.keyCode))this.set_status(0,"hide_lightbox"),this.disable_events(),this.active=!1,YAHOO.util.Dom.setStyle(this.lightbox,"left",0),YAHOO.util.Dom.setStyle(this.lightbox,"display","none"),c||YAHOO.util.Dom.setStyle(Lightbox_overlay,"display","none"),Lightbox_overlay_select_handler.show(),Lightbox_current=null};
vB_Lightbox.prototype.next_lightbox=function(){var a=null,a=null!=Lightbox_map[this.containerid][this.uniqueid+1]?Lightboxes[this.uniqueid+1]:Lightboxes[Lightbox_map[this.containerid].first()];a.load_lightbox()};vB_Lightbox.prototype.prev_lightbox=function(){var a=null,a=null!=Lightbox_map[this.containerid][this.uniqueid-1]?Lightboxes[this.uniqueid-1]:Lightboxes[Lightbox_map[this.containerid].last()];a.load_lightbox()};
vB_Lightbox.prototype.center_lightbox=function(){center_element(this.lightbox,!0)};vB_Lightbox.prototype.handle_viewport_change=function(){this.resize_image();this.center_lightbox();this.show_overlay()};vB_Lightbox.prototype.handle_viewport_change_ie=function(){setTimeout("Lightboxes['"+this.uniqueid+"'].handle_viewport_change();",100)};
vB_Lightbox.prototype.resize_image=function(){var a=fetch_viewport_info(),b=this.imageloader.width,c=this.imageloader.height;b>a.w-this.minborder&&(b=a.w-this.minborder,b=b<this.mindimension?this.mindimension:b,c=Math.ceil(this.imageloader.height*(b/this.imageloader.width)));c>a.h-this.minborder&&(c=a.h-this.minborder,c=c<this.mindimension?this.mindimension:c,b=Math.ceil(this.imageloader.width*(c/this.imageloader.height)));this.img.setAttribute("width",b);this.img.setAttribute("height",c);this.img.setAttribute("title",
this.name+"; \n"+this.imageloader.width+" x "+this.imageloader.height+" (@"+Math.ceil(100*(b/this.imageloader.width))+"%)");(b<this.imageloader.width||c<this.imageloader.height)&&console.info("vB_Lightbox :: Image original size: %dx%d, resizing to %dx%d",this.imageloader.width,this.imageloader.height,b,c)};
vB_Lightbox.prototype.enable_events=function(){this.events_enabled||(YAHOO.util.Event.on(window,"resize",is_ie?this.handle_viewport_change_ie:this.handle_viewport_change,this,!0),YAHOO.util.Event.on(window,"scroll",this.hide_lightbox,this,!0),YAHOO.util.Event.on(window,"keydown",this.hide_lightbox,this,!0),YAHOO.util.Event.on(Lightbox_overlay,"click",this.hide_lightbox,this,!0),this.events_enabled=!0)};
vB_Lightbox.prototype.disable_events=function(){this.events_enabled&&(YAHOO.util.Event.removeListener(window,"resize",is_ie?this.handle_viewport_change_ie:this.handle_viewport_change),YAHOO.util.Event.removeListener(window,"scroll",this.hide_lightbox),YAHOO.util.Event.removeListener(window,"keydown",this.hide_lightbox),YAHOO.util.Event.removeListener(Lightbox_overlay,"click",this.hide_lightbox),this.events_enabled=!1)};vB_Lightbox_Container=function(){};
vB_Lightbox_Container.prototype.size=function(){var a=0,b;for(b in this)YAHOO.lang.hasOwnProperty(this,b)&&a++;return a};vB_Lightbox_Container.prototype.first=function(){for(var a in this)if(YAHOO.lang.hasOwnProperty(this,a))return a};vB_Lightbox_Container.prototype.last=function(){var a,b;for(b in this)YAHOO.lang.hasOwnProperty(this,b)&&(a=b);return a};vB_Lightbox_Container.prototype.find=function(a){var b=0,c;for(c in this)if(YAHOO.lang.hasOwnProperty(this,c)){if(c==a)return b;b++}return-1};
function is_lightbox_element(a){return"string"==typeof a.getAttribute("rel")&&a.getAttribute("rel").match(/Lightbox[_]?(\d*)?/)}
function init_postbit_lightbox(a,b,c){var d=userAgent.match(/applewebkit\/([0-9]+)/);if(!(d&&522>d[1])){null===Lightbox_event_default&&(Lightbox_event_default=b);if("undefined"==typeof b||!1===b)b=Lightbox_event_default?Lightbox_event_default:3;a=YAHOO.util.Dom.getElementsBy(is_lightbox_element,"a",a);for(d=0;d<a.length;d++){var e=Lightboxes.length,f=a[d].getAttribute("rel").match(/Lightbox[_]?(\d*)?/).pop(),f=f?f:0;Lightboxes[e]=new vB_Lightbox(a[d],e,f,b);if(!Lightbox_map[f]||c)Lightbox_map[f]=
new vB_Lightbox_Container,c=!1;Lightbox_map[f][e]=e}}};function load_html(a,b,c,d,e){AJAX_Compatible&&(vB_HtmlLoader=new vB_AJAX_HtmlLoader(a,b,c,d,e),vB_HtmlLoader.load());return!1}var vB_HtmlLoader=!1;function vB_AJAX_HtmlLoader(a,b,c,d,e){this.getrequest=b;this.container=fetch_object(a);this.postrequest=c;this.progresselement=fetch_object(d);this.triggerevent=e}
vB_AJAX_HtmlLoader.prototype.load=function(){this.progresselement&&(this.progresselement.style.display="");this.container&&YAHOO.util.Connect.asyncRequest("POST",this.getrequest,{success:this.display,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},this.postrequest+"&sessionurl="+SESSIONURL+"&securitytoken="+SECURITYTOKEN+"&ajax=1");return!1};vB_AJAX_HtmlLoader.prototype.handle_ajax_error=function(a){this.progresselement&&(this.progresselement.style.display="none");vBulletin_AJAX_Error_Handler(a)};
vB_AJAX_HtmlLoader.prototype.display=function(a){this.progresselement&&(this.progresselement.style.display="none");if(a.responseXML){var b=a.responseXML.getElementsByTagName("html");a.responseXML.getElementsByTagName("error");b.length&&b[0].hasChildNodes()&&(this.container.innerHTML=b[0].firstChild.nodeValue)}this.triggerevent&&this.triggerevent()};var vB_ReadMarker={forum_statusicon_prefix:"forum_statusicon_",thread_statusicon_prefix:"thread_statusicon_",thread_gotonew_prefix:"thread_gotonew_",thread_title_prefix:"thread_title_"};function vB_AJAX_ReadMarker(a){this.forumid=a}
vB_AJAX_ReadMarker.prototype.mark_read=function(){YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=markread&f="+this.forumid,{success:this.handle_ajax_request,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=markread&forumid="+this.forumid)};vB_AJAX_ReadMarker.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a)};
vB_AJAX_ReadMarker.prototype.handle_ajax_request=function(){for(var a=YAHOO.util.Dom.getElementsByClassName("threadbit","li","threadlist"),b=0;b<a.length;b++){YAHOO.util.Dom.removeClass(a[b],"new");var c=YAHOO.util.Dom.getElementsByClassName("threadtitle_unread","a",a[b]);if(c=c[0])if(YAHOO.util.Dom.removeClass(c,"threadtitle_unread"),(c=YAHOO.util.Dom.getElementsByClassName("gotonewpost","img",a[b]))&&c[0])(c=YAHOO.util.Dom.getAncestorByTagName(c[0],"a"))&&YAHOO.util.Dom.setStyle(c,"display","none")}window.YAHOO&&
YAHOO.vBulletin&&YAHOO.vBulletin.vBPopupMenu&&YAHOO.vBulletin.vBPopupMenu.close_all()};function mark_forum_read(a){AJAX_Compatible?(vB_ReadMarker[a]=new vB_AJAX_ReadMarker(a),vB_ReadMarker[a].mark_read()):window.location="forumdisplay.php?"+SESSIONURL+"do=markread&forumid="+a;return!1};var vB_ThreadTitle_Editor=null;AJAX_Compatible&&("undefined"==typeof vb_disable_ajax||2>vb_disable_ajax)&&vB_XHTML_Ready.subscribe(function(){vB_AJAX_Threadlist_Init("threadlist")});
function vB_AJAX_Threadlist_Init(a){if(YAHOO.util.Dom.get(a)&&AJAX_Compatible&&!("undefined"!=typeof vb_disable_ajax&&2<=vb_disable_ajax))for(var a=YAHOO.util.Dom.getElementsByClassName("threadbit","li",a),b=0;b<a.length;b++)if(a[b].id.match(/^thread_/)){YAHOO.util.Event.on(a[b],"dblclick",vB_AJAX_ThreadList_Events.prototype.threadtitle_doubleclick);var c=YAHOO.util.Dom.getElementsByClassName("threadstatus","a",a[b]);0<c.length&&(c[0].style.cursor=pointer_cursor,YAHOO.util.Event.on(c[0],"dblclick",
vB_AJAX_ThreadList_Events.prototype.threadicon_doubleclick))}}
function vB_AJAX_OpenClose(a){this.statuslink=a;this.threadbit=!1;this.threadbit||(this.threadbit=YAHOO.util.Dom.getAncestorByClassName(this.statuslink,"threadbit"),this.threadid=this.threadbit.id.substr(this.threadbit.id.lastIndexOf("_")+1));this.closed=YAHOO.util.Dom.hasClass(this.threadbit,"lock");this.toggle=function(){YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=updatethreadopen&t="+this.threadid,{success:this.handle_ajax_response,failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,
scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=updatethreadopen&t="+this.threadid+"&open="+this.closed)};this.handle_ajax_response=function(a){if(a.responseXML){a=a.responseXML.getElementsByTagName("status")[0].firstChild.nodeValue;if("closed"==a){YAHOO.util.Dom.addClass(this.threadbit,"lock");this.closed=true}else if("open"==a){YAHOO.util.Dom.removeClass(this.threadbit,"lock");this.closed=false}}};this.toggle()}
function vB_AJAX_TitleEdit(a){this.obj=a;this.threadid=this.obj.id.substr(this.obj.id.lastIndexOf("_")+1);this.linkobj=fetch_object("thread_title_"+this.threadid);this.container=this.linkobj.parentNode;this.xml_sender=this.editobj=null;this.origtitle="";this.editstate=!1;this.progress_image=new Image;this.progress_image.src=IMGDIR_MISC+"/11x11progress.gif";this.edit=function(){!1==this.editstate&&(this.inputobj=document.createElement("input"),this.inputobj.type="text",this.inputobj.size=50,this.inputobj.maxLength=
"number"==typeof titlemaxchars&&0<titlemaxchars?titlemaxchars:85,this.inputobj.style.width=Math.max(this.linkobj.offsetWidth,250)+"px",this.inputobj.className="textbox",this.inputobj.value=PHP.unhtmlspecialchars(this.linkobj.innerHTML),this.inputobj.title=this.inputobj.value,this.inputobj.onblur=vB_AJAX_ThreadList_Events.prototype.titleinput_onblur,this.inputobj.onkeypress=vB_AJAX_ThreadList_Events.prototype.titleinput_onkeypress,this.editobj=this.container.insertBefore(this.inputobj,this.linkobj),
this.editobj.select(),this.origtitle=this.linkobj.innerHTML,this.linkobj.style.display="none",this.editstate=!0)};this.restore=function(){!0==this.editstate&&(this.editobj.value!=this.origtitle?(this.container.appendChild(this.progress_image),this.save(this.editobj.value)):this.linkobj.innerHTML=this.editobj.value,this.container.removeChild(this.editobj),this.linkobj.style.display="",this.editstate=!1,this.obj=null)};this.save=function(a){YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=updatethreadtitle&t="+
this.threadid,{success:this.handle_ajax_response,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=updatethreadtitle&t="+this.threadid+"&title="+PHP.urlencode(a))};this.handle_ajax_response=function(a){a.responseXML&&(this.linkobj.innerHTML=a.responseXML.getElementsByTagName("linkhtml")[0].firstChild.nodeValue,this.linkobj.href=a.responseXML.getElementsByTagName("linkhref")[0].firstChild.nodeValue);this.container.removeChild(this.progress_image);vB_ThreadTitle_Editor.obj=
null};this.edit()}function vB_AJAX_ThreadList_Events(){}vB_AJAX_ThreadList_Events.prototype.threadtitle_doubleclick=function(){if(vB_ThreadTitle_Editor&&vB_ThreadTitle_Editor.obj==this)return!1;try{vB_ThreadTitle_Editor.restore()}catch(a){}vB_ThreadTitle_Editor=new vB_AJAX_TitleEdit(this)};vB_AJAX_ThreadList_Events.prototype.threadicon_doubleclick=function(a){YAHOO.util.Event.stopPropagation(a);openclose=new vB_AJAX_OpenClose(this)};vB_AJAX_ThreadList_Events.prototype.titleinput_onblur=function(){vB_ThreadTitle_Editor.restore()};
vB_AJAX_ThreadList_Events.prototype.titleinput_onkeypress=function(a){a=a?a:window.event;switch(a.keyCode){case 13:return vB_ThreadTitle_Editor.inputobj.blur(),!1;case 27:return vB_ThreadTitle_Editor.inputobj.value=vB_ThreadTitle_Editor.origtitle,vB_ThreadTitle_Editor.inputobj.blur(),!0}};vB_XHTML_Ready.subscribe(init_ThreadBits);function init_ThreadBits(){for(var a=YAHOO.util.Dom.getElementsByClassName("threadbit","li","threadlist"),b=0;b<a.length;b++)new ThreadBit(a[b])}function ThreadBit(a){this.threadbit=YAHOO.util.Dom.get(a);this.handle_description()}
ThreadBit.prototype.handle_description=function(){var a=YAHOO.util.Dom.getElementsByClassName("threaddesc","p",this.threadbit);a&&a[0]&&a[0].firstChild&&(this.description=a[0].firstChild.nodeValue,YAHOO.util.Dom.getElementsByClassName("threadinfo","div",this.threadbit)[0].title=this.description)};function vB_Text_Editor(a,b){this.autosave_title=this.autosave_text="";this.initialized=!1;this.editorid=a;this.config=b;this.config.baseHref=getBaseUrl();this.editor=this.autosave_ajax_req=this.lastautosave_title_crc32=this.lastautosave_text_crc32=this.initial_title_crc32=this.initial_text_crc32=null;this.vBevents={editorready:new YAHOO.util.CustomEvent("editorready",this)};this.editorready=!1;this.autosave_enabled=""!=this.config.vbulletin.contenttypeid&&null!=this.config.vbulletin.contenttypeid&&
0!=this.config.vbulletin.userid&&0!=this.config.vbulletin.postautosave;this.textarea=document.getElementById(a+"_editor");this.textarea.value=this.unescape_text(this.textarea.value);this.isSafari=CKEDITOR.env.webkit&&-1==navigator.userAgent.toLowerCase().indexOf(" chrome/");this.disablewysiwyg=!1;this.config._removePlugins&&(CKEDITOR.config.removePlugins=this.config._removePlugins);this.config._extraPlugins&&(CKEDITOR.config.extraPlugins=this.config._extraPlugins);var c=!0;CKEDITOR.vBulletin||(CKEDITOR.vBulletin=
{},CKEDITOR.env.mobile&&!CKEDITOR.env.isCompatible&&(CKEDITOR.env.isCompatible=!0,CKEDITOR.vBulletin.mobileSource=!0),YAHOO.util.Connect.asyncRequest("GET","ckeditor.php?l="+this.config.language+"&t="+this.config.vbulletin.lastphraseupdate,{failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,success:this.load_language,scope:this}),c=!1);CKEDITOR.vBulletin.mobileSource&&0<this.config.editorMode&&(this.config.startupMode="enhancedsource",this.disablewysiwyg=!0);c&&this.init()}
vB_Text_Editor.prototype.autosavetimer=function(a){if(this.autosave_enabled){var b=1E3*this.config.vbulletin.postautosave,c=this;this.autoupdatetimer=setTimeout(function(){c.autosave()},"undefined"!=typeof a?a:b)}};vB_Text_Editor.prototype.fade_autosave=function(a){a||(a=1);a-=0.05;if(0<a){YAHOO.util.Dom.setStyle(this.editor.editorid+"_autosaved","opacity",a);var b=this;setTimeout(function(){b.fade_autosave(a)},150)}else this.hide_autosave_notice()};
vB_Text_Editor.prototype.hide_autosave_notice=function(){this.autosave_enabled&&(YAHOO.util.Dom.addClass(this.editorid+"_autosaved","hidden"),YAHOO.util.Dom.setStyle(this.editorid+"_autosaved","opacity",1))};vB_Text_Editor.prototype.autosave_notice=function(){YAHOO.util.Dom.removeClass(this.editor.editorid+"_autosaved","hidden");var a=this;setTimeout(function(){a.fade_autosave()},30)};
vB_Text_Editor.prototype.autosave=function(){if(this.autosave_enabled)if(this.initialized){var a=!1;if(this.config.autoloadtitleid&&YAHOO.util.Dom.get(this.config.autoloadtitleid)){var b=YAHOO.util.Dom.get(this.config.autoloadtitleid).value,c=crc32(b);this.lastautosave_title_crc32!=c&&(a=!0);this.lastautosave_title_crc32=c}else b="";var d=PHP.trim(this.getRawData()),c=crc32(d),a=a||this.lastautosave_text_crc32!=c;this.lastautosave_text_crc32=c;c=YAHOO.util.Connect.isCallInProgress(this.autosave_ajax_req);
if(d&&a&&!c){var d=this.editor.document?this.editor.dataProcessor.getAutoSaveData():this.editor.getData(),a={failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,success:this.autosave_notice,scope:this},e=vBulletin.attachinfo&&vBulletin.attachinfo.poststarttime?vBulletin.attachinfo.poststarttime:"",b=SESSIONURL+"do=autosave&securitytoken="+SECURITYTOKEN+"&posthash="+PHP.urlencode(vBulletin.attachinfo&&vBulletin.attachinfo.posthash?vBulletin.attachinfo.posthash:"")+"&poststarttime="+parseInt(e,
10)+"&ajax=1&&pagetext="+PHP.urlencode(d)+"&title="+PHP.urlencode(b)+"&contenttypeid="+PHP.urlencode(this.config.vbulletin.contenttypeid)+"&contentid="+parseInt(this.config.vbulletin.contentid,10)+"&wysiwyg="+this.is_wysiwyg_mode()+"&parsetype="+PHP.htmlspecialchars(this.editor.config.parsetype)+"&parentcontentid="+parseInt(this.config.vbulletin.parentcontentid);this.autosave_ajax_req=YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=autosave",a,b)}c?this.autosavetimer(1E4):this.autosavetimer()}else this.autosavetimer()};
vB_Text_Editor.prototype.is_wysiwyg_mode=function(){return"wysiwyg"==this.editor.mode?1:0};
vB_Text_Editor.prototype.load_language=function(a){if(a.responseXML){CKEDITOR.vbphrase={};a=a.responseXML.getElementsByTagName("phrase");if(a.length)for(var b=0;b<a.length;b++){var c=a[b].getAttribute("name");if(a[b].firstChild)for(var d=a[b].firstChild.nodeValue,e=CKEDITOR.vbphrase,c=c.split("."),f=0;f<c.length;f++)f==c.length-1?e[c[f]]=d:("object"!=typeof e[c[f]]&&(e[c[f]]={}),e=e[c[f]])}CKEDITOR.vbphrase.dir=document.documentElement.dir;this.init()}};
vB_Text_Editor.prototype.editor_ready=function(){this.config.nobbcode&&(this.editor.getCommand("removeFormat").disable(),this.hide_button("removeFormat"),this.editor.getCommand("enhancedsource").disable(),this.hide_button("enhancedsource"));this.disablewysiwyg&&this.editor.getCommand("enhancedsource").disable();this.get_button("bold")||this.editor.addCommand("bold",{exec:function(){}});this.get_button("italic")||this.editor.addCommand("italic",{exec:function(){}});this.get_button("underline")||this.editor.addCommand("underline",
{exec:function(){}});if(2==this.wysiwyg_mode&&CKEDITOR.env.gecko){var a=this;setTimeout(function(){a.force_caret_ff()},500);this.editor.document.on("mouseover",this.force_caret_ff,this);this.editor.document.on("click",this.force_caret_ff,this)}this.config.autofocus&&this.check_focus();YAHOO.util.Dom.addClass(this.editorid,this.config.bodyClass);this.set_autoload_crc32();this.editor.on("dataReady",this.setupEventHandling,this)};
vB_Text_Editor.prototype.setupEventHandling=function(){if("wysiwyg"==this.editor.mode&&(CKEDITOR.env.webkit||(YAHOO.util.Event.on(this.editor.document.$,"mousedown",this.mousedown,this,!0),YAHOO.util.Event.on(this.editor.document.$,"contextmenu",this.contextmenu,this,!0)),YAHOO.util.Event.on(this.editor.document.$,"dblclick",this.img_dblclick,this,!0),YAHOO.util.Event.on(this.editor.document.$,"dragend",this.img_dragend,this,!0),this.isSafari))YAHOO.util.Event.on(this.editor.document.$,"mousedown",
this.img_mousedown,this,!0)};vB_Text_Editor.prototype.img_mousedown=function(a){var b=YAHOO.util.Event.getTarget(a);YAHOO.util.Dom.hasClass(b,"previewthumb")&&a.preventDefault()};vB_Text_Editor.prototype.mousedown=function(a){var b=YAHOO.util.Event.getTarget(a);b.tagName&&"html"==b.tagName.toLowerCase()&&3==this.which_button(a)&&this.set_body_height()};vB_Text_Editor.prototype.which_button=function(a){return a.which?a.which:1==a.button?1:2==a.button?3:4==a.button?2:1};
vB_Text_Editor.prototype.contextmenu=function(a){var b=YAHOO.util.Event.getTarget(a);b.tagName&&"body"==b.tagName.toLowerCase()&&3==this.which_button(a)&&this.set_body_height("auto")};
vB_Text_Editor.prototype.pasteFromWordResize=function(){this.editor.on("dialogShow",function(a){if("paste"==a.data.getName()){var b=a.data.getSize(),a=YAHOO.util.Dom.getElementsByClassName("cke_pasteframe","iframe",a.data.getElement().$);a.length&&(YAHOO.util.Dom.setStyle(a[0],"width","100%"),YAHOO.util.Dom.setStyle(a[0],"height",b.height-115-95+"px"))}});CKEDITOR.vbdialog_resize||(CKEDITOR.dialog.on("resize",function(a){if("paste"==a.data.dialog.getName()){var b=YAHOO.util.Dom.getElementsByClassName("cke_pasteframe",
"iframe",a.data.dialog.getElement().$);b.length&&YAHOO.util.Dom.setStyle(b[0],"height",a.data.height-115+"px")}"pastetext"==a.data.dialog.getName()&&(b=YAHOO.util.Dom.getElementsByClassName("cke_dialog_ui_input_textarea","textarea",a.data.dialog.$),b.length&&(YAHOO.util.Dom.setStyle(b[0],"width",a.data.width+"px"),YAHOO.util.Dom.setStyle(b[0],"height",a.data.height+"px")))}),CKEDITOR.vbdialog_resize=!0)};
vB_Text_Editor.prototype.set_body_height=function(a){var b=this.editor.window.$.frameElement.contentWindow.document.body;if(a)YAHOO.util.Dom.setStyle(b,"height",a);else{var a=parseInt(YAHOO.util.Dom.getStyle(b,"margin-top"),10),c=parseInt(YAHOO.util.Dom.getStyle(b,"margin-bottom"),10),d=parseInt(YAHOO.util.Dom.getStyle(b,"padding-top"),10),e=parseInt(YAHOO.util.Dom.getStyle(b,"padding-bottom"),10),f=this.editor.window.$.frameElement.offsetHeight;b.offsetHeight-a-c-d-e<f&&YAHOO.util.Dom.setStyle(b,
"height",f-a-c-d-e+"px")}};vB_Text_Editor.prototype.img_dblclick=function(a){"undefined"!=typeof a.button&&0!=a.button||(this.check_focus(),a=YAHOO.util.Event.getTarget(a),YAHOO.util.Dom.hasClass(a,"previewthumb")&&(this.editor.current_attachmentid=a.getAttribute("attachmentid"),this.editor.execCommand("openAttachmentConfig")))};
vB_Text_Editor.prototype.img_dragend=function(){var a=YAHOO.util.Dom.getElementsByClassName("previewthumb","img",this.editor.document.$),b=!1;for(i=0;i<a.length;i++)if(b=PHP.stripos(a[i].src,"attachment.php"))a[i].src=a[i].src.substr(b)};
vB_Text_Editor.prototype.set_autoload_crc32=function(){this.lastautosave_text_crc32=this.initial_text_crc32=crc32(PHP.trim(this.getRawData()));this.config.autoloadtitleid&&YAHOO.util.Dom.get(this.config.autoloadtitleid)&&(this.lastautosave_title_crc32=this.initial_title_crc32=crc32(PHP.trim(YAHOO.util.Dom.get(this.config.autoloadtitleid).value)))};
vB_Text_Editor.prototype.force_caret_ff=function(a){a&&a.removeListener();this.editor.document.getBody().setAttribute("contentEditable",!1);this.editor.document.getBody().setAttribute("contentEditable",!0);this.config.autofocus&&this.check_focus()};
vB_Text_Editor.prototype.init=function(){if(this.editor=CKEDITOR.replace(this.editorid+"_editor",this.config)){this.editor.lang=CKEDITOR.vbphrase;this.editor.on("instanceReady",this.editor_ready,this);this.config.nobbcode&&(this.editor.config.startupMode="enhancedsource");YAHOO.util.Dom.setStyle(this.textarea,"visibility","hidden");YAHOO.util.Dom.setStyle(this.textarea,"width","0px");YAHOO.util.Dom.setStyle(this.textarea,"min-width","0px");this.editor.hitServer=!0;var a=this.editor;this.editor.on("paste",
function(b){b=b.data;if(b.text||b.html)a.hitServer=false},null,null,999);this.editor.on("afterPaste",function(){if(!a.hitServer)a.hitServer=true},null,null,1001);this.editor.editorid=this.editorid;this.config.vbulletin.attachinfo&&(vBulletin.attachinfo=this.config.vbulletin.attachinfo);null!=this.editor&&("undefined"==typeof require_click||!require_click||"vB_Editor_QR"!=this.editorid)&&this.initialize();this.wysiwyg_mode=this.config.editorMode;this.init_footer_text();this.setup_unload();this.autosavetimer();
this.vBevents.editorready.fire()}else this.config.autofocus&&this.check_focus();this.editorready=!0};vB_Text_Editor.prototype.hide_autosave_button=function(){this.autosave_enabled&&YAHOO.util.Dom.setStyle(this.editorid+"_restore_autosave","display","none")};
vB_Text_Editor.prototype.restore_autosave_text=function(){this.hide_autosave_button();this.write_editor_contents(this.autosave_text);this.config.autoloadtitleid&&this.autosave_title&&(YAHOO.util.Dom.get(this.config.autoloadtitleid).value=this.autosave_title);this.editor.focus()};
vB_Text_Editor.prototype.init_footer_text=function(){var a="",b='<div class="as_ind_container"><div class="hidden" id="'+this.editor.editorid+'_autosaved">%1</div></div>';re=RegExp("%1","gi");this.config.autoload&&(this.autosave_text=this.unescape_text(this.config.autoload),this.autosave_title=this.unescape_text(this.config.autoloadtitle),a='<div class="cke_bottom_restore_autosave" id="'+this.editor.editorid+'_restore_autosave"><span class="cke_toolgroup"><span class="cke_button"><a class="restoretext" role="button">%1</a></span></span></div>',
YAHOO.util.Event.on(this.editor.editorid+"_restore_autosave","click",this.restore_autosave_text,this,!0));if(this.editor.getThemeSpace&&this.editor.getThemeSpace("bottom")){var b=b.replace(re,this.editor.lang.autosave.autosaved),a=a.replace(re,this.editor.lang.autosave.restoreAutosaveContent),c=this.editor.getThemeSpace("bottom");c.$.innerHTML=c.$.innerHTML+b+a}else{var d=this;this.editor.on("themeSpace",function(c){if(c.data.space=="bottom"){b=b.replace(re,d.editor.lang.autosave.autosaved);a=a.replace(re,
d.editor.lang.autosave.restoreAutosaveContent);c.data.html=c.data.html+(b+a)}})}};vB_Text_Editor.prototype.uninitialize=function(){this.initialized=!1};vB_Text_Editor.prototype.initialize=function(){this.initialized=!0};vB_Text_Editor.prototype.getRawData=function(){if(this.editor){if(this.editor.document){var a=this.editor.document.getBody().getHtml();CKEDITOR.env.gecko&&(a=a.replace(/<br>(?=\s*(:?$|<\/body>))/,""));return a}return this.editor.textarea.$.value}return this.textarea.value};
vB_Text_Editor.prototype.exit_prompt=function(a){var b=!1;for(x in vB_Editor){var c=PHP.trim(vB_Editor[x].getRawData()),c=crc32(c),d=null;this.config.autoloadtitleid&&YAHOO.util.Dom.get(this.config.autoloadtitleid)&&(d=crc32(PHP.trim(YAHOO.util.Dom.get(this.config.autoloadtitleid).value)));c=vB_Editor[x].lastautosave_text_crc32?vB_Editor[x].lastautosave_text_crc32!=c:vB_Editor[x].lastautosave_title_crc32?vB_Editor[x].lastautosave_title_crc32!=d:vB_Editor[x].initial_text_crc32!=c;vB_Editor[x].initialized&&
c&&(b=!0)}if(b)return a&&(a.returnValue=this.editor.lang.vbulletin.changes_will_be_lost),this.editor.lang.vbulletin.changes_will_be_lost};vB_Text_Editor.prototype.setup_unload=function(){var a=!0,b=YAHOO.util.Event.getListeners(window);if(b&&b.length)for(var c=0;c<b.length;c++)"beforeunload"==b[c].type&&b[c].fn==this.exit_prompt&&(a=!1);a&&YAHOO.util.Event.addListener(window,"beforeunload",this.exit_prompt,this,!0)};
vB_Text_Editor.prototype.unescape_text=function(a){var b=a.match(/&#([0-9]+);/g);if(b)for(var c=0;"undefined"!=typeof b[c];c++)if(submatch=b[c].match(/^&#([0-9]+);$/))a=a.replace(submatch[0],String.fromCharCode(submatch[1]));return a};vB_Text_Editor.prototype.check_focus=function(){this.editor?this.editor.focus&&this.editor.focus():this.textarea.focus()};
vB_Text_Editor.prototype.destroy=function(){this.uninitialize();this.autosave_enabled=!1;YAHOO.util.Connect.abort(this.autosave_ajax_req);this.editor&&(this.editor.focusManager.forceBlur(),CKEDITOR.remove(this.editor))};vB_Text_Editor.prototype.get_editor_contents=function(){return this.editor?this.editor.getData():this.textarea.value};
vB_Text_Editor.prototype.html_entity_decode=function(a){if(2==this.wysiwyg_mode||!a)return a;var b=document.createElement("div");YAHOO.util.Dom.setStyle(b,"display","none");a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;");b.innerHTML='<textarea id="vb_entity_decoder">'+a+"</textarea>";a=document.body.appendChild(b);b=YAHOO.util.Dom.get("vb_entity_decoder").value;a.parentNode.removeChild(a);return b};
vB_Text_Editor.prototype.write_editor_contents=function(a){a=PHP.trim(a);a=this.html_entity_decode(a);this.editor?this.editor.setData(a,this.reset_autosave):this.textarea.value=a};vB_Text_Editor.prototype.reset_autosave=function(){vB_Editor[this.editorid].set_autoload_crc32()};vB_Text_Editor.prototype.enable_editor=function(a){this.initialize();this.write_editor_contents(a)};vB_Text_Editor.prototype.disable_editor=function(){this.uninitialize()};
vB_Text_Editor.prototype.prepare_submit=function(a,b){this.hide_autosave_notice();var c=this.getRawData(),d=validatemessage(stripcode(c,!0),a,b);if(d)return this.textarea.value=c,this.uninitialize(),d;this.check_focus();return!1};vB_Text_Editor.prototype.open_smilie_window=function(a,b){smilie_window=openWindow("misc.php?"+SESSIONURL+"do=getsmilies&editorid="+this.editorid,a,b,"smilie_window");window.onunload=vB_Text_Editor.prototype.smiliewindow_onunload};
vB_Text_Editor.prototype.insert_smilie=function(a,b){b.editor.insertHtml(YAHOO.util.Dom.getAttribute(this,"alt"))};vB_Text_Editor.prototype.init_smilies=function(a){if(null!=a)for(var a=fetch_tags(a,"img"),b=0;b<a.length;b++)a[b].id&&!1!=a[b].id.indexOf("_smilie_")&&(a[b].style.cursor=pointer_cursor,a[b].unselectable="on",YAHOO.util.Event.addListener(a[b],"click",this.insert_smilie,this,!1))};
vB_Text_Editor.prototype.smiliewindow_onunload=function(){"undefined"!=typeof smilie_window&&!smilie_window.closed&&smilie_window.close()};vB_Text_Editor.prototype.get_button=function(a,b){b||(b="button");for(var c=0;c<this.editor.toolbox.toolbars.length;c++)for(var d=this.editor.toolbox.toolbars[c],e=0;e<d.items.length;e++){var f=d.items[e];if("button"==b&&f.button&&f.button.command==a||"combo"==b&&f.combo&&f.combo.command==a)return f}};
vB_Text_Editor.prototype.hide_button=function(a,b){b||(b="button");var c=this.get_button(a,b);if(c)if("button"==b){if("none"!=YAHOO.util.Dom.getStyle(c.id,"display")){var d=YAHOO.util.Dom.getAncestorByClassName(c.id,"cke_toolgroup");if(d&&"none"!=YAHOO.util.Dom.getStyle(d,"display")){for(var e=YAHOO.util.Dom.getElementsByClassName("cke_button","span",d),f=0,g=0;g<e.length;g++){var h=e[g].getElementsByTagName("a");h.length&&h[0].id!=c.id&&"none"!=YAHOO.util.Dom.getStyle(h[0].id,"display")&&f++}0==
f&&YAHOO.util.Dom.setStyle(d,"display","none");YAHOO.util.Dom.setStyle(c.id,"display","none")}}}else(c=YAHOO.util.Dom.getAncestorByClassName(c.id,"cke_rcombo"))&&YAHOO.util.Dom.setStyle(c,"display","none")};vB_Text_Editor.prototype.remove_attachment=function(a){if(this.is_wysiwyg_mode())for(var b=YAHOO.util.Dom.getElementsByClassName("previewthumb","img",this.editor.document.$),c=b.length,d=0;d<c;d++)a==YAHOO.util.Dom.getAttribute(b[d],"attachmentid")&&b[d].parentNode.removeChild(b[d])};var tag_add_comp;vB_XHTML_Ready.subscribe(function(){if(fetch_object("tag_edit_link"))YAHOO.util.Event.on(fetch_object("tag_edit_link"),"click",tag_edit_click)});function tag_edit_click(a){YAHOO.util.Event.stopEvent(a);this.tag_editor||(this.tag_editor=new vB_AJAX_TagThread("tag_list_cell",this.id));this.tag_editor.fetch_form()}
function vB_AJAX_TagThread(a,b){this.edit_form="tag_edit_form";this.edit_cancel="tag_edit_cancel";this.form_progress="tag_form_progress";this.submit_progress="tag_edit_progress";this.form_visible=!1;this.do_ajax_submit=!0;this.tag_container=a;var c=fetch_object(b).href.match(/(\?|&)t=([0-9]+)/);c&&c[2]?(this.contentid=c[2],this.contenttype="thread"):(c=fetch_object(b).href.match(/(\?|&)contentid=([0-9]+)/),this.contentid=c[2],c=fetch_object(b).href.match(/(\?|&)contenttype=([a-zA-Z0-9]+)/),this.contenttype=
c[2])}vB_AJAX_TagThread.prototype.fetch_form=function(){this.form_visible||(YAHOO.util.Connect.asyncRequest("POST","threadtag.php?contenttype="+this.contenttype+"&contentid="+this.contentid,{success:this.handle_ajax_form,failure:this.handle_ajax_form_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&contenttype="+this.contenttype+"&contentid="+this.contentid+"&ajax=1"),fetch_object(this.form_progress)&&(fetch_object(this.form_progress).style.display=""))};
vB_AJAX_TagThread.prototype.handle_ajax_form=function(a){if(a.responseXML&&!this.form_visible){var b=a.responseXML.getElementsByTagName("error");b.length?alert(b[0].firstChild.nodeValue):a.responseXML.getElementsByTagName("html")[0]&&(b=fetch_object(this.tag_container),b.origInnerHTML=b.innerHTML,b.innerHTML=a.responseXML.getElementsByTagName("html")[0].firstChild.nodeValue,YAHOO.util.Event.on(this.edit_form,"submit",this.submit_tag_edit,this,!0),YAHOO.util.Event.on(this.edit_cancel,"click",this.cancel_tag_edit,
this,!0),fetch_object("tagpopup_body")&&fetch_object("tagpopup_ctrl")&&(vbmenu_register("tag_add_wrapper",!0),tag_add_comp=new vB_AJAX_TagSuggest("tag_add_comp","tagpopup_ctrl","tagpopup"),tag_add_comp.allow_multiple=!0,(a=a.responseXML.getElementsByTagName("delimiters")[0])&&a.firstChild&&tag_add_comp.set_delimiters(a.firstChild.nodeValue),fetch_object("tagpopup_ctrl").focus(),fetch_object("tagpopup_ctrl").focus()),this.form_visible=!0)}fetch_object(this.form_progress)&&(fetch_object(this.form_progress).style.display=
"none")};vB_AJAX_TagThread.prototype.handle_ajax_form_error=function(a){vBulletin_AJAX_Error_Handler(a);window.location="threadtag.php?"+SESSIONURL+"&contenttype="+this.contenttype+"&contentid="+this.contentid};
vB_AJAX_TagThread.prototype.submit_tag_edit=function(a){this.do_ajax_submit&&(YAHOO.util.Event.stopEvent(a),a=new vB_Hidden_Form(null),a.add_variables_from_object(fetch_object(this.edit_form)),YAHOO.util.Connect.asyncRequest("POST","threadtag.php?do=managetags&contenttype="+this.contenttype+"&contentid="+this.contentid,{success:this.handle_ajax_submit,failure:this.handle_ajax_submit_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=managetags&ajax=1&"+a.build_query_string()),
fetch_object(this.submit_progress)&&(fetch_object(this.submit_progress).style.display=""))};
vB_AJAX_TagThread.prototype.handle_ajax_submit=function(a){if(a.responseXML){var b=a.responseXML.getElementsByTagName("error");b.length?(alert(b[0].firstChild.nodeValue),this.cancel_tag_edit()):(b=a.responseXML.getElementsByTagName("taghtml"),b.length&&b[0].firstChild&&""!==b[0].firstChild.nodeValue&&(YAHOO.util.Dom.get(this.tag_container).innerHTML=b[0].firstChild.nodeValue),a=a.responseXML.getElementsByTagName("warning"),a.length&&a[0].firstChild&&alert(a[0].firstChild.nodeValue),this.form_visible=
!1)}fetch_object(this.submit_progress)&&(fetch_object(this.submit_progress).style.display="none")};vB_AJAX_TagThread.prototype.handle_ajax_submit_error=function(a){vBulletin_AJAX_Error_Handler(a);this.do_ajax_submit=!1;fetch_object(this.edit_form).submit()};
vB_AJAX_TagThread.prototype.cancel_tag_edit=function(){tag_add_comp&&tag_add_comp.menu_hide();var a=fetch_object(this.tag_container);a.origInnerHTML&&(a.innerHTML=a.origInnerHTML,a.origInnerHTML="");fetch_object(this.form_progress)&&(fetch_object(this.form_progress).style.display="none");this.form_visible=!1};var webkit_version=userAgent.match(/applewebkit\/([0-9]+)/),use_suggest=AJAX_Compatible&&!(is_saf&&!(412<=webkit_version[1]));function vB_AJAX_Suggest(){this.xmltag="item";this.rooturl=""}
use_suggest?(vB_AJAX_Suggest.prototype.base_init=function(a,b,c){this.menuobj=YAHOO.util.Dom.get(c+"_body");this.menuobj||(this.menuobj=YAHOO.util.Dom.get(c+"_menu"));this.menuobj||(this.menuobj=document.createElement("div"),this.menuobj.id=c+"_body",YAHOO.util.Dom.addClass(this.menuobj,"popupbody"),YAHOO.util.Dom.get(c).appendChild(this.menuobj));this.textobj=YAHOO.util.Dom.get(b);this.textobj.setAttribute("autocomplete","off");this.textobj.onfocus=function(){this.obj.active=true};this.textobj.onblur=
function(){this.obj.active=false};this.textobj.obj=this;this.set_primary_delimiter(",");this.varname=a;this.menukey=c;this.doneitems=this.fragment="";this.selected=0;this.menuopen=!1;this.timeout=null;this.items=[];this.active=!1;this.ajax_req=null;this.allow_multiple=!1;this.min_chars=3;this.textobj.onkeyup=function(a){return this.obj.key_event_handler(a)};this.textobj.onkeypress=function(a){a=a?a:window.event;if(a.keyCode==13)return this.obj.menuopen?false:true}},vB_AJAX_Suggest.prototype.setrooturl=
function(a){this.rooturl=a},vB_AJAX_Suggest.prototype.set_primary_delimiter=function(a){this.delim=a;this.delimiters=Array(this.delim)},vB_AJAX_Suggest.prototype.set_delimiters=function(a){this.delimiters=Array(this.delim);if(a){var b,c;if(b=PHP.match_all(a,"{([^}]*)}"))for(c=0;c<b.length;c++)""!==b[c][1]&&this.delimiters.push(b[c][1]),a=a.replace(b[c][0],"");b=a.split(" ");for(c=0;c<b.length;c++)""!==b[c]&&this.delimiters.push(b[c])}},vB_AJAX_Suggest.prototype.get_text=function(){if(this.allow_multiple){for(var a=
-1,b,c=0;c<this.delimiters.length;c++)this.textobj.value.lastIndexOf(this.delimiters[c])>a&&(a=this.textobj.value.lastIndexOf(this.delimiters[c]),b=this.delimiters[c].length);-1==a?(this.doneitems=new String(""),this.fragment=new String(this.textobj.value)):(this.doneitems=new String(this.textobj.value.substring(0,a+b)),this.fragment=new String(this.textobj.value.substring(a+b)))}else this.fragment=new String(this.textobj.value);this.fragment=PHP.trim(this.fragment)},vB_AJAX_Suggest.prototype.set_text=
function(a){if(this.allow_multiple){var b=" "==this.doneitems.substr(this.doneitems.length-1)?"":" ";this.textobj.value=PHP.ltrim(this.doneitems+b+PHP.unhtmlspecialchars(this.items[a],!0)+this.delim+" ")}else this.textobj.value=PHP.unhtmlspecialchars(this.items[a],!0);this.textobj.focus();this.menu_hide();return!1},vB_AJAX_Suggest.prototype.move_row_selection=function(a){a=parseInt(this.selected,10)+parseInt(a,10);0>a?a=this.items.length-1:a>=this.items.length&&(a=0);this.set_row_selection(a);return!1},
vB_AJAX_Suggest.prototype.set_row_selection=function(a){var b=fetch_tags(this.menuobj,"li");b.length&&(b[this.selected].className="vbmenu_option",this.selected=a,b[this.selected].className="vbmenu_hilite")},vB_AJAX_Suggest.prototype.key_event_handler=function(a){a=a?a:window.event;this.active=!0;if(this.menuopen)switch(a.keyCode){case 38:return this.move_row_selection(-1),!1;case 40:return this.move_row_selection(1),!1;case 27:return this.menu_hide(),!1;case 13:return this.set_text(this.selected),
!1}this.get_text();this.fragment.length>=this.min_chars?(clearTimeout(this.timeout),this.timeout=setTimeout(this.varname+".item_search();",500)):this.menu_hide()},vB_AJAX_Suggest.prototype.item_search=function(){this.active&&(this.items=[],YAHOO.util.Connect.isCallInProgress(this.ajax_req)&&YAHOO.util.Connect.abort(this.ajax_req),this.ajax_req=YAHOO.util.Connect.asyncRequest("POST",this.get_search_url(),{success:this.handle_ajax_response,failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,
scope:this},this.get_search_post()))},vB_AJAX_Suggest.prototype.get_search_url=function(){},vB_AJAX_Suggest.prototype.get_search_post=function(){},vB_AJAX_Suggest.prototype.handle_ajax_response=function(a){if(a.responseXML){var b=this.textobj;do if("none"==b.style.display){this.menu_hide();return}while(null!=(b=b.parentNode)&&b.style);a=a.responseXML.getElementsByTagName(this.xmltag);if(a.length)for(b=0;b<a.length;b++)this.items[b]=a[b].firstChild.nodeValue;this.items.length?(this.menu_build(),this.menu_show()):
this.menu_hide()}},vB_AJAX_Suggest.prototype.menu_build=function(){if(YAHOO.vBulletin.vBPopupMenu.popups[this.menukey])0<YAHOO.env.ua.ie&&8>YAHOO.env.ua.ie||(a=YAHOO.vBulletin.vBPopupMenu.popups[this.menukey],a.init(YAHOO.util.Dom.get(this.menukey),YAHOO.vBulletin.vBPopupMenu));else{var a=new PopupMenu(YAHOO.util.Dom.get(this.menukey),YAHOO.vBulletin.vBPopupMenu);YAHOO.vBulletin.vBPopupMenu.register_menuobj(a)}this.menu_empty();var a=RegExp("^("+PHP.preg_quote(this.fragment)+")","i"),b=document.createElement("ul"),
c;for(c in this.items)if(YAHOO.lang.hasOwnProperty(this.items,c)){var d=document.createElement("li");d.className=c==this.selected?"vbmenu_hilite":"vbmenu_option";d.title="nohilite";d.innerHTML='<a href="#" onclick="return '+this.varname+".set_text("+c+')">'+this.items[c].replace(a,"<strong>$1</strong>")+"</a>";d.onmouseover=this.get_item_mouseover_handler(c);b.appendChild(d)}this.menuobj.appendChild(b)},vB_AJAX_Suggest.prototype.get_item_mouseover_handler=function(a){var b=this;return function(){return b.set_row_selection(a)}},
vB_AJAX_Suggest.prototype.menu_empty=function(){for(this.selected=0;this.menuobj.firstChild;)this.menuobj.removeChild(this.menuobj.firstChild)},vB_AJAX_Suggest.prototype.menu_show=function(){this.active&&(YAHOO.vBulletin.vBPopupMenu.popups[this.menukey].menu=this.menuobj,YAHOO.vBulletin.vBPopupMenu.popups[this.menukey].open_menu(this.textobj.id),this.menuopen=!0)},vB_AJAX_Suggest.prototype.menu_hide=function(){YAHOO.vBulletin.vBPopupMenu.close_all();this.menuopen=!1}):vB_AJAX_Suggest.prototype.set_delimiters=
function(){};function vB_AJAX_TagSuggest(a,b,c){use_suggest&&this.base_init(a,b,c)}vB_AJAX_TagSuggest.prototype=new vB_AJAX_Suggest;use_suggest&&(vB_AJAX_TagSuggest.prototype.get_search_url=function(){return this.rooturl+"ajax.php?do=tagsearch"},vB_AJAX_TagSuggest.prototype.get_search_post=function(){return"securitytoken="+SECURITYTOKEN+"&do=tagsearch&fragment="+PHP.urlencode(this.fragment)},vB_AJAX_TagSuggest.prototype.xmltag="tag");
function vB_AJAX_NameSuggest(a,b,c){if(use_suggest){this.base_init(a,b,c);this.set_primary_delimiter(";")}}vB_AJAX_NameSuggest.prototype=new vB_AJAX_Suggest;use_suggest&&(vB_AJAX_NameSuggest.prototype.get_search_url=function(){return this.rooturl+"ajax.php?do=usersearch"},vB_AJAX_NameSuggest.prototype.get_search_post=function(){return SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=usersearch&fragment="+PHP.urlencode(this.fragment)},vB_AJAX_NameSuggest.prototype.xmltag="user");
function vB_AJAX_SocialGroupSuggest(a,b,c){use_suggest&&this.base_init(a,b,c)}vB_AJAX_SocialGroupSuggest.prototype=new vB_AJAX_Suggest;use_suggest&&(vB_AJAX_SocialGroupSuggest.prototype.get_search_url=function(){return this.rooturl+"ajax.php?do=socialgroupsearch"},vB_AJAX_SocialGroupSuggest.prototype.get_search_post=function(){return SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=socialgroupsearch&fragment="+PHP.urlencode(this.fragment)},vB_AJAX_SocialGroupSuggest.prototype.xmltag="socialgroup");function display_post(a){AJAX_Compatible?(vB_PostLoader[a]=new vB_AJAX_PostLoader(a),vB_PostLoader[a].init()):(pc_obj=fetch_object("postcount"+this.postid),openWindow("showthread.php?"+(SESSIONURL?"s="+SESSIONURL:"")+(null!=pc_obj?"&postcount="+PHP.urlencode(pc_obj.name):"")+"&p="+a+"#post"+a));return!1}var vB_PostLoader=[];function vB_AJAX_PostLoader(a){this.postid=a;this.post=YAHOO.util.Dom.get("post_"+this.postid)}
vB_AJAX_PostLoader.prototype.init=function(){this.post&&(postid=this.postid,pc_obj=fetch_object("postcount"+this.postid),YAHOO.util.Connect.asyncRequest("POST","showpost.php?p="+this.postid,{success:this.display,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&ajax=1&postid="+this.postid+(null!=pc_obj?"&postcount="+PHP.urlencode(pc_obj.name):"")))};vB_AJAX_PostLoader.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a)};
vB_AJAX_PostLoader.prototype.display=function(a){a.responseXML&&(a=a.responseXML.getElementsByTagName("postbit"),a.length?(a=string_to_node(a[0].firstChild.nodeValue),this.post.parentNode.replaceChild(a,this.post),PostBit_Init(a,this.postid)):openWindow("showthread.php?"+(SESSIONURL?"s="+SESSIONURL:"")+(null!=pc_obj?"&postcount="+PHP.urlencode(pc_obj.name):"")+"&p="+this.postid+"#post"+this.postid))};function vB_AJAX_ThreadRate_Init(a,b){var c=YAHOO.util.Dom.get(a);if(AJAX_Compatible&&("undefined"==typeof vb_disable_ajax||2>vb_disable_ajax)&&c)for(var d=new vB_AJAX_ThreadRate(c,b),e=0;e<c.elements.length;e++)if("submit"==c.elements[e].type){var f=c.elements[e],g=document.createElement("input");g.type="button";g.className=f.className;g.value=f.value;YAHOO.util.Event.addListener(g,"click",d.form_click,void 0,d);f.parentNode.insertBefore(g,f);f.parentNode.removeChild(f)}}
function vB_AJAX_ThreadRate(a,b){this.formobj=a;this.threadid=b;this.output_element_id="threadrating_current"}
vB_AJAX_ThreadRate.prototype.handle_ajax_response=function(a){if(a.responseXML){YAHOO.vBulletin.vBPopupMenu.close_all();var b=a.responseXML.getElementsByTagName("error");if(b.length)alert(b[0].firstChild.nodeValue);else{if(this.get_child_value(a.responseXML,"vote_threshold_met")){var b=this.get_child_value(a.responseXML,"rating"),c=YAHOO.util.Dom.getElementsByClassName("rating",void 0,this.output_element_id);console.log(c);for(var d=0;d<c.length;d++){for(var e=1;5>=e;e++)YAHOO.util.Dom.removeClass(c[d],
"r"+e);YAHOO.util.Dom.addClass(c[d],"r"+b)}YAHOO.util.Dom.removeClass(this.output_element_id,"hidden")}a=a.responseXML.getElementsByTagName("message");a.length&&alert(a[0].firstChild.nodeValue)}}};vB_AJAX_ThreadRate.prototype.get_child_value=function(a,b){var c=a.getElementsByTagName(b);return c.length&&c[0].firstChild?c[0].firstChild.nodeValue:""};
vB_AJAX_ThreadRate.prototype.rate=function(){var a=new vB_Hidden_Form("threadrate.php");a.add_variable("ajax",1);a.add_variables_from_object(this.formobj);null!=a.fetch_variable("vote")&&YAHOO.util.Connect.asyncRequest("POST","threadrate.php?t="+this.threadid+"&vote="+PHP.urlencode(a.fetch_variable("vote")),{success:this.handle_ajax_response,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&"+a.build_query_string())};
vB_AJAX_ThreadRate.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a);this.formobj.submit()};vB_AJAX_ThreadRate.prototype.form_click=function(){this.rate();return!1};vB_XHTML_Ready.subscribe(init_posticons);function init_posticons(){var a=YAHOO.util.Dom.get("posticons"),b=YAHOO.util.Dom.get("posticon_preview"),c=[];if(a&&b){containers=YAHOO.util.Dom.get("posticons").getElementsByTagName("li");for(i=0;i<containers.length;i++)c[i]=new PostIconPreview(containers[i],b),c[i].control.checked&&c[i].choose()}}
function PostIconPreview(a,b){this.posticon_preview=b;this.control=a.getElementsByTagName("input")[0];this.icon=a.getElementsByTagName("img")[0];YAHOO.util.Event.on(this.control,"click",this.choose,this,!0)}PostIconPreview.prototype.choose=function(){this.clear_preview();this.set_preview()};PostIconPreview.prototype.clear_preview=function(){this.posticon_preview.src="images/clear.gif"};
PostIconPreview.prototype.set_preview=function(){0!=this.control.value&&(this.posticon_preview.src="images/icons/icon"+this.control.value+".gif")};vB_XHTML_Ready.subscribe(function(){return handle_dep(document.body)});var DepCtrls={};function handle_dep(a){for(var a=YAHOO.util.Dom.getElementsByClassName("dep_ctrl","input",a),b=null,c=0;c<a.length;c++)b=new DepCtrl(a[c]),b.fail||(console.log("Dep Ctrl: %s",a[c].id),DepCtrls[a[c].id]=b)}
function DepCtrl(a){this.ctrl=YAHOO.util.Dom.get(a);if(!this.ctrl)return console.log("Dep Ctrl (ctrl) FAIL: %s",a.id),this.fail=!0,!1;this.deps=YAHOO.util.Dom.get(a.id+"_deps");if(!this.deps)return console.log("Dep Ctrl (deps_x) FAIL: %s",a.id),this.fail=!0,!1;this.set_disabled_state(this.deps,!0);if("checkbox"==this.ctrl.type)console.log("Checkbox %s",this.ctrl.id),this.add_click_event(this.ctrl);else if("radio"==this.ctrl.type){console.log("Radio %s (%s)",this.ctrl.id,this.ctrl.name);for(var a=
document.getElementsByName(this.ctrl.name),b=0;b<a.length;b++)this.add_click_event(a[b])}}DepCtrl.prototype.add_click_event=function(a){YAHOO.util.Event.on(a,"click",this.check_state,this,!0)};DepCtrl.prototype.check_state=function(){this.set_disabled_state(this.deps,!0);this.set_focus()};
DepCtrl.prototype.set_disabled_state=function(a,b){if(a.tagName&&("DD"!=a.tagName||b))if(a.disabled=!this.ctrl.checked||this.ctrl.disabled,"INPUT"==a.tagName&&YAHOO.util.Dom.hasClass(a,"dep_ctrl")&&DepCtrls[a.id]&&DepCtrls[a.id].set_disabled_state(DepCtrls[a.id].deps,!0),a.hasChildNodes())for(var c=0;c<a.childNodes.length;c++)this.set_disabled_state(a.childNodes[c])};DepCtrl.prototype.is_form_element=function(a){switch(a.tagName){case "INPUT":case "SELECT":case "TEXTAREA":return!0;default:return!1}};
DepCtrl.prototype.set_focus=function(){var a=YAHOO.util.Dom.getElementsBy(this.is_form_element,"*",this.deps);try{try{a[0].focus()}catch(b){a[0].focus()}}catch(c){}};function vB_AJAX_QuickEdit_Init(a){if(AJAX_Compatible){"string"==typeof a&&(a=fetch_object(a));for(var a=fetch_tags(a,"a"),b=0;b<a.length;b++)a[b].name&&-1!=a[b].name.indexOf("vB::QuickEdit::")&&(a[b].onclick=vB_AJAX_QuickEditor_Events.prototype.editbutton_click)}}
function vB_AJAX_QuickEditor(){this.originalhtml=this.container=this.messageobj=this.postid=this.editimgsrc=null;this.editstate=!1;this.editorcounter=0;this.ajax_req=null;this.show_advanced=!0;vBulletin.attachinfo={posthash:"",poststarttime:""}}vB_AJAX_QuickEditor.prototype.ready=function(){return this.editstate||YAHOO.util.Connect.isCallInProgress(this.ajax_req)?!1:!0};
vB_AJAX_QuickEditor.prototype.edit=function(a){if("undefined"!=typeof vb_disable_ajax&&0<vb_disable_ajax)return!0;a=a.substr(a.lastIndexOf("::")+2);if(YAHOO.util.Connect.isCallInProgress(this.ajax_req))return!1;if(!this.ready()){if(this.postid==a)return this.full_edit(),!1;this.abort()}this.editorcounter++;this.editorid="vB_Editor_QE_"+this.editorcounter;this.postid=a;this.messageobj=fetch_object("post_message_"+this.postid);this.originalhtml=this.messageobj.innerHTML;this.unchanged_reason=this.unchanged=
null;this.fetch_editor();this.editstate=!0;return!1};
vB_AJAX_QuickEditor.prototype.fetch_editor=function(){YAHOO.util.Dom.get("progress_"+this.postid)&&(this.editimgsrc=YAHOO.util.Dom.get("editimg_"+this.postid).getAttribute("src"),YAHOO.util.Dom.get("editimg_"+this.postid).setAttribute("src",YAHOO.util.Dom.get("progress_"+this.postid).getAttribute("src")));document.body.style.cursor="wait";YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=quickedit&p="+this.postid,{success:this.display_editor,failure:this.error_opening_editor,timeout:vB_Default_Timeout,
scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=quickedit&p="+this.postid+"&editorid="+PHP.urlencode(this.editorid))};vB_AJAX_QuickEditor.prototype.error_opening_editor=function(a){vBulletin_AJAX_Error_Handler(a);window.location="editpost.php?"+SESSIONURL+"do=editpost&postid="+this.postid};vB_AJAX_QuickEditor.prototype.handle_save_error=function(a){vBulletin_AJAX_Error_Handler(a);this.show_advanced=!1;this.full_edit()};
vB_AJAX_QuickEditor.prototype.display_editor=function(a){if(a.responseXML){YAHOO.util.Dom.get("progress_"+vB_QuickEditor.postid)&&YAHOO.util.Dom.get("editimg_"+this.postid).setAttribute("src",vB_QuickEditor.editimgsrc);document.body.style.cursor="auto";if(fetch_tag_count(a.responseXML,"disabled"))window.location="editpost.php?"+SESSIONURL+"do=editpost&postid="+this.postid;else if(!fetch_tag_count(a.responseXML,"error")){if(0<a.responseXML.getElementsByTagName("contenttypeid").length){vBulletin.attachinfo=
{contenttypeid:a.responseXML.getElementsByTagName("contenttypeid")[0].firstChild.nodeValue,userid:a.responseXML.getElementsByTagName("userid")[0].firstChild.nodeValue,attachlimit:a.responseXML.getElementsByTagName("attachlimit")[0].firstChild.nodeValue,max_file_size:a.responseXML.getElementsByTagName("max_file_size")[0].firstChild.nodeValue,auth_type:a.responseXML.getElementsByTagName("auth_type")[0].firstChild.nodeValue,asset_enable:a.responseXML.getElementsByTagName("asset_enable")[0].firstChild.nodeValue,
posthash:a.responseXML.getElementsByTagName("posthash")[0].firstChild.nodeValue,poststarttime:a.responseXML.getElementsByTagName("poststarttime")[0].firstChild.nodeValue};var b=a.responseXML.getElementsByTagName("values");if(0<b.length&&b[0].childNodes.length){vBulletin.attachinfo.values="";for(var c=0;c<b[0].childNodes.length;c++)"#text"!=b[0].childNodes[c].nodeName&&"undefined"!=typeof b[0].childNodes[c].childNodes[0]&&(0<vBulletin.attachinfo.values.length&&(vBulletin.attachinfo.values="&"),vBulletin.attachinfo.values+=
"values["+b[0].childNodes[c].nodeName+"]="+b[0].childNodes[c].childNodes[0].nodeValue)}b=a.responseXML.getElementsByTagName("phrases");if(0<b.length&&b[0].childNodes.length)for(c=0;c<b[0].childNodes.length;c++)"#text"!=b[0].childNodes[c].nodeName&&"undefined"!=typeof b[0].childNodes[c].childNodes[0]&&(vbphrase[b[0].childNodes[c].nodeName]=b[0].childNodes[c].childNodes[0].nodeValue)}c=fetch_tags(a.responseXML,"editor")[0];if("undefined"==typeof c)return window.location="editpost.php?"+SESSIONURL+"do=editpost&postid="+
this.postid,!1;b=c.getAttribute("reason");this.messageobj.innerHTML=c.firstChild.nodeValue;fetch_object(this.editorid+"_edit_reason")&&(this.unchanged_reason=PHP.unhtmlspecialchars(b),fetch_object(this.editorid+"_edit_reason").value=this.unchanged_reason,fetch_object(this.editorid+"_edit_reason").onkeypress=vB_AJAX_QuickEditor_Events.prototype.reason_key_trap);a="object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(fetch_tags(a.responseXML,"ckeconfig")[0].firstChild.nodeValue):eval("("+
fetch_tags(a.responseXML,"ckeconfig")[0].firstChild.nodeValue+")");vBulletin.attachinfo&&(CKEDITOR.config.content=vBulletin.attachinfo);vB_Editor[this.editorid]=new vB_Text_Editor(this.editorid,a);vB_Editor[this.editorid].editorready?this.display_editor_final("editorready",null,this):vB_Editor[this.editorid].vBevents.editorready.subscribe(this.display_editor_final,this)}handle_dep(this.editorid)}};
vB_AJAX_QuickEditor.prototype.display_editor_final=function(a,b,c){YAHOO.util.Dom.get(c.editorid)&&YAHOO.util.Dom.get(c.editorid);vB_Editor[c.editorid].check_focus();c.unchanged=vB_Editor[c.editorid].get_editor_contents();YAHOO.util.Event.on(c.editorid+"_save","click",c.save,c,!0);YAHOO.util.Event.on(c.editorid+"_abort","click",c.abort,c,!0);YAHOO.util.Event.on(c.editorid+"_adv","click",c.full_edit,c,!0);YAHOO.util.Event.on("quick_edit_errors_hide","click",c.hide_errors,c,!0);YAHOO.util.Event.on("quick_edit_errors_cancel",
"click",c.abort,c,!0);if(YAHOO.util.Dom.get(c.editorid+"_delete"))YAHOO.util.Event.on(c.editorid+"_delete","click",c.show_delete,c,!0);init_popupmenus(YAHOO.util.Dom.get(c.editorid))};
vB_AJAX_QuickEditor.prototype.restore=function(a,b){this.hide_errors(!0);this.editorid&&vB_Editor[this.editorid]&&vB_Editor[this.editorid].destroy();if("tableobj"==b){var c=YAHOO.util.Dom.get("post_"+this.postid);c.parentNode.replaceChild(string_to_node(a),c);"object"==typeof pd&&"undefined"!=typeof pd[this.postid]&&(pd[this.postid]=a)}else this.messageobj.innerHTML=a;this.editstate=!1};
vB_AJAX_QuickEditor.prototype.abort=function(a){a&&YAHOO.util.Event.stopEvent(a);YAHOO.util.Dom.get("progress_"+vB_QuickEditor.postid)&&vB_QuickEditor.editimgsrc&&YAHOO.util.Dom.get("editimg_"+vB_QuickEditor.postid).setAttribute("src",vB_QuickEditor.editimgsrc);document.body.style.cursor="auto";vB_QuickEditor.restore(vB_QuickEditor.originalhtml,"messageobj");PostBit_Init(fetch_object("post_"+vB_QuickEditor.postid),vB_QuickEditor.postid)};
vB_AJAX_QuickEditor.prototype.full_edit=function(){if(vB_Editor[vB_QuickEditor.editorid]){var a=new vB_Hidden_Form((PATHS.forum?PATHS.forum+"/":"")+"editpost.php?do=updatepost&postid="+vB_QuickEditor.postid);a.add_variable("do","updatepost");a.add_variable("s",fetch_sessionhash());a.add_variable("securitytoken",SECURITYTOKEN);vB_QuickEditor.show_advanced?a.add_variable("advanced",1):a.add_variable("quickeditnoajax",1);a.add_variable("postid",vB_QuickEditor.postid);a.add_variable("message",vB_Editor[vB_QuickEditor.editorid].get_editor_contents());
a.add_variable("reason",fetch_object(vB_QuickEditor.editorid+"_edit_reason").value);a.add_variable("posthash",vBulletin.attachinfo.posthash);a.add_variable("poststarttime",vBulletin.attachinfo.poststarttime);vB_Editor[vB_QuickEditor.editorid].uninitialize();a.submit_form()}};
vB_AJAX_QuickEditor.prototype.save=function(a){var b=vB_Editor[vB_QuickEditor.editorid].get_editor_contents(),c=vB_Editor[vB_QuickEditor.editorid];b==vB_QuickEditor.unchanged&&c==vB_QuickEditor.unchanged_reason?vB_QuickEditor.abort(a):(vB_Editor[this.editorid].uninitialize(),fetch_object(vB_QuickEditor.editorid+"_posting_msg").style.display="",document.body.style.cursor="wait",pc_obj=fetch_object("postcount"+vB_QuickEditor.postid),this.ajax_req=YAHOO.util.Connect.asyncRequest("POST","editpost.php?do=updatepost&postid="+
this.postid,{success:vB_QuickEditor.update,failure:vB_QuickEditor.handle_save_error,timeout:vB_Default_Timeout,scope:vB_QuickEditor},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=updatepost&ajax=1&postid="+vB_QuickEditor.postid+"&posthash="+vBulletin.attachinfo.posthash+"&poststarttime="+vBulletin.attachinfo.poststarttime+"&message="+PHP.urlencode(b)+"&reason="+PHP.urlencode(fetch_object(vB_QuickEditor.editorid+"_edit_reason").value)+"&relpath="+PHP.urlencode(RELPATH)+(null!=pc_obj?"&postcount="+
PHP.urlencode(pc_obj.name):"")+("object"==typeof pd&&"undefined"!=typeof pd[vB_QuickEditor.postid]?"&displaymode=1":"")),vB_QuickEditor.pending=!0)};
vB_AJAX_QuickEditor.prototype.show_delete=function(){vB_QuickEditor.deletedialog=fetch_object("quickedit_delete");vB_QuickEditor.deletedialog&&""!=vB_QuickEditor.deletedialog.style.display&&(vB_QuickEditor.deletedialog.style.display="",vB_QuickEditor.deletebutton=fetch_object("quickedit_dodelete"),vB_QuickEditor.deletebutton.onclick=vB_QuickEditor.delete_post,fetch_object("del_reason")&&(fetch_object("del_reason").onkeypress=vB_AJAX_QuickEditor_Events.prototype.delete_items_key_trap))};
vB_AJAX_QuickEditor.prototype.delete_post=function(){var a=fetch_object("rb_del_leave");a&&a.checked?vB_QuickEditor.abort():(a=new vB_Hidden_Form("editpost.php"),a.add_variable("do","deletepost"),a.add_variable("s",fetch_sessionhash()),a.add_variable("securitytoken",SECURITYTOKEN),a.add_variable("postid",vB_QuickEditor.postid),a.add_variables_from_object(vB_QuickEditor.deletedialog),vB_Editor[vB_QuickEditor.editorid].uninitialize(),a.submit_form())};
vB_AJAX_QuickEditor.prototype.update=function(a){if(a.responseXML)if(vB_QuickEditor.pending=!1,document.body.style.cursor="auto",fetch_object(vB_QuickEditor.editorid+"_posting_msg").style.display="none",fetch_tag_count(a.responseXML,"error")){for(var a=fetch_tags(a.responseXML,"error"),b="<ol>",c=0;c<a.length;c++)b+="<li>"+a[c].firstChild.nodeValue+"</li>";vB_QuickEditor.show_errors(b+"</ol>")}else vB_QuickEditor.restore(a.responseXML.getElementsByTagName("postbit")[0].firstChild.nodeValue,"tableobj"),
PostBit_Init(fetch_object("post_"+vB_QuickEditor.postid),vB_QuickEditor.postid);return!1};
vB_AJAX_QuickEditor.prototype.show_errors=function(a){set_unselectable("quick_edit_errors_hide");YAHOO.util.Dom.get("ajax_post_errors_message").innerHTML=a;var a=YAHOO.util.Dom.get("ajax_post_errors"),b=is_saf?"body":"documentElement";a.style.left=(is_ie?document.documentElement.clientWidth:self.innerWidth)/2-200+document[b].scrollLeft+"px";a.style.top=(is_ie?document.documentElement.clientHeight:self.innerHeight)/2-150+document[b].scrollTop+"px";YAHOO.util.Dom.removeClass(a,"hidden")};
vB_AJAX_QuickEditor.prototype.hide_errors=function(a){this.errors=!1;YAHOO.util.Dom.addClass("ajax_post_errors","hidden");!0!=a&&vB_Editor[this.editorid].check_focus()};function vB_AJAX_QuickEditor_Events(){}vB_AJAX_QuickEditor_Events.prototype.editbutton_click=function(){return vB_QuickEditor.edit(this.name)};vB_AJAX_QuickEditor_Events.prototype.delete_button_handler=function(){vB_QuickEditor.deletebutton.disabled="rb_del_leave"==this.id&&this.checked?!0:!1};
vB_AJAX_QuickEditor_Events.prototype.reason_key_trap=function(a){a=a?a:window.event;switch(a.keyCode){case 9:return fetch_object(vB_QuickEditor.editorid+"_save").focus(),!1;case 13:return vB_QuickEditor.save(),!1;default:return!0}};vB_AJAX_QuickEditor_Events.prototype.delete_items_key_trap=function(a){a=a?a:window.event;return 13==a.keyCode?(!1==vB_QuickEditor.deletebutton.disabled&&vB_QuickEditor.delete_post(),!1):!0};var vB_QuickEditor=new vB_AJAX_QuickEditor;vBulletin.events.systemInit.subscribe(function(){AJAX_Compatible&&(vB_QuickEditor_Watcher=new vB_QuickEditor_Watcher)});function vB_QuickEditor_Watcher(){this.editorcounter=0;this.controls={};this.open_objectid=null;this.vars={};this.init()}
vB_QuickEditor_Watcher.prototype.init=function(){if(vBulletin.elements.vB_QuickEdit){for(var a=0;a<vBulletin.elements.vB_QuickEdit.length;a++){var b=vBulletin.elements.vB_QuickEdit[a].splice(0,1)[0],c=vBulletin.elements.vB_QuickEdit[a].splice(0,1)[0];eval("vartype = typeof(vB_QuickEditor_"+c+"_Vars);");var d=null;"undefined"==typeof this.vars[c]?(eval("obj = new vB_QuickEditor_"+c+"_Vars(args);"),this.vars[c]=null,d=this.vars[c]):!0==this.vars[c].peritemsettings?eval("vars = new vB_QuickEditor_"+
c+"_Vars(args);"):d=this.vars[c];YAHOO.util.Dom.get(this.vars[c].containertype+"edit_"+b)?(this.controls[c+"_"+b]=this.fetch_editor_class(b,c,d,c+"_"+b),this.controls[c+"_"+b].init()):console.log(d.containertype+"_edit_"+b+" not found")}vBulletin.elements.vB_QuickEdit=null}};vB_QuickEditor_Watcher.prototype.fetch_editor_class=function(a,b){eval("vartype = typeof(vB_QuickEditor_"+b+");");eval("obj = new vB_QuickEditor_"+b+"(objectid, this, vars, controlid);");return null};
vB_QuickEditor_Watcher.prototype.close_all=function(){this.open_objectid&&this.controls[this.open_objectid].abort()};vB_QuickEditor_Watcher.prototype.hide_errors=function(){this.open_objectid&&this.controls[this.open_objectid].hide_errors()};function vB_QuickEditor_Generic(a,b,c,d){this.objectid=a;this.watcher=b;this.vars=c;this.controlid=d;this.ajax_req=this.originalhtml=null;this.show_advanced=!0;this.editbutton=this.progress_indicator=this.node=this.messageobj=null}
vB_QuickEditor_Generic.prototype.init=function(){this.ajax_req=this.originalhtml=null;this.show_advanced=!0;this.messageobj=YAHOO.util.Dom.get(this.vars.messagetype+this.objectid);this.node=YAHOO.util.Dom.get(this.vars.containertype+this.objectid);this.progress_indicator=YAHOO.util.Dom.get(this.vars.containertype+"progress_"+this.objectid);this.editbutton=YAHOO.util.Dom.get(this.vars.containertype+"edit_"+this.objectid);YAHOO.util.Event.on(this.editbutton,"click",this.edit,this,!0)};
vB_QuickEditor_Generic.prototype.remove_clickhandler=function(){YAHOO.util.Event.purgeElement(this.editbutton)};vB_QuickEditor_Generic.prototype.ready=function(){return null!=this.watcher.open_objectid||YAHOO.util.Connect.isCallInProgress(this.ajax_req)?!1:!0};
vB_QuickEditor_Generic.prototype.edit=function(a){if(null!=this.watcher.open_objectid)var b=this.watcher.open_objectid.toString(),c=b.indexOf("_");else b="",c=0;if("undefined"!=typeof vb_disable_ajax&&0<vb_disable_ajax)return!0;a&&YAHOO.util.Event.stopEvent(a);if(YAHOO.util.Connect.isCallInProgress(this.ajax_req))return!1;if(!this.ready()){if(this.objectid==b.substr(c+1,b.length))return this.full_edit(),!1;this.watcher.close_all()}this.watcher.open_objectid=this.controlid;this.watcher.editorcounter++;
this.editorid="vB_Editor_QE_"+this.vars.containertype+this.watcher.editorcounter;this.originalhtml=this.messageobj.innerHTML;this.unchanged_reason=this.unchanged=null;this.fetch_editor();return!1};
vB_QuickEditor_Generic.prototype.fetch_editor=function(){this.progress_indicator&&YAHOO.util.Dom.removeClass(this.progress_indicator,"hidden");document.body.style.cursor="wait";YAHOO.util.Connect.asyncRequest("POST",this.vars.ajaxtarget+"?do="+this.vars.ajaxaction+"&"+this.vars.objecttype+"="+this.objectid,{success:this.display_editor,failure:this.error_opening_editor,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do="+this.vars.ajaxaction+"&"+this.vars.objecttype+
"="+this.objectid+"&editorid="+PHP.urlencode(this.editorid))};vB_QuickEditor_Generic.prototype.handle_save_error=function(a){vBulletin_AJAX_Error_Handler(a);window.location=this.fail_url()};vB_QuickEditor_Generic.prototype.fail_url=function(){return this.vars.target+"?"+SESSIONURL+"do="+this.getaction+"&"+this.vars.objecttype+"="+this.objectid};vB_QuickEditor_Generic.prototype.handle_save_error=function(a){vBulletin_AJAX_Error_Handler(a);this.show_advanced=!1;this.full_edit()};
vB_QuickEditor_Generic.prototype.display_editor=function(a){if(a.responseXML)if(this.progress_indicator&&YAHOO.util.Dom.addClass(this.progress_indicator,"hidden"),document.body.style.cursor="auto",fetch_tag_count(a.responseXML,"disabled"))window.location=this.fail_url();else if(!fetch_tag_count(a.responseXML,"error")){var b=fetch_tags(a.responseXML,"editor")[0],c=b.getAttribute("reason");this.messageobj.innerHTML=b.firstChild.nodeValue;if(b=YAHOO.util.Dom.get(this.editorid+"_edit_reason"))this.unchanged_reason=
PHP.unhtmlspecialchars(c),b.value=this.unchanged_reason,b.onkeypress=vB_QuickEditor_Delete_Events.prototype.reason_key_trap;a="object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(fetch_tags(a.responseXML,"ckeconfig")[0].firstChild.nodeValue):eval("("+fetch_tags(a.responseXML,"ckeconfig")[0].firstChild.nodeValue+")");vB_Editor[this.editorid]=new vB_Text_Editor(this.editorid,a);vB_Editor[this.editorid].editorready?this.display_editor_final("editorready",null,this):vB_Editor[this.editorid].vBevents.editorready.subscribe(this.display_editor_final,
this)}};
vB_QuickEditor_Generic.prototype.display_editor_final=function(a,b,c){vB_Editor[this.editorid].check_focus();c.unchanged=vB_Editor[c.editorid].get_editor_contents();YAHOO.util.Event.on(c.editorid+"_save","click",c.save,c,!0);YAHOO.util.Event.on(c.editorid+"_abort","click",c.abort,c,!0);YAHOO.util.Event.on(c.editorid+"_adv","click",c.full_edit,c,!0);YAHOO.util.Event.on("quick_edit_errors_hide","click",c.hide_errors,c,!0);YAHOO.util.Event.on("quick_edit_errors_cancel","click",c.abort,c,!0);if(YAHOO.util.Dom.get(c.editorid+
"_delete"))YAHOO.util.Event.on(c.editorid+"_delete","click",c.show_delete,c,!0);init_popupmenus(YAHOO.util.Dom.get(c.editorid))};vB_QuickEditor_Generic.prototype.restore=function(a,b){this.hide_errors(!0);this.editorid&&vB_Editor[this.editorid]&&vB_Editor[this.editorid].destroy();"node"==b?this.node.parentNode.replaceChild(string_to_node(a),this.node):this.messageobj.innerHTML=a;this.watcher.open_objectid=null};
vB_QuickEditor_Generic.prototype.abort=function(a){a&&YAHOO.util.Event.stopEvent(a);this.progress_indicator&&YAHOO.util.Dom.addClass(this.progress_indicator,"hidden");document.body.style.cursor="auto";this.restore(this.originalhtml,"messageobj")};
vB_QuickEditor_Generic.prototype.full_edit=function(a){vB_Editor[this.editorid]&&(a&&YAHOO.util.Event.stopEvent(a),vB_Editor[this.editorid].uninitialize(),a=new vB_Hidden_Form(this.vars.target+"?do="+this.vars.postaction+"&"+this.vars.objecttype+"="+this.objectid),a.add_variable("do",this.vars.postaction),a.add_variable("s",fetch_sessionhash()),a.add_variable("securitytoken",SECURITYTOKEN),this.show_advanced&&a.add_variable("advanced",1),a.add_variable(this.vars.objecttype,this.objectid),a.add_variable("wysiwyg",
vB_Editor[this.editorid].is_wysiwyg_mode()),a.add_variable("message",vB_Editor[this.editorid].get_editor_contents()),a.add_variable("reason",YAHOO.util.Dom.get(this.editorid+"_edit_reason").value),a.submit_form())};
vB_QuickEditor_Generic.prototype.save=function(a){YAHOO.util.Event.stopEvent(a);vB_Editor[this.editorid].uninitialize();var b=vB_Editor[this.editorid].get_editor_contents(),c=YAHOO.util.Dom.get(this.editorid+"_edit_reason");b==this.unchanged&&c&&c.value==this.unchanged_reason?this.abort(a):(YAHOO.util.Dom.get(this.editorid+"_posting_msg").style.display="",document.body.style.cursor="wait",this.ajax_req=YAHOO.util.Connect.asyncRequest("POST",this.vars.target+"?do="+this.vars.postaction+"&"+this.vars.objecttype+
"="+this.objectid,{success:this.update,faulure:this.handle_save_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do="+this.vars.postaction+"&ajax=1&"+this.vars.objecttype+"="+this.objectid+"&wysiwyg="+vB_Editor[this.editorid].is_wysiwyg_mode()+"&message="+PHP.urlencode(b)+"&reason="+PHP.urlencode(YAHOO.util.Dom.get(this.editorid+"_edit_reason").value)+"&relpath="+PHP.urlencode(RELPATH)+"&parseurl=1"),this.pending=!0)};
vB_QuickEditor_Generic.prototype.show_delete=function(){this.deletedialog=YAHOO.util.Dom.get("quickedit_delete");if(this.deleteddialog&&""!=this.deleteddialog.style.display){this.deletedialog.style.display="";this.deletebutton=YAHOO.util.Dom.get("quickedit_dodelete");YAHOO.util.Event.on(this.deletebutton,"click",this.delete_post,this,!0);var a=YAHOO.util.Dom.get("del_reason");a&&(a.onkeypress=vB_QuickEditor_Delete_Events.prototype.delete_items_key_trap);if(!is_opera&&!is_saf){this.deletebutton.disabled=
!0;this.deleteoptions=[];this.deleteoptions.leave=YAHOO.util.Dom.get("rb_del_leave");this.deleteoptions.soft=YAHOO.util.Dom.get("rb_del_soft");this.deleteoptions.hard=YAHOO.util.Dom.get("rb_del_hard");for(var b in this.deleteoptions)YAHOO.lang.hasOwnProperty(this.deleteoptions,b)&&this.deleteoptions[b]&&(this.deleteoptions[b].onclick=this.deleteoptions[b].onchange=vB_QuickEditor_Delete_Events.prototype.delete_button_handler,this.deleteoptions[b].onkeypress=vB_QuickEditor_Delete_Events.prototype.delete_items_key_trap)}}};
vB_QuickEditor_Generic.prototype.delete_post=function(){var a=YAHOO.util.Dom.get("rb_del_leave");a&&a.checked?this.abort():(a=new vB_Hidden_Forum(this.vars.target),a.add_variable("do",this.vars.deleteaction),a.add_variable("s",fetch_sessionhash()),a.add_variable("securitytoken",SECURITYTOKEN),a.add_variabl(this.vars.objecttype,this.objectid),a.add_variables_from_object(this.deletedialog),vB_Editor[this.editorid].uninitialize(),a.submit_form())};
vB_QuickEditor_Generic.prototype.update=function(a){if(a.responseXML)if(this.pending=!1,document.body.style.cursor="auto",YAHOO.util.Dom.get(this.editorid+"_posting_msg").style.display="none",fetch_tag_count(a.responseXML,"error")){for(var a=fetch_tags(a.responseXML,"error"),b="<ol>",c=0;c<a.length;c++)b+="<li>"+a[c].firstChild.nodeValue+"</li>";this.show_errors(b+"</ol>")}else this.restore(a.responseXML.getElementsByTagName("message")[0].firstChild.nodeValue,"node"),this.remove_clickhandler(),this.init();
return!1};vB_QuickEditor_Generic.prototype.show_errors=function(a){YAHOO.util.Dom.get("ajax_post_errors_message").innerHTML=a;a=YAHOO.util.Dom.get("ajax_post_errors");a.style.width="400px";a.style.zIndex=500;var b=is_saf?"body":"documentElement";a.style.left=(is_ie?document.documentElement.clientWidth:self.innerWidth)/2-200+document[b].scrollLeft+"px";a.style.top=(is_ie?document.documentElement.clientHeight:self.innerHeight)/2-150+document[b].scrollTop+"px";YAHOO.util.Dom.removeClass(a,"hidden")};
vB_QuickEditor_Generic.prototype.hide_errors=function(a){this.errors=!1;var b=YAHOO.util.Dom.get("ajax_post_errors");b&&YAHOO.util.Dom.addClass(b,"hidden");!0!=a&&vB_Editor[this.editorid].check_focus()};function vB_QuickEditor_Delete_Events(){}vB_QuickEditor_Delete_Events.prototype.delete_button_handler=function(){vB_QuickEditor_Watcher.controls[vB_QuickEditor_Watcher.open_objectid].deletebutton.disabled="rb_del_leave"==this.id&&this.checked?!0:!1};
vB_QuickEditor_Delete_Events.prototype.reason_key_trap=function(a){var b=vB_QuickEditor_Watcher.controls[vB_QuickEditor_Watcher.open_objectid],a=a?a:window.event;switch(a.keyCode){case 9:return YAHOO.util.Dom.get(b.editorid+"_save").focus(),!1;case 13:return b.save(),!1;default:return!0}};vB_QuickEditor_Delete_Events.prototype.delete_items_key_trap=function(a){a=a?a:window.event;return 13==a.keyCode?(!1==open_obj.deletebutton.disabled&&open_obj.delete_post(),!1):!0};function vB_QuickEditor_VisitorMessage_Vars(){this.init()}vB_QuickEditor_VisitorMessage_Vars.prototype.init=function(){this.target="visitormessage.php";this.postaction="message";this.objecttype="vmid";this.getaction="message";this.ajaxtarget="visitormessage.php";this.ajaxaction="quickedit";this.deleteaction="deletevm";this.messagetype="vmessage_message_";this.containertype="vmessage_";this.responsecontainer="commentbits"};var qr_repost=!1,qr_errors_shown=!1,qr_active=!1,qr_ajax=null,qr_postid=null,qr_withquote=null,qr_imgsrc="",clickedelm=!1,qr_require_click=!1,QR_EditorID="vB_Editor_QR";"undefined"!=typeof vB_XHTML_Ready&&vB_XHTML_Ready.subscribe(qr_init);function qr_init(){"undefined"==typeof vBulletin.attachinfo&&(vBulletin.attachinfo={posthash:"",poststarttime:""});fetch_object("quick_reply")&&(qr_disable_controls(),qr_init_buttons(fetch_object("posts")))}
function qr_init_buttons(a){for(var a=fetch_tags(a,"a"),b=0;b<a.length;b++)if(a[b].id&&("qr_"==a[b].id.substr(0,3)||"qrwq_"==a[b].id.substr(0,5)))YAHOO.util.Event.on(a[b],"click",qr_newreply_activate,this);a=["newreplylink_top","newreplylink_bottom"];YAHOO.util.Event.on(a,"click",qr_replytothread_activate,this);YAHOO.util.Event.on(a,"dblclick",function(){window.location=this.href},this)}
function qr_disable_controls(){if(require_click){fetch_object("qr_postid").value=0;vB_Editor[QR_EditorID].disable_editor(vbphrase.click_quick_reply_icon);var a=fetch_object("cb_signature");null!=a&&(a.disabled=!0);qr_active=active=!1}else qr_active=!0}
function qr_activate(a,b){var c=fetch_object("collapseobj_quickreply");c&&"none"==c.style.display&&toggle_collapse("quickreply");fetch_object("qr_postid").value=a;fetch_object("qr_specifiedpost")&&(fetch_object("qr_specifiedpost").value=1);if(c=fetch_object("cb_signature"))c.disabled=!1,c.checked=!0;vB_Editor[QR_EditorID].enable_editor(b?b:"");!is_ie&&1==vB_Editor[QR_EditorID].is_wysiwyg_mode()&&fetch_object("qr_scroll").scrollIntoView(!1);vB_Editor[QR_EditorID].check_focus();qr_active=!0;return!1}
function qr_replytothread_activate(a){var b=this.href;if(qr_postid==last_post_id&&!0==qr_withquote)return window.location=b,!0;YAHOO.util.Event.preventDefault(a);qr_postid=last_post_id;qr_withquote=!0;YAHOO.util.Dom.setStyle("progress_newreplylink_top","display","");YAHOO.util.Dom.setStyle("progress_newreplylink_bottom","display","");document.body.style.cursor="wait";a=YAHOO.util.Dom.get("qr_threadid").value;qr_ajax=YAHOO.util.Connect.asyncRequest("POST","ajax.php",{success:qr_replytothread_handle_activate,
failure:function(){window.location=b},timeout:vB_Default_Timeout},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=getquotes&t="+a)}
function qr_replytothread_handle_activate(a){qr_reset();qr_disable_controls();qr_hide_errors();var b="";a&&(a=a.responseXML.getElementsByTagName("quotes"),a.length&&a[0].firstChild&&(b=a[0].firstChild.nodeValue));YAHOO.util.Dom.hasClass("qr_defaultcontainer","qr_require_click")&&(vB_Editor[QR_EditorID].initialize(),YAHOO.util.Dom.removeClass("qr_defaultcontainer","qr_require_click"),CKEDITOR.env.ie&&vB_Editor[QR_EditorID].editor.fire("resize"),qr_require_click=!0);qr_activate(last_post_id,b);fetch_object("progress_newreplylink_top").style.display=
"none";fetch_object("progress_newreplylink_bottom").style.display="none";document.body.style.cursor="auto"}
function qr_newreply_activate(a){var b=!1;if("qr_"==this.id.substr(0,3))var c=this.id.substr(3);else if("qrwq_"==this.id.substr(0,5))c=this.id.substr(5),b=!0;else return!0;if(qr_postid==c&&qr_withquote==b)return!0;YAHOO.util.Event.stopEvent(a);qr_postid=c;qr_withquote=b;YAHOO.util.Dom.get("progress_"+c)&&(a=(b?"quoteimg_":"replyimg_")+c,qr_imgsrc=YAHOO.util.Dom.get(a).getAttribute("src"),YAHOO.util.Dom.get(a).setAttribute("src",YAHOO.util.Dom.get("progress_"+c).getAttribute("src")));document.body.style.cursor=
"wait";b?qr_ajax=YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=getquotes&p="+c,{success:qr_handle_activate,failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=getquotes&p="+c):qr_handle_activate(!1)}
function qr_handle_activate(a){var b=qr_postid;qr_reset();qr_disable_controls();qr_hide_errors();qr_postid=b;var c="";if(a&&(a=a.responseXML.getElementsByTagName("quotes")))c=a[0].firstChild.nodeValue;YAHOO.util.Dom.setStyle("qr_cancelbutton","display","");a=document.createElement("li");a.id="qr_"+b;var d=YAHOO.util.Dom.get("post_"+b),a=d.parentNode.insertBefore(a,d.nextSibling),d=fetch_object("quick_reply");a.appendChild(d);CKEDITOR.env.ie&&vB_Editor[QR_EditorID].editor.fire("resize");qr_activate(b,
c);YAHOO.util.Dom.get("progress_"+b)&&YAHOO.util.Dom.get((qr_withquote?"quoteimg_":"replyimg_")+b).setAttribute("src",qr_imgsrc);document.body.style.cursor="auto"}
function qr_reset(){var a=YAHOO.util.Dom.get("quick_reply"),b=YAHOO.util.Dom.get("qr_defaultcontainer");if(a.parentNode!=b){var c=a.parentNode;b.appendChild(a);c.parentNode.removeChild(c)}qr_postid=null;YAHOO.util.Dom.get("qr_postid").value=last_post_id;YAHOO.util.Dom.setStyle("qr_cancelbutton","display","none");require_click?vB_Editor[QR_EditorID].uninitialize():vB_Editor[QR_EditorID].enable_editor("");qr_require_click&&!YAHOO.util.Dom.hasClass("qr_defaultcontainer","qr_require_click")&&YAHOO.util.Dom.addClass("qr_defaultcontainer",
"qr_require_click");return!1}
function qr_prepare_submit(a,b){if(!0==qr_repost)return!0;if(!allow_ajax_qr||!AJAX_Compatible)return a.posthash.value=vBulletin.attachinfo.posthash,a.poststarttime.value=vBulletin.attachinfo.poststarttime,qr_check_data(a,b);if(qr_check_data(a,b)){if("undefined"!=typeof vb_disable_ajax&&0<vb_disable_ajax||is_ie&&-1!=userAgent.indexOf("msie 5.")&&-1!=PHP.urlencode(a.message.value).indexOf("%u"))return!0;var c=fetch_object("cb_openclose"),d=fetch_object("cb_stickunstick");if(c&&c.checked||d&&d.checked)return!0;
if(YAHOO.util.Connect.isCallInProgress(qr_ajax))return!1;a.posthash.value=vBulletin.attachinfo.posthash;a.poststarttime.value=vBulletin.attachinfo.poststarttime;if(clickedelm==a.preview.value)return!0;c="ajax=1";"undefined"!=typeof ajax_last_post&&(c+="&ajax_lastpost="+PHP.urlencode(ajax_last_post));for(d=0;d<a.elements.length;d++){var e=a.elements[d];if(e.name&&!e.disabled)switch(e.type){case "text":case "textarea":case "hidden":c+="&"+e.name+"="+PHP.urlencode(e.value);break;case "checkbox":case "radio":c+=
e.checked?"&"+e.name+"="+PHP.urlencode(e.value):"";break;case "select-one":c+="&"+e.name+"="+PHP.urlencode(e.options[e.selectedIndex].value);break;case "select-multiple":for(var f=0;f<e.options.length;f++)c+=e.options[f].selected?"&"+e.name+"="+PHP.urlencode(e.options[f].value):""}}YAHOO.util.Dom.removeClass("qr_posting_msg","hidden");document.body.style.cursor="wait";qr_ajax_post(a.action,c)}return!1}
function qr_resubmit(){qr_repost=!0;var a=document.createElement("input");a.type="hidden";a.name="ajaxqrfailed";a.value="1";var b=YAHOO.util.Dom.get("quick_reply");b||(b=YAHOO.util.Dom.get("qrform"));b.appendChild(a);b.submit()}
function qr_check_data(a,b){switch(fetch_object("qr_postid").value){case "0":fetch_object("qr_postid").value=last_post_id;case "who cares":"undefined"!=typeof a.quickreply&&(a.quickreply.checked=!1)}clickedelm==a.preview.value&&(b=0);return vB_Editor[QR_EditorID].prepare_submit(0,b)}
function qr_ajax_post(a,b){YAHOO.util.Connect.isCallInProgress(qr_ajax)&&YAHOO.util.Connect.abort(qr_ajax);qr_repost=!1;qr_ajax=YAHOO.util.Connect.asyncRequest("POST",a,{success:qr_do_ajax_post,failure:qr_handle_error,timeout:vB_Default_Timeout},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&"+b)}function qr_handle_error(a){vBulletin_AJAX_Error_Handler(a);vB_Editor[QR_EditorID].initialize();YAHOO.util.Dom.addClass("qr_posting_msg","hidden");document.body.style.cursor="default";qr_resubmit()}
function qr_do_ajax_post(a){if(a.responseXML)if(vB_Editor[QR_EditorID].initialize(),document.body.style.cursor="auto",YAHOO.util.Dom.addClass("qr_posting_msg","hidden"),fetch_tag_count(a.responseXML,"postbit")){qr_reset();vB_Editor[QR_EditorID].hide_autosave_button();ajax_last_post=a.responseXML.getElementsByTagName("time")[0].firstChild.nodeValue;qr_disable_controls();qr_hide_errors();for(var b=a.responseXML.getElementsByTagName("postbit"),a=0;a<b.length;a++){var c=document.createElement("div");
c.innerHTML=b[a].firstChild.nodeValue;var c=c.getElementsByTagName("li")[0],d=YAHOO.util.Dom.get("posts");c&&(d=d.appendChild(c),PostBit_Init(d,b[a].getAttribute("postid")),c.scrollIntoView(!1))}"function"==typeof mq_unhighlight_all&&mq_unhighlight_all();fetch_object("qr_submit")&&fetch_object("qr_submit").blur()}else{if(!is_saf&&(b=a.responseXML.getElementsByTagName("error"),b.length)){c="<ol>";for(a=0;a<b.length;a++)c+="<li>"+b[a].firstChild.nodeValue+"</li>";qr_show_errors(c+"</ol>");return!1}qr_resubmit()}else qr_resubmit()}
function qr_show_errors(a){qr_errors_shown=!0;fetch_object("qr_error_td").innerHTML=a;YAHOO.util.Dom.removeClass("qr_error_tbody","hidden");vB_Editor[QR_EditorID].check_focus();return!1}function qr_hide_errors(){if(qr_errors_shown)return qr_errors_shown=!0,YAHOO.util.Dom.addClass("qr_error_tbody","hidden"),!1}var vB_QuickReply=!0;function vB_Attachment(a,b){var c=YAHOO.util.Dom.getElementsByClassName("uploadlaunchlink");if(c.length)for(var d=0;d<c.length;d++)YAHOO.util.Event.on(c[d],"click",this.attachmanage,this,!0);c=YAHOO.util.Dom.getElementsByClassName("uploadlaunchbutton");if(c.length)for(d=0;d<c.length;d++)YAHOO.util.Event.on(c[d],"click",this.attachmanage,this,!0),YAHOO.util.Dom.setStyle(c[d],"display","");c=YAHOO.util.Dom.getElementsByClassName("uploadlaunchfallback");if(c.length)for(d=0;d<c.length;d++)YAHOO.util.Dom.setStyle(c[d],
"display","none");this.assetobj=null;this.content=b;"undefined"!=typeof CKEDITOR&&(CKEDITOR.config.content=b);this.attachments=[];this.menu_contents=[];this.windows=[];this.editor=null;this.listobjid=a;if(""==this.content.editorid)for(editorid in vB_Editor){if(YAHOO.lang.hasOwnProperty(vB_Editor,editorid)){this.editor=vB_Editor[editorid];break}}else this.editor=this.content.editorid?vB_Editor[this.content.editorid]:null}
vB_Attachment.prototype.attachmanage=function(a){"undefined"!=typeof a&&YAHOO.util.Event.stopEvent(a);AJAX_Compatible&&1==this.content.enhanced?this.open_window("newattachment.php?"+SESSIONURL+"do=assetmanager&"+PHP.unhtmlspecialchars(this.content.values)+"&contenttypeid="+this.content.contenttypeid+"&poststarttime="+this.content.poststarttime+"&posthash="+this.content.posthash+"&insertinline="+this.content.insertinline,725,520,this.content.contenttypeid+"_"+this.content.posthash):this.open_window("newattachment.php?"+
SESSIONURL+PHP.unhtmlspecialchars(this.content.values)+"&contenttypeid="+this.content.contenttypeid+"&poststarttime="+this.content.poststarttime+"&posthash="+this.content.posthash,480,480,this.content.posthash)};vB_Attachment.prototype.popup_exists=function(){return!1};vB_Attachment.prototype.add=function(a,b,c,d,e){this.attachments[a]=[];this.attachments[a]={html:b,filename:c,filesize:d,imgpath:e};this.update_list()};
vB_Attachment.prototype.remove=function(a){"undefined"!=typeof this.attachments[a]&&(this.attachments[a]=null,this.update_list())};vB_Attachment.prototype.has_attachments=function(){for(var a in this.attachments)if(YAHOO.lang.hasOwnProperty(this.attachments,a)&&null!=this.attachments[a])return!0;return!1};vB_Attachment.prototype.reset=function(){this.attachments=[];this.update_list()};
vB_Attachment.prototype.build_list=function(a,b){var c=YAHOO.util.Dom.get(a);if(c){var d=c.getElementsByTagName("li");if(null!=d[b])for(;d[b].nextSibling;)c.removeChild(d[b].nextSibling);var d=0,e;for(e in this.attachments)if(YAHOO.lang.hasOwnProperty(this.attachments,e)){var f=string_to_node(this.attachments[e].html);f.attachmentid=e;c.appendChild(f);d++}d?(YAHOO.util.Dom.removeClass("uploaddisplay","hidden"),YAHOO.util.Dom.removeClass(c,"hidden")):(YAHOO.util.Dom.addClass("uploaddisplay","hidden"),
YAHOO.util.Dom.addClass(c,"hidden"))}};vB_Attachment.prototype.update_list=function(){this.build_list(this.listobjid,1);this.build_list(this.listobjid+"_list2",0);this.popup_exists()&&this.editor.build_attachments_popup(this.editor.popupmode?this.editor.popups.attach:this.editor.buttons.attach,this.editor.buttons.attach)};
vB_Attachment.prototype.open_window=function(a,b,c,d){"undefined"!=typeof this.windows[d]&&!1==this.windows[d].closed?this.windows[d].focus():this.windows[d]=openWindow(a,b,c,"Attach"+d);return this.windows[d]};vB_XHTML_Ready.subscribe(function(){mq_init("posts")});function mq_init(a){for(var b=mq_get_selected(),a=YAHOO.util.Dom.getElementsByClassName("multiquote","a",a),c=0;c<a.length;c++){a[c].onclick=function(){return mq_click(this.id.substr(3))};var d=a[c].id.substr(3);set_mq_highlight(d,-1<PHP.in_array(d,b))}}function mq_get_selected(){var a=fetch_cookie("vbulletin_multiquote");return a=null!=a&&""!=a?a.split(","):[]}
function mq_click(a){var b=mq_get_selected(),c=[],d=!1;for(e in b)YAHOO.lang.hasOwnProperty(b,e)&&(b[e]==a?d=!0:b[e]&&c.push(b[e]));set_mq_highlight(a,!d);if(!d&&(c.push(a),"undefined"!=typeof mqlimit&&0<mqlimit))for(var e=0;e<c.length-mqlimit;e++)a=c.shift(),set_mq_highlight(a,!1);set_cookie("vbulletin_multiquote",c.join(","));return!1}
function set_mq_highlight(a,b){var c=is_ie6?"gif":"png";b?(YAHOO.util.Dom.addClass("mq_"+a,"highlight"),YAHOO.util.Dom.get("mq_image_"+a).src=IMGDIR_BUTTON+"/multiquote-selected_40b."+c):(YAHOO.util.Dom.removeClass("mq_"+a,"highlight"),YAHOO.util.Dom.get("mq_image_"+a).src=IMGDIR_BUTTON+"/multiquote_40b."+c)}function mq_unhighlight_all(){for(var a=fetch_tags(fetch_object("posts"),"img"),b=0;b<a.length;b++)a[b].id&&"mq_image_"==a[b].id.substr(0,9)&&set_mq_highlight(a[b].id.substr(9),!1)};vB_ReadMarker={forum_statusicon_prefix:"forum_statusicon_",thread_statusicon_prefix:"thread_statusicon_",thread_gotonew_prefix:"thread_gotonew_",thread_title_prefix:"thread_title_"};function vB_AJAX_ReadMarker(a){this.forumid=a}
vB_AJAX_ReadMarker.prototype.mark_read=function(){YAHOO.util.Connect.asyncRequest("POST","ajax.php?do=markread&f="+this.forumid,{success:this.handle_ajax_request,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=markread&forumid="+this.forumid)};vB_AJAX_ReadMarker.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a)};
vB_AJAX_ReadMarker.prototype.handle_ajax_request=function(a){for(var a=fetch_tags(a.responseXML,"forum"),b=0;b<a.length;b++){var c=a[b].firstChild.nodeValue;this.update_forum_status(c);(c=fetch_object("threadbits_forum_"+c))&&this.handle_threadbits(c)}};vB_AJAX_ReadMarker.prototype.update_forum_status=function(a){if(a=fetch_object(vB_ReadMarker.forum_statusicon_prefix+a))a.style.cursor="default",a.title=a.otitle,a.src=this.fetch_old_src(a.src,"forum")};
vB_AJAX_ReadMarker.prototype.handle_threadbits=function(a){for(var a=fetch_tags(a,"a"),b=0;b<a.length;b++)a[b].id&&a[b].id.substr(0,vB_ReadMarker.thread_gotonew_prefix.length)==vB_ReadMarker.thread_gotonew_prefix&&this.update_thread_status(a[b].id.substr(vB_ReadMarker.thread_gotonew_prefix.length))};
vB_AJAX_ReadMarker.prototype.update_thread_status=function(a){var b=fetch_object(vB_ReadMarker.thread_statusicon_prefix+a);b&&(b.src=this.fetch_old_src(b.src,"thread"));(b=fetch_object(vB_ReadMarker.thread_gotonew_prefix+a))&&b.parentNode.removeChild(b);if(a=fetch_object(vB_ReadMarker.thread_title_prefix+a))a.style.fontWeight="normal"};vB_AJAX_ReadMarker.prototype.fetch_old_src=function(a,b){return a.replace(/_(new)([-_])(.+)$/i,"thread"==b?"$2$3":"_old$2$3")};
function mark_forum_read(a){AJAX_Compatible?(vB_ReadMarker[a]=new vB_AJAX_ReadMarker(a),vB_ReadMarker[a].mark_read()):window.location="forumdisplay.php?"+SESSIONURL+"do=markread&forumid="+a+"&markreadhash="+SECURITYTOKEN;return!1}function init_forum_readmarker_icon(){mark_forum_read(this.id.substr(vB_ReadMarker.forum_statusicon_prefix.length))}
function init_forum_readmarker_system(){for(var a=fetch_tags(document,"img"),b=0;b<a.length;b++)a[b].id&&a[b].id.substr(0,vB_ReadMarker.forum_statusicon_prefix.length)==vB_ReadMarker.forum_statusicon_prefix&&-1!=a[b].src.search(/\/([^\/]+)(new)(_lock)?-48\.([a-z0-9]+)$/i)&&(img_alt_2_title(a[b]),a[b].otitle=a[b].title,a[b].title=vbphrase.doubleclick_forum_markread,a[b].style.cursor=pointer_cursor,a[b].ondblclick=init_forum_readmarker_icon)};vB_XHTML_Ready.subscribe(init_sidebar);function init_sidebar(){new vBSidebar}function vBSidebar(){this.init()}
vBSidebar.prototype.init=function(){this.sidebar_button=YAHOO.util.Dom.get("sidebar_button");this.sidebar_container=YAHOO.util.Dom.get("sidebar_container");this.sidebar=YAHOO.util.Dom.get("sidebar");this.content_container=YAHOO.util.Dom.get("content_container");this.content=YAHOO.util.Dom.get("content");YAHOO.util.Event.on(this.sidebar_button,"click",this.toggle_collapse,this,!0);"1"==fetch_cookie("vbulletin_sidebar_collapse")&&this.collapse(!1)};
vBSidebar.prototype.toggle_collapse=function(a){YAHOO.util.Event.stopEvent(a);"none"==YAHOO.util.Dom.getStyle(this.sidebar,"display")?this.expand():this.collapse(!0);return!1};
vBSidebar.prototype.collapse=function(a){var b=this.sidebar_button;a?(a=new YAHOO.util.Anim(this.sidebar,{opacity:{from:1,to:0}},0.3),a.onComplete.subscribe(function(a,d,e){YAHOO.util.Dom.setStyle(e.sidebar,"display","none");YAHOO.util.Dom.setStyle(e.sidebar_container,"width","0");"right"==sidebar_align?(a=new YAHOO.util.Anim(e.content_container,{marginRight:{to:0}},0.3),a.animate(),a=new YAHOO.util.Anim(e.content,{marginRight:{to:0}},0.3),a.onComplete.subscribe(function(){YAHOO.util.Dom.setAttribute(b,
"src",IMGDIR_MISC+"/tab-expanded.png")})):(a=new YAHOO.util.Anim(e.content_container,{marginLeft:{to:0}},0.3),a.animate(),a=new YAHOO.util.Anim(e.content,{marginLeft:{to:0}},0.3),a.onComplete.subscribe(function(){YAHOO.util.Dom.setAttribute(b,"src",IMGDIR_MISC+"/tab-expanded-left.png")}));a.animate()},this),a.animate()):(YAHOO.util.Dom.setStyle(this.sidebar,"display","none"),YAHOO.util.Dom.setStyle(this.sidebar_container,"width","0"),"right"==sidebar_align?(YAHOO.util.Dom.setAttribute(b,"src",IMGDIR_MISC+
"/tab-expanded.png"),YAHOO.util.Dom.setStyle(this.content_container,"marginRight","0"),YAHOO.util.Dom.setStyle(this.content,"marginRight","0")):(YAHOO.util.Dom.setAttribute(b,"src",IMGDIR_MISC+"/tab-expanded-left.png"),YAHOO.util.Dom.setStyle(this.content_container,"marginLeft","0"),YAHOO.util.Dom.setStyle(this.content,"marginLeft","0")));this.save_collapsed("1")};
vBSidebar.prototype.expand=function(){var a,b=this.sidebar_button;"right"==sidebar_align?(a=new YAHOO.util.Anim(this.content_container,{marginRight:{to:0-content_container_margin}},0.3),a.animate(),a=new YAHOO.util.Anim(this.content,{marginRight:{to:content_container_margin}},0.3),a.onComplete.subscribe(function(a,d,e){YAHOO.util.Dom.setStyle(e.sidebar,"display","");YAHOO.util.Dom.setStyle(e.sidebar_container,"width",sidebar_width+"px");a=new YAHOO.util.Anim(e.sidebar,{opacity:{from:0,to:1}},0.3);
a.onComplete.subscribe(function(){YAHOO.util.Dom.setAttribute(b,"src",IMGDIR_MISC+"/tab-collapsed.png")});a.animate()},this)):(a=new YAHOO.util.Anim(this.content_container,{marginLeft:{to:0-content_container_margin}},0.3),a.animate(),a=new YAHOO.util.Anim(this.content,{marginLeft:{to:content_container_margin}},0.3),a.onComplete.subscribe(function(a,d,e){YAHOO.util.Dom.setStyle(e.sidebar,"display","");YAHOO.util.Dom.setStyle(e.sidebar_container,"width",sidebar_width+"px");a=new YAHOO.util.Anim(e.sidebar,
{opacity:{from:0,to:1}},0.3);a.onComplete.subscribe(function(){YAHOO.util.Dom.setAttribute(b,"src",IMGDIR_MISC+"/tab-collapsed-left.png")});a.animate()},this));a.animate();this.save_collapsed("0")};vBSidebar.prototype.save_collapsed=function(a){expires=new Date;expires.setTime(expires.getTime()+31536E6);set_cookie("vbulletin_sidebar_collapse",a,expires)};function vB_Inline_Mod(a,b,c,d,e,f){this.varname=a;this.type=b.toLowerCase();this.formobj=fetch_object(c);this.go_phrase=d;this.cookieprefix="undefined"!=typeof e?e:"vbulletin_inline";this.list="thread"==this.type?"tlist_":"post"==this.type?"plist_":this.type+"list_";this.highlighttype="undefined"!=typeof f?f:this.type;this.cookie_ids=null;this.cookie_array=[];this.init=function(a){var b;for(b=0;b<a.length;b++)this.is_in_list(a[b])&&(a[b].inlineModID=this.varname,a[b].onclick=inlinemod_checkbox_onclick);
this.cookie_array=[];if(this.fetch_ids())for(b in this.cookie_ids)if(YAHOO.lang.hasOwnProperty(this.cookie_ids,b)&&""!=this.cookie_ids[b]){if(checkbox=fetch_object(this.list+this.cookie_ids[b]))if(checkbox.checked=!0,"undefined"!=typeof this["highlight_"+this.highlighttype])this["highlight_"+this.highlighttype](checkbox);this.cookie_array[this.cookie_array.length]=this.cookie_ids[b]}this.set_output_counters()};this.fetch_ids=function(){this.cookie_ids=fetch_cookie(this.cookieprefix+this.type);return null!=
this.cookie_ids&&""!=this.cookie_ids&&(this.cookie_ids=this.cookie_ids.split("-"),0<this.cookie_ids.length)?!0:!1};this.toggle=function(a){if("undefined"!=typeof this["highlight_"+this.highlighttype])this["highlight_"+this.highlighttype](a);this.save(a.id.substring(this.list.length),a.checked)};this.save=function(a,b){this.cookie_array=[];if(this.fetch_ids())for(var c in this.cookie_ids)YAHOO.lang.hasOwnProperty(this.cookie_ids,c)&&this.cookie_ids[c]!=a&&""!=this.cookie_ids[c]&&(this.cookie_array[this.cookie_array.length]=
this.cookie_ids[c]);b&&(this.cookie_array[this.cookie_array.length]=a);this.set_output_counters();this.set_cookie();return!0};this.set_cookie=function(){expires=new Date;expires.setTime(expires.getTime()+36E5);set_cookie(this.cookieprefix+this.type,this.cookie_array.join("-"),expires)};this.check_all=function(a,b){"undefined"==typeof a&&(a=this.formobj.allbox.checked);this.cookie_array=[];if(this.fetch_ids())for(c in this.cookie_ids)YAHOO.lang.hasOwnProperty(this.cookie_ids,c)&&!fetch_object(this.list+
this.cookie_ids[c])&&(this.cookie_array[this.cookie_array.length]=this.cookie_ids[c]);for(var c=counter=0;c<this.formobj.elements.length;c++)if(this.is_in_list(this.formobj.elements[c])){var d=this.formobj.elements[c];"undefined"!=typeof b?isNaN(b)?d.value==b&&(d.checked=a):d.checked=d.value&b?a:!a:d.checked="invert"==a?!d.checked:a;if("undefined"!=typeof this["highlight_"+this.highlighttype])this["highlight_"+this.highlighttype](d);d.checked&&(this.cookie_array[this.cookie_array.length]=d.id.substring(this.list.length))}this.set_output_counters();
this.set_cookie();return!0};this.is_in_list=function(a){return"checkbox"==a.type&&0==a.id.indexOf(this.list)&&(!1==a.disabled||"undefined"==a.disabled)};this.set_output_counters=function(){var a;if(a=fetch_object("thread"==this.type||"post"==this.type?"inlinego":this.type+"_inlinego"))a.value=construct_phrase(this.go_phrase,this.cookie_array.length)};this.toggle_highlight=function(a,b,c){if(a.tagName&&(c||YAHOO.util.Dom.hasClass(a,"alt1")||YAHOO.util.Dom.hasClass(a,"alt2")||YAHOO.util.Dom.hasClass(a,
"inlinemod")))b.checked?YAHOO.util.Dom.addClass(a,"inlinemod"):YAHOO.util.Dom.removeClass(a,"inlinemod")};this.highlight_thread=function(a){for(var b=a;"TR"!=b.tagName&&"HTML"!=b.parentNode.tagName;)b=b.parentNode;if("TR"==b.tagName)for(var b=b.childNodes,c=0;c<b.length;c++)this.toggle_highlight(b[c],a)};this.highlight_post=function(a){if(table=fetch_object(this.type+a.id.substr(this.list.length)))for(var b=fetch_tags(table,"td"),c=0;c<b.length;c++)this.toggle_highlight(b[c],a)};this.highlight_message=
function(a){var b=a.id.substr(this.list.length);if(b=YAHOO.util.Dom.get(this.type+b))this.toggle_highlight(b,a,!0),b=YAHOO.util.Dom.getElementsByClassName("alt2","div",b),b.length&&this.toggle_highlight(b[0],a)};this.highlight_div=function(a){var b;if(b=fetch_object(this.type+a.id.substr(this.list.length))){console.log("Highlight %s",this.type+a.id.substr(this.list.length));this.toggle_highlight(b,a);b=fetch_tags(b,"div");for(var c=0;c<b.length;c++)this.toggle_highlight(b[c],a)}};this.init(this.formobj.elements)}
function inlinemod_checkbox_onclick(){eval(this.inlineModID).toggle(this)}function im_init(a,b){var c=fetch_tags(a,"input");"object"==typeof b&&"function"==typeof b.init?b.init(c):inlineMod.init(c)};function vB_Inline_Mod_Blog(a,b,c,d,e){vB_Inline_Mod_Blog.baseConstructor.call(this,a,b,c,d,e);this.id=this}vBulletin.extend(vB_Inline_Mod_Blog,vB_Inline_Mod);vB_Inline_Mod_Blog.prototype.highlight_comment=function(a){this.highlight_table(a)};vB_Inline_Mod_Blog.prototype.highlight_trackback=function(a){this.highlight_table(a)};vB_Inline_Mod_Blog.prototype.highlight_blog=function(a){this.highlight_table(a)};vB_Inline_Mod_Blog.prototype.highlight_pcomment=function(a){this.highlight_table(a)};
vB_Inline_Mod_Blog.prototype.highlight_table=function(a){var b=YAHOO.util.Dom.get("td_"+this.type+"_"+a.id.substr(this.type.length+5));b&&this.toggle_highlight(b,a,!0)};vB_Inline_Mod_Blog.prototype.toggle_highlight_alt1=function(a,b){a.tagName&&(b.checked?(YAHOO.util.Dom.addClass(a,"inlinemod"),YAHOO.util.Dom.removeClass(a,"alt1")):(YAHOO.util.Dom.addClass(a,"alt1"),YAHOO.util.Dom.removeClass(a,"inlinemod")))};function vB_AJAX_BlogLatest(a){this.varname=a;this.active=null;this.noresults=0;this.which=null;this.inited=!1;this.containers=["latestblogs","latestcomments"];this.init=function(){if(AJAX_Compatible&&("undefined"==typeof vb_disable_ajax||2>vb_disable_ajax)){for(var a=0;a<this.containers.length;a++){var c=fetch_object(this.containers[a]).getElementsByTagName("img");if(c.length)for(var d=0;d<c.length;d++)img_alt_2_title(c[d])}a=fetch_object("vb_bloglatest_latest_link");c=fetch_object("vb_bloglatest_rating_link");
d=fetch_object("vb_bloglatest_blograting_link");fetch_object("vb_bloglatest_latest_findmore");fetch_object("vb_bloglatest_rating_findmore");fetch_object("vb_bloglatest_blograting_findmore");null==this.active&&(this.active="latest",d&&"none"==d.style.display?this.active="blograting":c&&"none"==c.style.display&&(this.active="rating"));if(d){d.varname=this.varname;d.which="blograting";if(!this.inited)YAHOO.util.Event.on("vb_bloglatest_blograting_link","click",this.load_data);d.style.cursor=pointer_cursor;
d.style.display="blograting"==this.active?"none":"";fetch_object("vb_bloglatest_blograting_findmore").style.display="blograting"==this.active&&0==this.noresults?"":"none"}fetch_object("vb_bloglatest_blograting").style.display="blograting"!=this.active?"none":"";if(c){c.varname=this.varname;c.which="rating";if(!this.inited)YAHOO.util.Event.on("vb_bloglatest_rating_link","click",this.load_data);c.style.cursor=pointer_cursor;c.style.display="rating"==this.active?"none":"";fetch_object("vb_bloglatest_rating_findmore").style.display=
"rating"==this.active&&0==this.noresults?"":"none"}fetch_object("vb_bloglatest_rating").style.display="rating"!=this.active?"none":"";if(a){a.varname=this.varname;a.which="latest";if(!this.inited)YAHOO.util.Event.on("vb_bloglatest_latest_link","click",this.load_data);a.style.cursor=pointer_cursor;a.style.display="latest"==this.active?"none":"";fetch_object("vb_bloglatest_latest_findmore").style.display="latest"==this.active?"":"none"}fetch_object("vb_bloglatest_latest").style.display="latest"!=this.active?
"none":"";this.inited=!0}};this.handle_ajax_response=function(a){if(a.responseXML){fetch_object("progress_latest").style.display="none";var c=a.responseXML.getElementsByTagName("error");c.length?alert(c[0].firstChild.nodeValue):(a=a.responseXML.getElementsByTagName("updated")[0],c=a.getAttribute("data"),this.noresults=a.getAttribute("noresults"),this.active=a.getAttribute("which"),""!=c&&("blog"==a.getAttribute("type")?fetch_object("latestblogs").innerHTML=c:fetch_object("latestcomments").innerHTML=
c,this.init()))}};this.load_data=function(a){YAHOO.util.Event.stopEvent(a);fetch_object("progress_latest").style.display="";YAHOO.util.Connect.asyncRequest("POST","blog_ajax.php?do=loadupdated",{success:blogLatest.handle_ajax_response,failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,scope:blogLatest},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=loadupdated&type=blog&which="+PHP.urlencode(this.which)+"&ajax=1");return!1};this.init()};function vB_AJAX_BlogCalendar(a,b,c,d,e){this.xml_sender=null;this.calobj=b;this.varname=a;this.userid=e;this.init=function(a){if(AJAX_Compatible&&("undefined"==typeof vb_disable_ajax||2>vb_disable_ajax)&&b){if(nextmonth=YAHOO.util.Dom.get("vb_blogcalendar_nextmonth"))nextmonth.style.cursor=pointer_cursor,YAHOO.util.Event.on("vb_blogcalendar_nextmonth","click",this.next_month,this,!0);if(prevmonth=YAHOO.util.Dom.get("vb_blogcalendar_prevmonth"))prevmonth.style.cursor=pointer_cursor,YAHOO.util.Event.on("vb_blogcalendar_prevmonth",
"click",this.prev_month,this,!0);a&&new vBCollapseFactory(this.calobj)}};this.handle_ajax_response=function(a){if(a.responseXML){fetch_object(this.objid);var b=a.responseXML.getElementsByTagName("error");b.length?alert(b[0].firstChild.nodeValue):(a=a.responseXML.getElementsByTagName("calendar")[0].firstChild.nodeValue,""!=a&&(fetch_object(this.calobj).innerHTML=a,this.init(!0)))}};this.prev_month=function(a){YAHOO.util.Event.stopEvent(a);var b=YAHOO.util.Dom.get("vb_blogcalendar_prevmonth"),a=YAHOO.util.Dom.getAttribute(b,
"prevmonth"),b=YAHOO.util.Dom.getAttribute(b,"prevyear");this.swap_month(a,b);return!1};this.next_month=function(a){YAHOO.util.Event.stopEvent(a);var b=YAHOO.util.Dom.get("vb_blogcalendar_nextmonth"),a=YAHOO.util.Dom.getAttribute(b,"nextmonth"),b=YAHOO.util.Dom.getAttribute(b,"nextyear");this.swap_month(a,b);return!1};this.swap_month=function(a,b){YAHOO.util.Connect.asyncRequest("POST","blog_ajax.php?do=calendar",{success:this.handle_ajax_response,failure:vBulletin_AJAX_Error_Handler,timeout:vB_Default_Timeout,
scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=calendar&m="+a+"&ajax=1&y="+b+("undefined"!=typeof this.userid?"&u="+this.userid:""))};this.init()};vBulletin.events.systemInit.subscribe(function(){AJAX_Compatible&&(vB_AJAX_TagEditor_Factory=new vB_AJAX_TagEditor_Factory)});function vB_AJAX_TagEditor_Factory(){this.controls=[];this.init()}
vB_AJAX_TagEditor_Factory.prototype.init=function(){if(vBulletin.elements.vB_AJAX_TagEditor){for(var a=0;a<vBulletin.elements.vB_AJAX_TagEditor.length;a++){var b=vBulletin.elements.vB_AJAX_TagEditor[a][0],c=vBulletin.elements.vB_AJAX_TagEditor[a][1],d=vBulletin.elements.vB_AJAX_TagEditor[a][2],e=vBulletin.elements.vB_AJAX_TagEditor[a][3];"undefined"==typeof d&&(d="");"undefined"==typeof e&&(e={});YAHOO.util.Dom.get(d+"tag_"+c)&&(this.controls[c]=new vB_AJAX_TagEditor(b,c,d,e,this))}vBulletin.elements.vB_AJAX_TagEditor=
null}};vB_AJAX_TagEditor_Factory.prototype.redirect=function(a,b){window.location="threadtag.php?do=manage"+SESSIONURL+"contenttype="+a+"&contentid="+b};
function vB_AJAX_TagEditor(a,b,c,d,e){this.vbmenu=this.divobj=null;this.do_ajax_submit=!0;this.divname=c+"tagmenu_"+b+"_menu";this.vbmenuname=c+"tagmenu_"+b;this.tag_container=c+"tagcontainer_"+b;this.tag_list=c+"taglist_"+b;this.edit_submit="tageditsubmit_"+b;this.edit_cancel="tageditcancel_"+b;this.edit_input="tageditinput_"+b;this.submit_progress="tageditprogress_"+b;this.extraparams=d;this.init(a,b,c,e)}
vB_AJAX_TagEditor.prototype.init=function(a,b,c,d){a&&(this.contenttype=a);b&&(this.objectid=b);d&&(this.factory=d);a=YAHOO.util.Dom.get(c+"tag_"+b);YAHOO.util.Event.on(a,"click",this.load,this,!0)};
vB_AJAX_TagEditor.prototype.load=function(a){a&&YAHOO.util.Event.stopEvent(a);vBmenu.activemenu==this.vbmenuname?this.vbmenu.hide():YAHOO.util.Connect.asyncRequest("POST","threadtag.php?popup=1&contenttype="+this.contenttype+"&contentid="+this.objectid,{success:this.display,failure:this.handle_ajax_error,timeout:vB_Default_Timeout,scope:this},SESSIONURL+"securitytoken="+SECURITYTOKEN+"&do=manage&contenttype="+this.contenttype+"&contentid="+this.objectid);return!1};
vB_AJAX_TagEditor.prototype.handle_ajax_error=function(a){vBulletin_AJAX_Error_Handler(a)};vB_AJAX_TagEditor.prototype.handle_ajax_submit_error=function(a){vBulletin_AJAX_Error_Handler(a);this.do_ajax_submit=!1};
vB_AJAX_TagEditor.prototype.display=function(a){if(a.responseXML){var b=a.responseXML.getElementsByTagName("error");b.length?alert(b[0].firstChild.nodeValue):(this.divobj||(this.divobj=document.createElement("div"),this.divobj.id=this.divname,this.divobj.style.display="none",this.divobj.style.width="300px",this.divobj.style.background="#ffffff",this.divobj.style.border="1px solid #000000",this.divobj.style.padding="10px",document.body.appendChild(this.divobj),this.vbmenu=vbmenu_register(this.vbmenuname,
!0),YAHOO.util.Dom.get(this.vbmenu.controlkey).onmouseover="",YAHOO.util.Dom.get(this.vbmenu.controlkey).onclick=""),this.divobj.innerHTML=a.responseXML.getElementsByTagName("tagpopup")[0].firstChild.nodeValue,YAHOO.util.Event.on(this.edit_submit,"click",this.submit_tag_edit,this,!0),YAHOO.util.Event.on(this.edit_cancel,"click",this.cancel_tag_edit,this,!0),YAHOO.util.Event.on(this.divobj,"keydown",this.tagmenu_keypress),YAHOO.util.Dom.get("tag_add_wrapper_menu")&&YAHOO.util.Dom.get(this.edit_input)&&
(tag_add_comp=new vB_AJAX_TagSuggest("tag_add_comp",this.edit_input,"tag_add_wrapper"),tag_add_comp.allow_multiple=!0,(a=a.responseXML.getElementsByTagName("delimiters")[0])&&a.firstChild&&tag_add_comp.set_delimiters(a.firstChild.nodeValue)),this.vbmenu.show(YAHOO.util.Dom.get(this.vbmenuname)),YAHOO.util.Dom.get(this.edit_input).focus(),YAHOO.util.Dom.get(this.edit_input).focus())}};
vB_AJAX_TagEditor.prototype.tagmenu_keypress=function(a){switch(a.keyCode){case 13:return vB_AJAX_TagEditor_Factory.controls[this.id.split(/_/)[1]].submit_tag_edit(),a&&YAHOO.util.Event.stopEvent(a),!1;default:return!0}};
vB_AJAX_TagEditor.prototype.submit_tag_edit=function(a){if(this.do_ajax_submit){a&&YAHOO.util.Event.stopEvent(a);a=new vB_Hidden_Form("threadtag.php");a.add_variables_from_object(YAHOO.util.Dom.get(this.divobj));for(key in this.extraparams)a.add_variable(key,this.extraparams[key]);YAHOO.util.Connect.asyncRequest("POST","threadtag.php?contenttype="+this.contenttype+"&contentid="+this.objectid,{success:this.handle_ajax_submit,failure:this.handle_ajax_submit_error,timeout:vB_Default_Timeout,scope:this},
a.build_query_string());YAHOO.util.Dom.get(this.submit_progress)&&(YAHOO.util.Dom.get(this.submit_progress).style.display="")}};vB_AJAX_TagEditor.prototype.cancel_tag_edit=function(){this.vbmenu.hide()};
vB_AJAX_TagEditor.prototype.handle_ajax_submit=function(a){if(a.responseXML){var b=a.responseXML.getElementsByTagName("error");b.length?alert(b[0].firstChild.nodeValue):(b=a.responseXML.getElementsByTagName("taghtml"),b.length&&b[0].firstChild&&""!==b[0].firstChild.nodeValue?(YAHOO.util.Dom.get(this.tag_list).innerHTML=b[0].firstChild.nodeValue,YAHOO.util.Dom.get(this.tag_container).style.display=""):YAHOO.util.Dom.get(this.tag_container).style.display="none",a=a.responseXML.getElementsByTagName("warning"),
a.length&&a[0].firstChild&&alert(a[0].firstChild.nodeValue),this.vbmenu.hide())}else this.vbmenu.hide();YAHOO.util.Dom.get(this.submit_progress)&&(YAHOO.util.Dom.get(this.submit_progress).style.display="none")};
